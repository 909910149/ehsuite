Ext.ns("Ext.ux.tree");Ext.ux.tree.ColumnTree=Ext.extend(Ext.tree.TreePanel,{lines:false,borderWidth:Ext.isBorderBox?0:2,cls:"x-column-tree",onRender:function(){Ext.tree.ColumnTree.superclass.onRender.apply(this,arguments);this.headers=this.header.createChild({cls:"x-tree-headers"});var j=this.columns,i;var c=0;var l=19;for(var k=0,h=j.length;k<h;k++){i=j[k];c+=i.width;this.headers.createChild({cls:"x-tree-hd "+(i.cls?i.cls+"-hd":""),cn:{cls:"x-tree-hd-text",html:i.header},style:"width:"+(i.width-this.borderWidth)+"px;"});}this.headers.createChild({cls:"x-clear"});this.headers.setWidth(c+l);this.innerCt.setWidth(c);}});Ext.reg("columntree",Ext.ux.tree.ColumnTree);Ext.tree.ColumnTree=Ext.ux.tree.ColumnTree;Ext.ux.tree.ColumnNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{focus:Ext.emptyFn,renderElements:function(w,i,s,c){this.indentMarkup=w.parentNode?w.parentNode.ui.getChildIndent():"";var a=w.getOwnerTree();var n=a.columns;var q=a.borderWidth;var r=n[0];var x=['<li class="x-tree-node"><div ext:tree-node-id="',w.id,'" class="x-tree-node-el x-tree-node-leaf ',i.cls,'">','<div class="x-tree-col" style="width:',r.width-q,'px;">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow">','<img src="',i.icon||this.emptyIcon,'" class="x-tree-node-icon',(i.icon?" x-tree-node-inline-icon":""),(i.iconCls?" "+i.iconCls:""),'" unselectable="on">','<a hidefocus="on" class="x-tree-node-anchor" href="',i.href?i.href:"#",'" tabIndex="1" ',i.hrefTarget?' target="'+i.hrefTarget+'"':"",">",'<span unselectable="on">',w.text||(r.renderer?r.renderer(i[r.dataIndex],w,i):i[r.dataIndex]),"</span></a>","</div>"];for(var v=1,t=n.length;v<t;v++){r=n[v];x.push('<div class="x-tree-col ',(r.cls?r.cls:""),'" style="width:',r.width-q,'px;">','<div class="x-tree-col-text">',(r.renderer?r.renderer(i[r.dataIndex],w,i):i[r.dataIndex]),"</div>","</div>");}x.push('<div class="x-clear"></div></div>','<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>");if(c!==true&&w.nextSibling&&w.nextSibling.ui.getEl()){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",w.nextSibling.ui.getEl(),x.join(""));}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",s,x.join(""));}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var u=this.elNode.firstChild.childNodes;this.indentNode=u[0];this.ecNode=u[1];this.iconNode=u[2];this.anchor=u[3];this.textNode=u[3].firstChild;}});Ext.tree.ColumnNodeUI=Ext.ux.tree.ColumnNodeUI;