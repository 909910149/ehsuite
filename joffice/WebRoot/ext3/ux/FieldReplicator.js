Ext.ns("Ext.ux");Ext.ux.FieldReplicator={init:function(b){b.replicator=this;b.enableKeyEvents=true;b.on("change",this.onChange,this);b.onKeyDown=b.onKeyDown.createInterceptor(this.onKeyDown);},onKeyDown:function(b){if((b.getKey()==Ext.EventObject.TAB)&&(String(this.startValue)!==String(this.getValue()))){if(b.shiftKey){this.focusPrev=true;}else{if(!b.shiftKey&&!b.altKey){this.focusNext=true;}}}},onChange:function(n,j,l){n.startValue=j;var k=n.ownerCt,f,m=n.previousSibling(),c=n.nextSibling();if(Ext.isEmpty(j)){if(!Ext.isEmpty(l)){if((m&&(m.replicator===this))||(c&&(c.replicator===this))){f=n.findParentBy(function(a){return !Ext.isDefined(a.ownerCt);});k.remove(n);f.doLayout();}}}else{if(Ext.isEmpty(l)){c=new n.constructor(n.cloneConfig());k.insert(k.items.indexOf(n)+1,c);k.doLayout();f=n.findParentBy(function(a){return !Ext.isDefined(a.ownerCt);});f.doLayout();}}if(n.focusPrev){delete n.focusPrev;m.focus(false,true);}else{if(n.focusNext){delete n.focusNext;c.focus(false,true);}}}};