Ext.DataView.LabelEditor=Ext.extend(Ext.Editor,{alignment:"tl-tl",hideEl:false,cls:"x-small-editor",shim:false,completeOnEnter:true,cancelOnEsc:true,labelSelector:"span.x-editable",constructor:function(d,c){Ext.DataView.LabelEditor.superclass.constructor.call(this,c||new Ext.form.TextField({allowBlank:false,growMin:90,growMax:240,grow:true,selectOnFocus:true}),d);},init:function(b){this.view=b;b.on("render",this.initEditor,this);this.on("complete",this.onSave,this);},initEditor:function(){this.view.on({scope:this,containerclick:this.doBlur,click:this.doBlur});this.view.getEl().on("mousedown",this.onMouseDown,this,{delegate:this.labelSelector});},doBlur:function(){if(this.editing){this.field.blur();}},onMouseDown:function(g,h){if(!g.ctrlKey&&!g.shiftKey){var e=this.view.findItemFromChild(h);g.stopEvent();var f=this.view.store.getAt(this.view.indexOf(e));this.startEdit(h,f.data[this.dataIndex]);this.activeRecord=f;}else{g.preventDefault();}},onSave:function(d,c){this.activeRecord.set(this.dataIndex,c);}});Ext.DataView.DragSelector=function(y){y=y||{};var v,w,t;var A,u,s=new Ext.lib.Region(0,0,0,0);var C=y.dragSafe===true;this.init=function(a){v=a;v.on("render",p);};function r(){A=[];v.all.each(function(a){A[A.length]=a.getRegion();});u=v.el.getRegion();}function z(){return false;}function x(a){return !C||a.target==v.el.dom;}function q(a){v.on("containerclick",z,v,{single:true});if(!w){w=v.el.createChild({cls:"x-view-selector"});}else{if(w.dom.parentNode!==v.el.dom){v.el.dom.appendChild(w.dom);}w.setDisplayed("block");}r();v.clearSelections();}function B(h){var g=t.startXY;var a=t.getXY();var e=Math.min(g[0],a[0]);var f=Math.min(g[1],a[1]);var c=Math.abs(g[0]-a[0]);var j=Math.abs(g[1]-a[1]);s.left=e;s.top=f;s.right=e+c;s.bottom=f+j;s.constrainTo(u);w.setRegion(s);for(var k=0,i=A.length;k<i;k++){var d=A[k],b=s.intersect(d);if(b&&!d.selected){d.selected=true;v.select(k,true);}else{if(!b&&d.selected){d.selected=false;v.deselect(k);}}}}function D(a){if(!Ext.isIE){v.un("containerclick",z,v);}if(w){w.setDisplayed(false);}}function p(a){t=new Ext.dd.DragTracker({onBeforeStart:x,onStart:q,onDrag:B,onEnd:D});t.initEl(a.el);}};