Ext.ux.PanelResizer=Ext.extend(Ext.util.Observable,{minHeight:0,maxHeight:10000000,constructor:function(b){Ext.apply(this,b);this.events={};Ext.ux.PanelResizer.superclass.constructor.call(this,b);},init:function(b){this.panel=b;if(this.panel.elements.indexOf("footer")==-1){b.elements+=",footer";}b.on("render",this.onRender,this);},onRender:function(b){this.handle=b.footer.createChild({cls:"x-panel-resize"});this.tracker=new Ext.dd.DragTracker({onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(this.handle);b.on("beforedestroy",this.tracker.destroy,this.tracker);},onDragStart:function(b){this.dragging=true;this.startHeight=this.panel.el.getHeight();this.fireEvent("dragstart",this,b);},onDrag:function(b){this.panel.setHeight((this.startHeight-this.tracker.getOffset()[1]).constrain(this.minHeight,this.maxHeight));this.fireEvent("drag",this,b);},onDragEnd:function(b){this.dragging=false;this.fireEvent("dragend",this,b);}});Ext.preg("panelresizer",Ext.ux.PanelResizer);