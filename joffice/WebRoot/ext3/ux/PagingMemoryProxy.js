if(!Array.prototype.map){Array.prototype.map=function(f){var g=this.length;if(typeof f!="function"){throw new TypeError();}var h=new Array(g);var i=arguments[1];for(var j=0;j<g;j++){if(j in this){h[j]=f.call(i,this[j],j,this);}}return h;};}Ext.ns("Ext.ux.data");Ext.ux.data.PagingMemoryProxy=Ext.extend(Ext.data.MemoryProxy,{constructor:function(b){Ext.ux.data.PagingMemoryProxy.superclass.constructor.call(this);this.data=b;},doRequest:function(t,s,u,r,o,n,m){u=u||{};var e;try{e=r.readRecords(this.data);}catch(q){this.fireEvent("loadexception",this,m,null,q);o.call(n,null,m,false);return;}if(u.filter!==undefined){e.records=e.records.filter(function(a){if(typeof(a)=="object"){var b=u.filterCol||0;return String(a.data[b]).match(u.filter)?true:false;}else{return String(a).match(u.filter)?true:false;}});e.totalRecords=e.records.length;}if(u.sort!==undefined){var v=String(u.dir).toUpperCase()=="DESC"?-1:1;var p=function(a,b){return a>b?1:(a<b?-1:0);};e.records.sort(function(a,b){var c=0;if(typeof(a)=="object"){c=p(a.data[u.sort],b.data[u.sort])*v;}else{c=p(a,b)*v;}if(c==0){c=(a.index<b.index?-1:1);}return c;});}if(u.start!==undefined&&u.limit!==undefined){e.records=e.records.slice(u.start,u.start+u.limit);}o.call(n,e,m,true);}});Ext.data.PagingMemoryProxy=Ext.ux.data.PagingMemoryProxy;