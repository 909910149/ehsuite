Ext.ux.tree.TreeGridNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{isTreeGridNodeUI:true,renderElements:function(u,i,q,c){var a=u.getOwnerTree(),n=a.columns,p=n[0],t,v,r;this.indentMarkup=u.parentNode?u.parentNode.ui.getChildIndent():"";v=['<tbody class="x-tree-node">','<tr ext:tree-node-id="',u.id,'" class="x-tree-node-el x-tree-node-leaf ',i.cls,'">','<td class="x-treegrid-col">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow">','<img src="',i.icon||this.emptyIcon,'" class="x-tree-node-icon',(i.icon?" x-tree-node-inline-icon":""),(i.iconCls?" "+i.iconCls:""),'" unselectable="on">','<a hidefocus="on" class="x-tree-node-anchor" href="',i.href?i.href:"#",'" tabIndex="1" ',i.hrefTarget?' target="'+i.hrefTarget+'"':"",">",'<span unselectable="on">',(p.tpl?p.tpl.apply(i):i[p.dataIndex]||p.text),"</span></a>","</td>"];for(t=1,r=n.length;t<r;t++){p=n[t];v.push('<td class="x-treegrid-col ',(p.cls?p.cls:""),'">','<div unselectable="on" class="x-treegrid-text"',(p.align?' style="text-align: '+p.align+';"':""),">",(p.tpl?p.tpl.apply(i):i[p.dataIndex]),"</div>","</td>");}v.push('</tr><tr class="x-tree-node-ct"><td colspan="',n.length,'">','<table class="x-treegrid-node-ct-table" cellpadding="0" cellspacing="0" style="table-layout: fixed; display: none; width: ',a.innerCt.getWidth(),'px;"><colgroup>');for(t=0,r=n.length;t<r;t++){v.push('<col style="width: ',(n[t].hidden?0:n[t].width),'px;" />');}v.push("</colgroup></table></td></tr></tbody>");if(c!==true&&u.nextSibling&&u.nextSibling.ui.getEl()){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",u.nextSibling.ui.getEl(),v.join(""));}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",q,v.join(""));}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1].firstChild.firstChild;var s=this.elNode.firstChild.childNodes;this.indentNode=s[0];this.ecNode=s[1];this.iconNode=s[2];this.anchor=s[3];this.textNode=s[3].firstChild;},animExpand:function(b){this.ctNode.style.display="";Ext.ux.tree.TreeGridNodeUI.superclass.animExpand.call(this,b);}});Ext.ux.tree.TreeGridRootNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{isTreeGridNodeUI:true,render:function(){if(!this.rendered){this.wrap=this.ctNode=this.node.ownerTree.innerCt.dom;this.node.expanded=true;}if(Ext.isWebKit){var b=this.ctNode;b.style.tableLayout=null;(function(){b.style.tableLayout="fixed";}).defer(1);}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id);}delete this.node;},collapse:Ext.emptyFn,expand:Ext.emptyFn});