Ext.ns("Ext.ux.menu");Ext.ux.menu.RangeMenu=Ext.extend(Ext.menu.Menu,{constructor:function(l){Ext.ux.menu.RangeMenu.superclass.constructor.call(this,l);this.addEvents("update");this.updateTask=new Ext.util.DelayedTask(this.fireUpdate,this);var k,h,j,g,i;for(k=0,h=this.menuItems.length;k<h;k++){j=this.menuItems[k];if(j!=="-"){g={itemId:"range-"+j,enableKeyEvents:true,iconCls:this.iconCls[j]||"no-icon",listeners:{scope:this,keyup:this.onInputKeyUp}};Ext.apply(g,Ext.applyIf(this.fields[j]||{},this.fieldCfg[j]),this.menuItemCfgs);i=g.fieldCls||this.fieldCls;j=this.fields[j]=new i(g);}this.add(j);}},fireUpdate:function(){this.fireEvent("update",this);},getValue:function(){var e={},d,f;for(d in this.fields){f=this.fields[d];if(f.isValid()&&String(f.getValue()).length>0){e[d]=f.getValue();}}return e;},setValue:function(c){var d;for(d in this.fields){this.fields[d].setValue(c[d]!==undefined?c[d]:"");}this.fireEvent("update",this);},onInputKeyUp:function(f,d){var e=d.getKey();if(e==d.RETURN&&f.isValid()){d.stopEvent();this.hide(true);return;}if(f==this.fields.eq){if(this.fields.gt){this.fields.gt.setValue(null);}if(this.fields.lt){this.fields.lt.setValue(null);}}else{this.fields.eq.setValue(null);}this.updateTask.delay(this.updateBuffer);}});