Ext.ux.Spotlight=function(b){Ext.apply(this,b);};Ext.ux.Spotlight.prototype={active:false,animate:true,duration:0.25,easing:"easeNone",animated:false,createElements:function(){var b=Ext.getBody();this.right=b.createChild({cls:"x-spotlight"});this.left=b.createChild({cls:"x-spotlight"});this.top=b.createChild({cls:"x-spotlight"});this.bottom=b.createChild({cls:"x-spotlight"});this.all=new Ext.CompositeElement([this.right,this.left,this.top,this.bottom]);},show:function(d,f,e){if(this.animated){this.show.defer(50,this,[d,f,e]);return;}this.el=Ext.get(d);if(!this.right){this.createElements();}if(!this.active){this.all.setDisplayed("");this.applyBounds(true,false);this.active=true;Ext.EventManager.onWindowResize(this.syncSize,this);this.applyBounds(false,this.animate,false,f,e);}else{this.applyBounds(false,false,false,f,e);}},hide:function(c,d){if(this.animated){this.hide.defer(50,this,[c,d]);return;}Ext.EventManager.removeResizeListener(this.syncSize,this);this.applyBounds(true,this.animate,true,c,d);},doHide:function(){this.active=false;this.all.setDisplayed(false);},syncSize:function(){this.applyBounds(false,false);},applyBounds:function(q,r,l,m,c){var n=this.el.getRegion();var t=Ext.lib.Dom.getViewWidth(true);var o=Ext.lib.Dom.getViewHeight(true);var p=0,s=false;if(r){s={callback:function(){p++;if(p==4){this.animated=false;if(l){this.doHide();}Ext.callback(m,c,[this]);}},scope:this,duration:this.duration,easing:this.easing};this.animated=true;}this.right.setBounds(n.right,q?o:n.top,t-n.right,q?0:(o-n.top),s);this.left.setBounds(0,0,n.left,q?0:n.bottom,s);this.top.setBounds(q?t:n.left,0,q?0:t-n.left,n.top,s);this.bottom.setBounds(0,n.bottom,q?0:n.right,o-n.bottom,s);if(!r){if(l){this.doHide();}if(m){Ext.callback(m,c,[this]);}}},destroy:function(){this.doHide();Ext.destroy(this.right,this.left,this.top,this.bottom);delete this.el;delete this.all;}};Ext.Spotlight=Ext.ux.Spotlight;