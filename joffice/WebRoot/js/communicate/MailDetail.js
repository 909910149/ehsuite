MailDetail=Ext.extend(Ext.Panel,{constructor:function(b){Ext.applyIf(this,b);this.initUI();MailDetail.superclass.constructor.call(this,{id:"MailDetail",title:"我的邮件",iconCls:"menu-mail",border:false,tbar:this.toolbar,autoLoad:{url:__ctxPath+"/communicate/getMail.do?",params:{mailId:this.mailId,boxId:this.boxId},method:"Post"}});},initUI:function(){var d=this.mailId;var c=this.boxId;this.toolbar=new Ext.Toolbar({height:30,defaultType:"button",bodyStyle:"text-align:left",items:[{iconCls:"btn-mail_reply",text:"回复",handler:function(){var b=Ext.getCmp("centerTabPanel");var a=Ext.getCmp("MailForm");if(a==null){a=new MailForm(d,c,"reply");b.add(a);b.activate(a);}else{b.remove(a);a=new MailForm(d,c,"reply");b.add(a);b.activate(a);}}},{iconCls:"btn-mail_resend",text:"转发",handler:function(){var b=Ext.getCmp("centerTabPanel");var a=Ext.getCmp("MailForm");if(a==null){a=new MailForm(d,c,"forward");b.add(a);b.activate(a);}else{b.remove(a);a=new MailForm(d,c,"forward");b.add(a);b.activate(a);}}}]});}});