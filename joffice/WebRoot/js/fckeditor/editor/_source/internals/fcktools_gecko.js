FCKTools.CancelEvent=function(b){if(b){b.preventDefault();}};FCKTools.DisableSelection=function(b){if(FCKBrowserInfo.IsGecko){b.style.MozUserSelect="none";}else{if(FCKBrowserInfo.IsSafari){b.style.KhtmlUserSelect="none";}else{b.style.userSelect="none";}}};FCKTools._AppendStyleSheet=function(d,e){var f=d.createElement("LINK");f.rel="stylesheet";f.type="text/css";f.href=e;d.getElementsByTagName("HEAD")[0].appendChild(f);return f;};FCKTools.AppendStyleString=function(e,f){if(!f){return null;}var d=e.createElement("STYLE");d.appendChild(e.createTextNode(f));e.getElementsByTagName("HEAD")[0].appendChild(d);return d;};FCKTools.ClearElementAttributes=function(c){for(var d=0;d<c.attributes.length;d++){c.removeAttribute(c.attributes[d].name,0);}};FCKTools.GetAllChildrenIds=function(e){var f=new Array();var d=function(a){for(var b=0;b<a.childNodes.length;b++){var c=a.childNodes[b].id;if(c&&c.length>0){f[f.length]=c;}d(a.childNodes[b]);}};d(e);return f;};FCKTools.RemoveOuterTags=function(f){var d=f.ownerDocument.createDocumentFragment();for(var e=0;e<f.childNodes.length;e++){d.appendChild(f.childNodes[e].cloneNode(true));}f.parentNode.replaceChild(d,f);};FCKTools.CreateXmlObject=function(d){switch(d){case"XmlHttp":return new XMLHttpRequest();case"DOMDocument":var c=(new DOMParser()).parseFromString("<tmp></tmp>","text/xml");FCKDomTools.RemoveNode(c.firstChild);return c;}return null;};FCKTools.GetScrollPosition=function(b){return{X:b.pageXOffset,Y:b.pageYOffset};};FCKTools.AddEventListener=function(f,e,d){f.addEventListener(e,d,false);};FCKTools.RemoveEventListener=function(f,e,d){f.removeEventListener(e,d,false);};FCKTools.AddEventListenerEx=function(g,f,e,h){g.addEventListener(f,function(a){e.apply(g,[a].concat(h||[]));},false);};FCKTools.GetViewPaneSize=function(b){return{Width:b.innerWidth,Height:b.innerHeight};};FCKTools.SaveStyles=function(h){var g=FCKTools.ProtectFormStyles(h);var e=new Object();if(h.className.length>0){e.Class=h.className;h.className="";}var f=h.getAttribute("style");if(f&&f.length>0){e.Inline=f;h.setAttribute("style","",0);}FCKTools.RestoreFormStyles(h,g);return e;};FCKTools.RestoreStyles=function(d,e){var f=FCKTools.ProtectFormStyles(d);d.className=e.Class||"";if(e.Inline){d.setAttribute("style",e.Inline,0);}else{d.removeAttribute("style",0);}FCKTools.RestoreFormStyles(d,f);};FCKTools.RegisterDollarFunction=function(b){b.$=function(a){return b.document.getElementById(a);};};FCKTools.AppendElement=function(c,d){return c.appendChild(c.ownerDocument.createElement(d));};FCKTools.GetElementPosition=function(o,c){var k={X:0,Y:0};var j=c||window;var n=FCKTools.GetElementWindow(o);var p=null;while(o){var l=n.getComputedStyle(o,"").position;if(l&&l!="static"&&o.style.zIndex!=FCKConfig.FloatingPanelsZIndex){break;}k.X+=o.offsetLeft-o.scrollLeft;k.Y+=o.offsetTop-o.scrollTop;if(!FCKBrowserInfo.IsOpera){var m=p;while(m&&m!=o){k.X-=m.scrollLeft;k.Y-=m.scrollTop;m=m.parentNode;}}p=o;if(o.offsetParent){o=o.offsetParent;}else{if(n!=j){o=n.frameElement;p=null;if(o){n=FCKTools.GetElementWindow(o);}}else{k.X+=o.scrollLeft;k.Y+=o.scrollTop;break;}}}return k;};