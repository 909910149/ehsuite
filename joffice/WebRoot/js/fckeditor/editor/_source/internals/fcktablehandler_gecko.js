FCKTableHandler.GetSelectedCells=function(){var h=new Array();var k=FCKSelection.GetSelection();if(k.rangeCount==1&&k.anchorNode.nodeType==3){var j=FCKTools.GetElementAscensor(k.anchorNode,"TD,TH");if(j){h[0]=j;}return h;}for(var l=0;l<k.rangeCount;l++){var i=k.getRangeAt(l);var g;if(i.startContainer.tagName.Equals("TD","TH")){g=i.startContainer;}else{g=i.startContainer.childNodes[i.startOffset];}if(g.nodeName.Equals("TD","TH")){h[h.length]=g;}}return h;};