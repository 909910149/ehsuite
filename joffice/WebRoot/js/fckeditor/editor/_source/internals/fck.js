var FCK={Name:FCKURLParams["InstanceName"],Status:FCK_STATUS_NOTLOADED,EditMode:FCK_EDITMODE_WYSIWYG,Toolbar:null,HasFocus:false,DataProcessor:new FCKDataProcessor(),GetInstanceObject:(function(){var b=window;return function(a){return b[a];};})(),AttachToOnSelectionChange:function(b){this.Events.AttachEvent("OnSelectionChange",b);},GetLinkedFieldValue:function(){return this.LinkedField.value;},GetParentForm:function(){return this.LinkedField.form;},StartupValue:"",IsDirty:function(){if(this.EditMode==FCK_EDITMODE_SOURCE){return(this.StartupValue!=this.EditingArea.Textarea.value);}else{if(!this.EditorDocument){return false;}return(this.StartupValue!=this.EditorDocument.body.innerHTML);}},ResetIsDirty:function(){if(this.EditMode==FCK_EDITMODE_SOURCE){this.StartupValue=this.EditingArea.Textarea.value;}else{if(this.EditorDocument.body){this.StartupValue=this.EditorDocument.body.innerHTML;}}},StartEditor:function(){this.TempBaseTag=FCKConfig.BaseHref.length>0?'<base href="'+FCKConfig.BaseHref+'" _fcktemp="true"></base>':"";var b=FCK.KeystrokeHandler=new FCKKeystrokeHandler();b.OnKeystroke=_FCK_KeystrokeHandler_OnKeystroke;b.SetKeystrokes(FCKConfig.Keystrokes);if(FCKBrowserInfo.IsIE7){if((CTRL+86) in b.Keystrokes){b.SetKeystrokes([CTRL+86,true]);}if((SHIFT+45) in b.Keystrokes){b.SetKeystrokes([SHIFT+45,true]);}}b.SetKeystrokes([CTRL+8,true]);this.EditingArea=new FCKEditingArea(document.getElementById("xEditingArea"));this.EditingArea.FFSpellChecker=FCKConfig.FirefoxSpellChecker;this.SetData(this.GetLinkedFieldValue(),true);FCKTools.AddEventListener(document,"keydown",this._TabKeyHandler);this.AttachToOnSelectionChange(_FCK_PaddingNodeListener);if(FCKBrowserInfo.IsGecko){this.AttachToOnSelectionChange(this._ExecCheckEmptyBlock);}},Focus:function(){FCK.EditingArea.Focus();},SetStatus:function(b){this.Status=b;if(b==FCK_STATUS_ACTIVE){FCKFocusManager.AddWindow(window,true);if(FCKBrowserInfo.IsIE){FCKFocusManager.AddWindow(window.frameElement,true);}if(FCKConfig.StartupFocus){FCK.Focus();}}this.Events.FireEvent("OnStatusChange",b);},FixBody:function(){var l=FCKConfig.EnterMode;if(l!="p"&&l!="div"){return;}var p=this.EditorDocument;if(!p){return;}var i=p.body;if(!i){return;}FCKDomTools.TrimNode(i);var m=i.firstChild;var j;while(m){var o=false;switch(m.nodeType){case 1:var k=m.nodeName.toLowerCase();if(!FCKListsLib.BlockElements[k]&&k!="li"&&!m.getAttribute("_fckfakelement")&&m.getAttribute("_moz_dirty")==null){o=true;}break;case 3:if(j||m.nodeValue.Trim().length>0){o=true;}break;case 8:if(j){o=true;}break;}if(o){var n=m.parentNode;if(!j){j=n.insertBefore(p.createElement(l),m);}j.appendChild(n.removeChild(m));m=j.nextSibling;}else{if(j){FCKDomTools.TrimNode(j);j=null;}m=m.nextSibling;}}if(j){FCKDomTools.TrimNode(j);}},GetData:function(g){FCK.Events.FireEvent("OnBeforeGetData");if(FCK.EditMode==FCK_EDITMODE_SOURCE){return FCK.EditingArea.Textarea.value;}this.FixBody();var e=FCK.EditorDocument;if(!e){return null;}var f=FCKConfig.FullPage;var h=FCK.DataProcessor.ConvertToDataFormat(f?e.documentElement:e.body,!f,FCKConfig.IgnoreEmptyParagraphValue,g);h=FCK.ProtectEventsRestore(h);if(FCKBrowserInfo.IsIE){h=h.replace(FCKRegexLib.ToReplace,"$1");}if(f){if(FCK.DocTypeDeclaration&&FCK.DocTypeDeclaration.length>0){h=FCK.DocTypeDeclaration+"\n"+h;}if(FCK.XmlDeclaration&&FCK.XmlDeclaration.length>0){h=FCK.XmlDeclaration+"\n"+h;}}h=FCKConfig.ProtectedSource.Revert(h);setTimeout(function(){FCK.Events.FireEvent("OnAfterGetData");},0);return h;},UpdateLinkedField:function(){var b=FCK.GetXHTML(FCKConfig.FormatOutput);if(FCKConfig.HtmlEncodeOutput){b=FCKTools.HTMLEncode(b);}FCK.LinkedField.value=b;FCK.Events.FireEvent("OnAfterLinkedFieldUpdate");},RegisteredDoubleClickHandlers:new Object(),OnDoubleClick:function(f){var e=FCK.RegisteredDoubleClickHandlers[f.tagName.toUpperCase()];if(e){for(var d=0;d<e.length;d++){e[d](f);}}e=FCK.RegisteredDoubleClickHandlers["*"];if(e){for(var d=0;d<e.length;d++){e[d](f);}}},RegisterDoubleClickHandler:function(h,f){var g=f||"*";g=g.toUpperCase();var e;if(!(e=FCK.RegisteredDoubleClickHandlers[g])){FCK.RegisteredDoubleClickHandlers[g]=[h];}else{if(e.IndexOf(h)==-1){e.push(h);}}},OnAfterSetHTML:function(){FCKDocumentProcessor.Process(FCK.EditorDocument);FCKUndo.SaveUndoStep();FCK.Events.FireEvent("OnSelectionChange");FCK.Events.FireEvent("OnAfterSetHTML");},ProtectUrls:function(b){b=b.replace(FCKRegexLib.ProtectUrlsA,"$& _fcksavedurl=$1");b=b.replace(FCKRegexLib.ProtectUrlsImg,"$& _fcksavedurl=$1");b=b.replace(FCKRegexLib.ProtectUrlsArea,"$& _fcksavedurl=$1");return b;},ProtectEvents:function(b){return b.replace(FCKRegexLib.TagsWithEvent,_FCK_ProtectEvents_ReplaceTags);},ProtectEventsRestore:function(b){return b.replace(FCKRegexLib.ProtectedEvents,_FCK_ProtectEvents_RestoreEvents);},ProtectTags:function(d){var f=FCKConfig.ProtectedTags;if(FCKBrowserInfo.IsIE){f+=f.length>0?"|ABBR|XML|EMBED|OBJECT":"ABBR|XML|EMBED|OBJECT";}var e;if(f.length>0){e=new RegExp("<("+f+")(?!w|:)","gi");d=d.replace(e,"<FCK:$1");e=new RegExp("</("+f+")>","gi");d=d.replace(e,"</FCK:$1>");}f="META";if(FCKBrowserInfo.IsIE){f+="|HR";}e=new RegExp("<(("+f+")(?=\\s|>|/)[\\s\\S]*?)/?>","gi");d=d.replace(e,"<FCK:$1 />");return d;},SetData:function(f,e){this.EditingArea.Mode=FCK.EditMode;if(FCKBrowserInfo.IsIE&&FCK.EditorDocument){FCK.EditorDocument.detachEvent("onselectionchange",Doc_OnSelectionChange);}FCKTempBin.Reset();FCK.Selection.Release();if(FCK.EditMode==FCK_EDITMODE_WYSIWYG){this._ForceResetIsDirty=(e===true);f=FCKConfig.ProtectedSource.Protect(f);f=FCK.DataProcessor.ConvertToHtml(f);f=f.replace(FCKRegexLib.InvalidSelfCloseTags,"$1></$2>");f=FCK.ProtectEvents(f);f=FCK.ProtectUrls(f);f=FCK.ProtectTags(f);if(FCK.TempBaseTag.length>0&&!FCKRegexLib.HasBaseTag.test(f)){f=f.replace(FCKRegexLib.HeadOpener,"$&"+FCK.TempBaseTag);}var d="";if(!FCKConfig.FullPage){d+=_FCK_GetEditorAreaStyleTags();}if(FCKBrowserInfo.IsIE){d+=FCK._GetBehaviorsStyle();}else{if(FCKConfig.ShowBorders){d+=FCKTools.GetStyleHtml(FCK_ShowTableBordersCSS,true);}}d+=FCKTools.GetStyleHtml(FCK_InternalCSS,true);f=f.replace(FCKRegexLib.HeadCloser,d+"$&");this.EditingArea.OnLoad=_FCK_EditingArea_OnLoad;this.EditingArea.Start(f);}else{FCK.EditorWindow=null;FCK.EditorDocument=null;FCKDomTools.PaddingNode=null;this.EditingArea.OnLoad=null;this.EditingArea.Start(f);this.EditingArea.Textarea._FCKShowContextMenu=true;FCK.EnterKeyHandler=null;if(e){this.ResetIsDirty();}FCK.KeystrokeHandler.AttachToElement(this.EditingArea.Textarea);this.EditingArea.Textarea.focus();FCK.Events.FireEvent("OnAfterSetHTML");}if(window.onresize){window.onresize();}},RedirectNamedCommands:new Object(),ExecuteNamedCommand:function(e,h,f,g){if(!g){FCKUndo.SaveUndoStep();}if(!f&&FCK.RedirectNamedCommands[e]!=null){FCK.ExecuteRedirectedNamedCommand(e,h);}else{FCK.Focus();FCK.EditorDocument.execCommand(e,false,h);FCK.Events.FireEvent("OnSelectionChange");}if(!g){FCKUndo.SaveUndoStep();}},GetNamedCommandState:function(d){try{if(FCKBrowserInfo.IsSafari&&FCK.EditorWindow&&d.IEquals("Paste")){return FCK_TRISTATE_OFF;}if(!FCK.EditorDocument.queryCommandEnabled(d)){return FCK_TRISTATE_DISABLED;}else{return FCK.EditorDocument.queryCommandState(d)?FCK_TRISTATE_ON:FCK_TRISTATE_OFF;}}catch(c){return FCK_TRISTATE_OFF;}},GetNamedCommandValue:function(e){var g="";var f=FCK.GetNamedCommandState(e);if(f==FCK_TRISTATE_DISABLED){return null;}try{g=this.EditorDocument.queryCommandValue(e);}catch(h){}return g?g:"";},Paste:function(b){if(FCK.Status!=FCK_STATUS_COMPLETE||!FCK.Events.FireEvent("OnPaste")){return false;}return b||FCK._ExecPaste();},PasteFromWord:function(){FCKDialog.OpenDialog("FCKDialog_Paste",FCKLang.PasteFromWord,"dialog/fck_paste.html",400,330,"Word");},Preview:function(){var l;if(FCKConfig.FullPage){if(FCK.TempBaseTag.length>0){l=FCK.TempBaseTag+FCK.GetXHTML();}else{l=FCK.GetXHTML();}}else{l=FCKConfig.DocType+'<html dir="'+FCKConfig.ContentLangDirection+'">'+"<head>"+FCK.TempBaseTag+"<title>"+FCKLang.Preview+"</title>"+_FCK_GetEditorAreaStyleTags()+"</head><body"+FCKConfig.GetBodyAttributes()+">"+FCK.GetXHTML()+"</body></html>";}var k=FCKConfig.ScreenWidth*0.8;var i=FCKConfig.ScreenHeight*0.7;var j=(FCKConfig.ScreenWidth-k)/2;var g="";if(FCK_IS_CUSTOM_DOMAIN&&FCKBrowserInfo.IsIE){window._FCKHtmlToLoad=l;g="javascript:void( (function(){"+"document.open() ;"+'document.domain="'+document.domain+'" ;'+"document.write( window.opener._FCKHtmlToLoad );"+"document.close() ;"+"window.opener._FCKHtmlToLoad = null ;"+"})() )";}var h=window.open(g,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+k+",height="+i+",left="+j);if(!FCK_IS_CUSTOM_DOMAIN||!FCKBrowserInfo.IsIE){h.document.write(l);h.document.close();}},SwitchEditMode:function(e){var h=(FCK.EditMode==FCK_EDITMODE_WYSIWYG);var f=FCK.IsDirty();var g;if(h){FCKCommands.GetCommand("ShowBlocks").SaveState();if(!e&&FCKBrowserInfo.IsIE){FCKUndo.SaveUndoStep();}g=FCK.GetXHTML(FCKConfig.FormatSource);if(FCKBrowserInfo.IsIE){FCKTempBin.ToHtml();}if(g==null){return false;}}else{g=this.EditingArea.Textarea.value;}FCK.EditMode=h?FCK_EDITMODE_SOURCE:FCK_EDITMODE_WYSIWYG;FCK.SetData(g,!f);FCK.Focus();FCKTools.RunFunction(FCK.ToolbarSet.RefreshModeState,FCK.ToolbarSet);return true;},InsertElement:function(h){if(typeof h=="string"){h=this.EditorDocument.createElement(h);}var f=h.nodeName.toLowerCase();FCKSelection.Restore();var e=new FCKDomRange(this.EditorWindow);e.MoveToSelection();e.DeleteContents();if(FCKListsLib.BlockElements[f]!=null){if(e.StartBlock){if(e.CheckStartOfBlock()){e.MoveToPosition(e.StartBlock,3);}else{if(e.CheckEndOfBlock()){e.MoveToPosition(e.StartBlock,4);}else{e.SplitBlock();}}}e.InsertNode(h);var g=FCKDomTools.GetNextSourceElement(h,false,null,["hr","br","param","img","area","input"],true);if(!g&&FCKConfig.EnterMode!="br"){g=this.EditorDocument.body.appendChild(this.EditorDocument.createElement(FCKConfig.EnterMode));if(FCKBrowserInfo.IsGeckoLike){FCKTools.AppendBogusBr(g);}}if(FCKListsLib.EmptyElements[f]==null){e.MoveToElementEditStart(h);}else{if(g){e.MoveToElementEditStart(g);}else{e.MoveToPosition(h,4);}}if(FCKBrowserInfo.IsGeckoLike){if(g){FCKDomTools.ScrollIntoView(g,false);}FCKDomTools.ScrollIntoView(h,false);}}else{e.InsertNode(h);e.SetStart(h,4);e.SetEnd(h,4);}e.Select();e.Release();this.Focus();return h;},_InsertBlockElement:function(b){},_IsFunctionKey:function(b){if(b>=16&&b<=20){return true;}if(b==27||(b>=33&&b<=40)){return true;}if(b==45){return true;}return false;},_KeyDownListener:function(b){if(!b){b=FCK.EditorWindow.event;}if(FCK.EditorWindow){if(!FCK._IsFunctionKey(b.keyCode)&&!(b.ctrlKey||b.metaKey)&&!(b.keyCode==46)){FCK._KeyDownUndo();}}return true;},_KeyDownUndo:function(){if(!FCKUndo.Typing){FCKUndo.SaveUndoStep();FCKUndo.Typing=true;FCK.Events.FireEvent("OnSelectionChange");}FCKUndo.TypesCount++;FCKUndo.Changed=1;if(FCKUndo.TypesCount>FCKUndo.MaxTypes){FCKUndo.TypesCount=0;FCKUndo.SaveUndoStep();}},_TabKeyHandler:function(m){if(!m){m=window.event;}var j=m.keyCode;if(j==9&&FCK.EditMode!=FCK_EDITMODE_WYSIWYG){if(FCKBrowserInfo.IsIE){var l=document.selection.createRange();if(l.parentElement()!=FCK.EditingArea.Textarea){return true;}l.text="\t";l.select();}else{var n=[];var k=FCK.EditingArea.Textarea;var i=k.selectionStart;var a=k.selectionEnd;n.push(k.value.substr(0,i));n.push("\t");n.push(k.value.substr(a));k.value=n.join("");k.setSelectionRange(i+1,i+1);}if(m.preventDefault){return m.preventDefault();}return m.returnValue=false;}return true;}};FCK.Events=new FCKEvents(FCK);FCK.GetHTML=FCK.GetXHTML=FCK.GetData;FCK.SetHTML=FCK.SetData;FCK.InsertElementAndGetIt=FCK.CreateElement=FCK.InsertElement;function _FCK_ProtectEvents_ReplaceTags(b){return b.replace(FCKRegexLib.EventAttributes,_FCK_ProtectEvents_ReplaceEvents);}function _FCK_ProtectEvents_ReplaceEvents(d,c){return" "+c+'_fckprotectedatt="'+encodeURIComponent(d)+'"';}function _FCK_ProtectEvents_RestoreEvents(d,c){return decodeURIComponent(c);}function _FCK_MouseEventsListener(b){if(!b){b=window.event;}if(b.type=="mousedown"){FCK.MouseDownFlag=true;}else{if(b.type=="mouseup"){FCK.MouseDownFlag=false;}else{if(b.type=="mousemove"){FCK.Events.FireEvent("OnMouseMove",b);}}}}function _FCK_PaddingNodeListener(){if(FCKConfig.EnterMode.IEquals("br")){return;}FCKDomTools.EnforcePaddingNode(FCK.EditorDocument,FCKConfig.EnterMode);if(!FCKBrowserInfo.IsIE&&FCKDomTools.PaddingNode){var h=FCKSelection.GetSelection();if(h&&h.rangeCount==1){var j=h.getRangeAt(0);if(j.collapsed&&j.startContainer==FCK.EditorDocument.body&&j.startOffset==0){j.selectNodeContents(FCKDomTools.PaddingNode);j.collapse(true);h.removeAllRanges();h.addRange(j);}}}else{if(FCKDomTools.PaddingNode){var f=FCKSelection.GetParentElement();var g=FCKDomTools.PaddingNode;if(f&&f.nodeName.IEquals("body")){if(FCK.EditorDocument.body.childNodes.length==1&&FCK.EditorDocument.body.firstChild==g){if(FCKSelection._GetSelectionDocument(FCK.EditorDocument.selection)!=FCK.EditorDocument){return;}var j=FCK.EditorDocument.body.createTextRange();var i=false;if(!g.childNodes.firstChild){g.appendChild(FCKTools.GetElementDocument(g).createTextNode("\ufeff"));i=true;}j.moveToElementText(g);j.select();if(i){j.pasteHTML("");}}}}}}function _FCK_EditingArea_OnLoad(){FCK.EditorWindow=FCK.EditingArea.Window;FCK.EditorDocument=FCK.EditingArea.Document;if(FCKBrowserInfo.IsIE){FCKTempBin.ToElements();}FCK.InitializeBehaviors();FCK.MouseDownFlag=false;FCKTools.AddEventListener(FCK.EditorDocument,"mousemove",_FCK_MouseEventsListener);FCKTools.AddEventListener(FCK.EditorDocument,"mousedown",_FCK_MouseEventsListener);FCKTools.AddEventListener(FCK.EditorDocument,"mouseup",_FCK_MouseEventsListener);if(FCKBrowserInfo.IsSafari){FCKTools.AddEventListener(FCK.EditorDocument,"paste",function(a){var h=new FCKDomRange(FCK.EditorWindow);var g=FCK.EditorDocument.createTextNode("\ufeff");var f=FCK.EditorDocument.createElement("a");f.id="fck_paste_padding";f.innerHTML="&#65279;";h.MoveToSelection();h.DeleteContents();h.InsertNode(g);h.Collapse();h.InsertNode(f);h.MoveToPosition(f,3);h.Select();setTimeout(function(){g.parentNode.removeChild(g);f=FCK.EditorDocument.getElementById("fck_paste_padding");f.parentNode.removeChild(f);},0);});}if(FCKBrowserInfo.IsSafari){var b=function(a){if(!(a.ctrlKey||a.metaKey)){return;}if(FCK.EditMode!=FCK_EDITMODE_WYSIWYG){return;}switch(a.keyCode){case 89:FCKUndo.Redo();break;case 90:FCKUndo.Undo();break;}};FCKTools.AddEventListener(FCK.EditorDocument,"keyup",b);}FCK.EnterKeyHandler=new FCKEnterKey(FCK.EditorWindow,FCKConfig.EnterMode,FCKConfig.ShiftEnterMode,FCKConfig.TabSpaces);FCK.KeystrokeHandler.AttachToElement(FCK.EditorDocument);if(FCK._ForceResetIsDirty){FCK.ResetIsDirty();}if(FCKBrowserInfo.IsIE&&FCK.HasFocus){FCK.EditorDocument.body.setActive();}FCK.OnAfterSetHTML();FCKCommands.GetCommand("ShowBlocks").RestoreState();if(FCK.Status!=FCK_STATUS_NOTLOADED){return;}FCK.SetStatus(FCK_STATUS_ACTIVE);}function _FCK_GetEditorAreaStyleTags(){return FCKTools.GetStyleHtml(FCKConfig.EditorAreaCSS)+FCKTools.GetStyleHtml(FCKConfig.EditorAreaStyles);}function _FCK_KeystrokeHandler_OnKeystroke(d,e){if(FCK.Status!=FCK_STATUS_COMPLETE){return false;}if(FCK.EditMode==FCK_EDITMODE_WYSIWYG){switch(e){case"Paste":return !FCK.Paste();case"Cut":FCKUndo.SaveUndoStep();return false;}}else{if(e.Equals("Paste","Undo","Redo","SelectAll","Cut")){return false;}}var f=FCK.Commands.GetCommand(e);if(f.GetState()==FCK_TRISTATE_DISABLED){return false;}return(f.Execute.apply(f,FCKTools.ArgumentsToArray(arguments,2))!==false);}(function(){var e=window.parent.document;var f=e.getElementById(FCK.Name);var d=0;while(f||d==0){if(f&&f.tagName.toLowerCase().Equals("input","textarea")){FCK.LinkedField=f;break;}f=e.getElementsByName(FCK.Name)[d++];}})();var FCKTempBin={Elements:new Array(),AddElement:function(d){var c=this.Elements.length;this.Elements[c]=d;return c;},RemoveElement:function(d){var c=this.Elements[d];this.Elements[d]=null;return c;},Reset:function(){var b=0;while(b<this.Elements.length){this.Elements[b++]=null;}this.Elements.length=0;},ToHtml:function(){for(var b=0;b<this.Elements.length;b++){this.Elements[b]="<div>&nbsp;"+this.Elements[b].outerHTML+"</div>";this.Elements[b].isHtml=true;}},ToElements:function(){var c=FCK.EditorDocument.createElement("div");for(var d=0;d<this.Elements.length;d++){if(this.Elements[d].isHtml){c.innerHTML=this.Elements[d];this.Elements[d]=c.firstChild.removeChild(c.firstChild.lastChild);}}}};var FCKFocusManager=FCK.FocusManager={IsLocked:false,AddWindow:function(f,d){var e;if(FCKBrowserInfo.IsIE){e=f.nodeType==1?f:f.frameElement?f.frameElement:f.document;}else{if(FCKBrowserInfo.IsSafari){e=f;}else{e=f.document;}}FCKTools.AddEventListener(e,"blur",FCKFocusManager_Win_OnBlur);FCKTools.AddEventListener(e,"focus",d?FCKFocusManager_Win_OnFocus_Area:FCKFocusManager_Win_OnFocus);},RemoveWindow:function(b){if(FCKBrowserInfo.IsIE){oTarget=b.nodeType==1?b:b.frameElement?b.frameElement:b.document;}else{oTarget=b.document;}FCKTools.RemoveEventListener(oTarget,"blur",FCKFocusManager_Win_OnBlur);FCKTools.RemoveEventListener(oTarget,"focus",FCKFocusManager_Win_OnFocus_Area);FCKTools.RemoveEventListener(oTarget,"focus",FCKFocusManager_Win_OnFocus);},Lock:function(){this.IsLocked=true;},Unlock:function(){if(this._HasPendingBlur){FCKFocusManager._Timer=window.setTimeout(FCKFocusManager_FireOnBlur,100);}this.IsLocked=false;},_ResetTimer:function(){this._HasPendingBlur=false;if(this._Timer){window.clearTimeout(this._Timer);delete this._Timer;}}};function FCKFocusManager_Win_OnBlur(){if(typeof(FCK)!="undefined"&&FCK.HasFocus){FCKFocusManager._ResetTimer();FCKFocusManager._Timer=window.setTimeout(FCKFocusManager_FireOnBlur,100);}}function FCKFocusManager_FireOnBlur(){if(FCKFocusManager.IsLocked){FCKFocusManager._HasPendingBlur=true;}else{FCK.HasFocus=false;FCK.Events.FireEvent("OnBlur");}}function FCKFocusManager_Win_OnFocus_Area(){if(FCKFocusManager._IsFocusing){return;}FCKFocusManager._IsFocusing=true;FCK.Focus();FCKFocusManager_Win_OnFocus();FCKTools.RunFunction(function(){delete FCKFocusManager._IsFocusing;});}function FCKFocusManager_Win_OnFocus(){FCKFocusManager._ResetTimer();if(!FCK.HasFocus&&!FCKFocusManager.IsLocked){FCK.HasFocus=true;FCK.Events.FireEvent("OnFocus");}}(function(){var g=window.frameElement;var h=g.width;var f=g.height;if(/^\d+$/.test(h)){h+="px";}if(/^\d+$/.test(f)){f+="px";}var e=g.style;e.border=e.padding=e.margin=0;e.backgroundColor="transparent";e.backgroundImage="none";e.width=h;e.height=f;})();