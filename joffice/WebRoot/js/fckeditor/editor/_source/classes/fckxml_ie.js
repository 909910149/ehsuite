FCKXml.prototype={LoadUrl:function(d){this.Error=false;var c=FCKTools.CreateXmlObject("XmlHttp");if(!c){this.Error=true;return;}c.open("GET",d,false);c.send(null);if(c.status==200||c.status==304||(c.status==0&&c.readyState==4)){this.DOMDocument=c.responseXML;if(!this.DOMDocument||this.DOMDocument.firstChild==null){this.DOMDocument=FCKTools.CreateXmlObject("DOMDocument");this.DOMDocument.async=false;this.DOMDocument.resolveExternals=false;this.DOMDocument.loadXML(c.responseText);}}else{this.DOMDocument=null;}if(this.DOMDocument==null||this.DOMDocument.firstChild==null){this.Error=true;if(window.confirm('Error loading "'+d+'"\r\nDo you want to see more info?')){alert('URL requested: "'+d+'"\r\n'+"Server response:\r\nStatus: "+c.status+"\r\n"+"Response text:\r\n"+c.responseText);}}},SelectNodes:function(c,d){if(this.Error){return new Array();}if(d){return d.selectNodes(c);}else{return this.DOMDocument.selectNodes(c);}},SelectSingleNode:function(c,d){if(this.Error){return null;}if(d){return d.selectSingleNode(c);}else{return this.DOMDocument.selectSingleNode(c);}}};