var FCKToolbarButtonUI=function(g,h,i,j,l,k){this.Name=g;this.Label=h||g;this.Tooltip=i||this.Label;this.Style=l||FCK_TOOLBARITEM_ONLYICON;this.State=k||FCK_TRISTATE_OFF;this.Icon=new FCKIcon(j);if(FCK.IECleanup){FCK.IECleanup.AddItem(this,FCKToolbarButtonUI_Cleanup);}};FCKToolbarButtonUI.prototype._CreatePaddingElement=function(d){var c=d.createElement("IMG");c.className="TB_Button_Padding";c.src=FCK_SPACER_PATH;return c;};FCKToolbarButtonUI.prototype.Create=function(h){var i=FCKTools.GetElementDocument(h);var j=this.MainElement=i.createElement("DIV");j.title=this.Tooltip;if(FCKBrowserInfo.IsGecko){j.onmousedown=FCKTools.CancelEvent;}FCKTools.AddEventListenerEx(j,"mouseover",FCKToolbarButtonUI_OnMouseOver,this);FCKTools.AddEventListenerEx(j,"mouseout",FCKToolbarButtonUI_OnMouseOut,this);FCKTools.AddEventListenerEx(j,"click",FCKToolbarButtonUI_OnClick,this);this.ChangeState(this.State,true);if(this.Style==FCK_TOOLBARITEM_ONLYICON&&!this.ShowArrow){j.appendChild(this.Icon.CreateIconElement(i));}else{var m=j.appendChild(i.createElement("TABLE"));m.cellPadding=0;m.cellSpacing=0;var n=m.insertRow(-1);var k=n.insertCell(-1);if(this.Style==FCK_TOOLBARITEM_ONLYICON||this.Style==FCK_TOOLBARITEM_ICONTEXT){k.appendChild(this.Icon.CreateIconElement(i));}else{k.appendChild(this._CreatePaddingElement(i));}if(this.Style==FCK_TOOLBARITEM_ONLYTEXT||this.Style==FCK_TOOLBARITEM_ICONTEXT){k=n.insertCell(-1);k.className="TB_Button_Text";k.noWrap=true;k.appendChild(i.createTextNode(this.Label));}if(this.ShowArrow){if(this.Style!=FCK_TOOLBARITEM_ONLYICON){n.insertCell(-1).appendChild(this._CreatePaddingElement(i));}k=n.insertCell(-1);var l=k.appendChild(i.createElement("IMG"));l.src=FCKConfig.SkinPath+"images/toolbar.buttonarrow.gif";l.width=5;l.height=3;}k=n.insertCell(-1);k.appendChild(this._CreatePaddingElement(i));}h.appendChild(j);};FCKToolbarButtonUI.prototype.ChangeState=function(f,e){if(!e&&this.State==f){return;}var d=this.MainElement;if(!d){return;}switch(parseInt(f,10)){case FCK_TRISTATE_OFF:d.className="TB_Button_Off";break;case FCK_TRISTATE_ON:d.className="TB_Button_On";break;case FCK_TRISTATE_DISABLED:d.className="TB_Button_Disabled";break;}this.State=f;};function FCKToolbarButtonUI_OnMouseOver(c,d){if(d.State==FCK_TRISTATE_OFF){this.className="TB_Button_Off_Over";}else{if(d.State==FCK_TRISTATE_ON){this.className="TB_Button_On_Over";}}}function FCKToolbarButtonUI_OnMouseOut(c,d){if(d.State==FCK_TRISTATE_OFF){this.className="TB_Button_Off";}else{if(d.State==FCK_TRISTATE_ON){this.className="TB_Button_On";}}}function FCKToolbarButtonUI_OnClick(c,d){if(d.OnClick&&d.State!=FCK_TRISTATE_DISABLED){d.OnClick(d);}}function FCKToolbarButtonUI_Cleanup(){this.MainElement=null;}