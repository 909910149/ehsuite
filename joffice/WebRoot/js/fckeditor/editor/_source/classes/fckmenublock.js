var FCKMenuBlock=function(){this._Items=new Array();};FCKMenuBlock.prototype.Count=function(){return this._Items.length;};FCKMenuBlock.prototype.AddItem=function(l,g,j,h,i){var k=new FCKMenuItem(this,l,g,j,h,i);k.OnClick=FCKTools.CreateEventListener(FCKMenuBlock_Item_OnClick,this);k.OnActivate=FCKTools.CreateEventListener(FCKMenuBlock_Item_OnActivate,this);this._Items.push(k);return k;};FCKMenuBlock.prototype.AddSeparator=function(){this._Items.push(new FCKMenuSeparator());};FCKMenuBlock.prototype.RemoveAllItems=function(){this._Items=new Array();var b=this._ItemsTable;if(b){while(b.rows.length>0){b.deleteRow(0);}}};FCKMenuBlock.prototype.Create=function(k){if(!this._ItemsTable){if(FCK.IECleanup){FCK.IECleanup.AddItem(this,FCKMenuBlock_Cleanup);}this._Window=FCKTools.GetElementWindow(k);var l=FCKTools.GetElementDocument(k);var g=k.appendChild(l.createElement("table"));g.cellPadding=0;g.cellSpacing=0;FCKTools.DisableSelection(g);var i=g.insertRow(-1).insertCell(-1);i.className="MN_Menu";var h=this._ItemsTable=i.appendChild(l.createElement("table"));h.cellPadding=0;h.cellSpacing=0;}for(var j=0;j<this._Items.length;j++){this._Items[j].Create(this._ItemsTable);}};function FCKMenuBlock_Item_OnClick(c,d){if(d.Hide){d.Hide();}FCKTools.RunFunction(d.OnClick,d,[c]);}function FCKMenuBlock_Item_OnActivate(c){var d=c._ActiveItem;if(d&&d!=this){if(!FCKBrowserInfo.IsIE&&d.HasSubMenu&&!this.HasSubMenu){c._Window.focus();c.Panel.HasFocus=true;}d.Deactivate();}c._ActiveItem=this;}function FCKMenuBlock_Cleanup(){this._Window=null;this._ItemsTable=null;}var FCKMenuSeparator=function(){};FCKMenuSeparator.prototype.Create=function(h){var f=FCKTools.GetElementDocument(h);var e=h.insertRow(-1);var g=e.insertCell(-1);g.className="MN_Separator MN_Icon";g=e.insertCell(-1);g.className="MN_Separator";g.appendChild(f.createElement("DIV")).className="MN_Separator_Line";g=e.insertCell(-1);g.className="MN_Separator";g.appendChild(f.createElement("DIV")).className="MN_Separator_Line";};