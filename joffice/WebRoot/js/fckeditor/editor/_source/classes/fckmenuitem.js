var FCKMenuItem=function(k,l,g,j,h,i){this.Name=l;this.Label=g||l;this.IsDisabled=h;this.Icon=new FCKIcon(j);this.SubMenu=new FCKMenuBlockPanel();this.SubMenu.Parent=k;this.SubMenu.OnClick=FCKTools.CreateEventListener(FCKMenuItem_SubMenu_OnClick,this);this.CustomData=i;if(FCK.IECleanup){FCK.IECleanup.AddItem(this,FCKMenuItem_Cleanup);}};FCKMenuItem.prototype.AddItem=function(j,f,i,g,h){this.HasSubMenu=true;return this.SubMenu.AddItem(j,f,i,g,h);};FCKMenuItem.prototype.AddSeparator=function(){this.SubMenu.AddSeparator();};FCKMenuItem.prototype.Create=function(j){var h=this.HasSubMenu;var g=FCKTools.GetElementDocument(j);var k=this.MainElement=j.insertRow(-1);k.className=this.IsDisabled?"MN_Item_Disabled":"MN_Item";if(!this.IsDisabled){FCKTools.AddEventListenerEx(k,"mouseover",FCKMenuItem_OnMouseOver,[this]);FCKTools.AddEventListenerEx(k,"click",FCKMenuItem_OnClick,[this]);if(!h){FCKTools.AddEventListenerEx(k,"mouseout",FCKMenuItem_OnMouseOut,[this]);}}var i=k.insertCell(-1);i.className="MN_Icon";i.appendChild(this.Icon.CreateIconElement(g));i=k.insertCell(-1);i.className="MN_Label";i.noWrap=true;i.appendChild(g.createTextNode(this.Label));i=k.insertCell(-1);if(h){i.className="MN_Arrow";var l=i.appendChild(g.createElement("IMG"));l.src=FCK_IMAGES_PATH+"arrow_"+FCKLang.Dir+".gif";l.width=4;l.height=7;this.SubMenu.Create();this.SubMenu.Panel.OnHide=FCKTools.CreateEventListener(FCKMenuItem_SubMenu_OnHide,this);}};FCKMenuItem.prototype.Activate=function(){this.MainElement.className="MN_Item_Over";if(this.HasSubMenu){this.SubMenu.Show(this.MainElement.offsetWidth+2,-2,this.MainElement);}FCKTools.RunFunction(this.OnActivate,this);};FCKMenuItem.prototype.Deactivate=function(){this.MainElement.className="MN_Item";if(this.HasSubMenu){this.SubMenu.Hide();}};function FCKMenuItem_SubMenu_OnClick(c,d){FCKTools.RunFunction(d.OnClick,d,[c]);}function FCKMenuItem_SubMenu_OnHide(b){b.Deactivate();}function FCKMenuItem_OnClick(c,d){if(d.HasSubMenu){d.Activate();}else{d.Deactivate();FCKTools.RunFunction(d.OnClick,d,[d]);}}function FCKMenuItem_OnMouseOver(c,d){d.Activate();}function FCKMenuItem_OnMouseOut(c,d){d.Deactivate();}function FCKMenuItem_Cleanup(){this.MainElement=null;}