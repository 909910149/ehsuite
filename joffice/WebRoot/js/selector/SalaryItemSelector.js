var SalaryItemSelector={getView:function(j,r,o){var p=null;if(o){var p=new Ext.grid.CheckboxSelectionModel({singleSelect:true});}else{p=new Ext.grid.CheckboxSelectionModel();}var k=new Ext.grid.ColumnModel({columns:[p,new Ext.grid.RowNumberer(),{header:"salaryItemId",dataIndex:"salaryItemId",hidden:true},{header:"薪资项名称",dataIndex:"itemName"},{header:"缺省值",dataIndex:"defaultVal",renderer:function(a){return'<img src="'+__ctxPath+'/images/flag/customer/rmb.png"/>'+a;}}]});var l=new Ext.data.Store({proxy:new Ext.data.HttpProxy({url:__ctxPath+"/hrm/listSalaryItem.do?exclude="+r}),reader:new Ext.data.JsonReader({root:"result",totalProperty:"totalCounts",id:"id",fields:[{name:"salaryItemId",type:"int"},"itemName","defaultVal"]}),remoteSort:true});var n=new Ext.grid.GridPanel({id:"SalaryItemSelectorGrid",width:400,height:300,region:"center",title:"薪酬项目列表",store:l,shim:true,trackMouseOver:true,disableSelection:false,loadMask:true,cm:k,sm:p,viewConfig:{forceFit:true,enableRowBody:false,showPreview:false},bbar:new HT.PagingBar({store:l})});l.load({params:{start:0,limit:25}});var q=new Ext.FormPanel({width:400,region:"north",id:"SalaryItemSelectorForm",height:40,frame:false,border:false,layout:"hbox",layoutConfig:{padding:"5",align:"middle"},defaults:{xtype:"label",margins:{top:0,right:4,bottom:4,left:4}},items:[{text:"查询条件:"},{text:"工资项名称"},{xtype:"textfield",width:80,name:"Q_itemName_S_LK"},{text:"缺省值"},{xtype:"textfield",width:80,name:"Q_defaultVal_S_LK"},{xtype:"button",text:"查询",iconCls:"search",handler:function(){var b=Ext.getCmp("SalaryItemSelectorForm");var a=Ext.getCmp("SalaryItemSelectorGrid");if(b.getForm().isValid()){b.getForm().submit({waitMsg:"正在提交查询",url:__ctxPath+"/hrm/listSalaryItem.do",success:function(c,e){var d=Ext.util.JSON.decode(e.response.responseText);a.getStore().loadData(d);}});}}}]});var m=new Ext.Window({title:"薪酬项目选择",iconCls:"menu-salary",width:430,height:380,layout:"border",border:false,items:[q,n],modal:true,buttonAlign:"center",buttons:[{iconCls:"btn-ok",text:"确定",handler:function(){var b=Ext.getCmp("SalaryItemSelectorGrid");var f=b.getSelectionModel().getSelections();var d="";var a="";var e="";for(var c=0;c<f.length;c++){if(c>0){d+=",";a+=",";e+=",";}d+=f[c].data.salaryItemId;a+=f[c].data.itemName;e+=f[c].data.defaultVal;}if(j!=null){j.call(this,d,a,e);}m.close();}},{text:"取消",iconCls:"btn-cancel",handler:function(){m.close();}}]});return m;}};