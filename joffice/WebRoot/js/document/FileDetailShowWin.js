FileDetailShowWin=Ext.extend(Ext.Window,{formPanel:null,constructor:function(b){Ext.applyIf(this,b);this.initUI();FileDetailShowWin.superclass.constructor.call(this,{layout:"fit",height:300,title:this.fileName+"-属性",modal:true,width:600,items:this.formPanel,buttons:this.buttons,buttonAlign:"center"});},initUI:function(){this.formPanel=new Ext.FormPanel({layout:"form",padding:"10px",defaultType:"displayfield",items:[{xtype:"hidden",name:"fileId",value:this.fileId},{fieldLabel:"文件名",name:"fileName"},{fieldLabel:"文件路径",name:"filePath"},{fieldLabel:"文件类型",name:"fileType"},{xtype:"container",layout:"form",defaultType:"displayfield",hidden:!this.isFolder,defaults:{padding:"0",anchor:"100%,100%"},items:[{fieldLabel:"目录数",name:"folderNum"},{fieldLabel:"文档数",name:"documentNum"},{fieldLabel:"描述",name:"descp"}]},{xtype:"container",layout:"form",defaultType:"displayfield",hidden:this.isFolder,defaults:{padding:"0",anchor:"100%,100%"},items:[{fieldLabel:"作者",name:"author"},{fieldLabel:"关键字",name:"keywords"}]},{fieldLabel:"附件数",name:"attachsNum"},{fieldLabel:"文件大小",name:"docFileSize"}]});var e=this.formPanel;var f=this;var d="/知识目录";if(this.isPersonal){d="/我的文件夹";}else{if(this.isOnline){d="/在线文档目录";}}Ext.Ajax.request({url:__ctxPath+"/document/detailDocFolder.do",params:{isPersonal:this.isPersonal,fileId:this.fileId,isFolder:this.isFolder},success:function(l,b){var j=Ext.util.JSON.decode(l.responseText);e.getCmpByName("fileName").setValue(j.fileName);f.setTitle(j.fileName+"-属性");e.getCmpByName("fileType").setValue(j.fileType);e.getCmpByName("folderNum").setValue(j.folderNum);e.getCmpByName("documentNum").setValue(j.documentNum);e.getCmpByName("attachsNum").setValue(j.attachsNum);e.getCmpByName("docFileSize").setValue(j.docFileSize);if("/"==j.path){j.path="/";d="";}e.getCmpByName("filePath").setValue(d+j.path);var a="";if(j.descp!=null&&j.descp!="null"){a=j.descp;}e.getCmpByName("descp").setValue(a);var c="";if(j.author!=null&&j.author!="null"){c=j.author;}e.getCmpByName("author").setValue(c);var k="";if(j.keywords!=null&&j.keywords!="null"){k=j.keywords;}e.getCmpByName("keywords").setValue(k);},failure:function(b,a){}});this.buttons=[{xtype:"button",scope:this,text:"关闭",iconCls:"btn-cancel",handler:function(){this.close();}}];}});