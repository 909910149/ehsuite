Ext={version:"3.0"};window["undefined"]=window["undefined"];Ext.apply=function(a,b,e){if(e){Ext.apply(a,e);}if(a&&b&&typeof b=="object"){for(var d in b){a[d]=b[d];}}return a;};(function(){var idSeed=0;var ua=navigator.userAgent.toLowerCase();var isStrict=document.compatMode=="CSS1Compat",isOpera=ua.indexOf("opera")>-1,isChrome=ua.indexOf("chrome")>-1,isSafari=!isChrome&&(/webkit|khtml/).test(ua),isSafari3=isSafari&&ua.indexOf("webkit/5")!=-1,isIE=!isOpera&&ua.indexOf("msie")>-1,isIE7=!isOpera&&ua.indexOf("msie 7")>-1,isIE8=!isOpera&&ua.indexOf("msie 8")>-1,isGecko=!isSafari&&!isChrome&&ua.indexOf("gecko")>-1,isGecko3=isGecko&&ua.indexOf("rv:1.9")>-1,isBorderBox=isIE&&!isStrict,isWindows=(ua.indexOf("windows")!=-1||ua.indexOf("win32")!=-1),isMac=(ua.indexOf("macintosh")!=-1||ua.indexOf("mac os x")!=-1),isAir=(ua.indexOf("adobeair")!=-1),isLinux=(ua.indexOf("linux")!=-1),isSecure=window.location.href.toLowerCase().indexOf("https")===0;if(isIE&&!isIE7){try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}}Ext.apply(Ext,{isStrict:isStrict,isSecure:isSecure,isReady:false,enableGarbageCollector:true,enableListenerCollection:false,SSL_SECURE_URL:"javascript:false",BLANK_IMAGE_URL:"http://extjs.com/s.gif",emptyFn:function(){},applyIf:function(o,c){if(o&&c){for(var p in c){if(typeof o[p]=="undefined"){o[p]=c[p];}}}return o;},addBehaviors:function(o){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(o);});return;}var cache={};for(var b in o){var parts=b.split("@");if(parts[1]){var s=parts[0];if(!cache[s]){cache[s]=Ext.select(s);}cache[s].on(parts[1],o[b]);}}cache=null;},id:function(el,prefix){prefix=prefix||"ext-gen";el=Ext.getDom(el);var id=prefix+(++idSeed);return el?(el.id?el.id:(el.id=id)):id;},extend:function(){var io=function(o){for(var m in o){this[m]=o[m];}};var oc=Object.prototype.constructor;return function(sb,sp,overrides){if(typeof sp=="object"){overrides=sp;sp=sb;sb=overrides.constructor!=oc?overrides.constructor:function(){sp.apply(this,arguments);};}var F=function(){},sbp,spp=sp.prototype;F.prototype=spp;sbp=sb.prototype=new F();sbp.constructor=sb;sb.superclass=spp;if(spp.constructor==oc){spp.constructor=sp;}sb.override=function(o){Ext.override(sb,o);};sbp.superclass=sbp.supr=(function(){return spp;});sbp.override=io;Ext.override(sb,overrides);sb.extend=function(o){Ext.extend(sb,o);};return sb;};}(),extendX:function(supr,fn){return Ext.extend(supr,fn(supr.prototype));},override:function(origclass,overrides){if(overrides){var p=origclass.prototype;for(var method in overrides){p[method]=overrides[method];}}},namespace:function(){var a=arguments,o=null,i,j,d,rt;for(i=0;i<a.length;++i){d=a[i].split(".");rt=d[0];eval("if (typeof "+rt+' == "undefined"){'+rt+" = {};} o = "+rt+";");for(j=1;j<d.length;++j){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}},urlEncode:function(o){if(!o){return"";}var buf=[];for(var key in o){var ov=o[key],k=encodeURIComponent(key);var type=typeof ov;if(type=="undefined"){buf.push(k,"=&");}else{if(type!="function"&&type!="object"){buf.push(k,"=",encodeURIComponent(ov),"&");}else{if(Ext.isArray(ov)){if(ov.length){for(var i=0,len=ov.length;i<len;i++){buf.push(k,"=",encodeURIComponent(ov[i]===undefined?"":ov[i]),"&");}}else{buf.push(k,"=&");}}}}}buf.pop();return buf.join("");},urlDecode:function(string,overwrite){if(!string||!string.length){return{};}var obj={};var pairs=string.split("&");var pair,name,value;for(var i=0,len=pairs.length;i<len;i++){pair=pairs[i].split("=");name=decodeURIComponent(pair[0]);value=decodeURIComponent(pair[1]);if(overwrite!==true){if(typeof obj[name]=="undefined"){obj[name]=value;}else{if(typeof obj[name]=="string"){obj[name]=[obj[name]];obj[name].push(value);}else{obj[name].push(value);}}}else{obj[name]=value;}}return obj;},each:function(array,fn,scope){if(typeof array.length=="undefined"||typeof array=="string"){array=[array];}for(var i=0,len=array.length;i<len;i++){if(fn.call(scope||array[i],array[i],i,array)===false){return i;}}},combine:function(){var as=arguments,l=as.length,r=[];for(var i=0;i<l;i++){var a=as[i];if(Ext.isArray(a)){r=r.concat(a);}else{if(a.length!==undefined&&!a.substr){r=r.concat(Array.prototype.slice.call(a,0));}else{r.push(a);}}}return r;},escapeRe:function(s){return s.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1");},callback:function(cb,scope,args,delay){if(typeof cb=="function"){if(delay){cb.defer(delay,scope,args||[]);}else{cb.apply(scope,args||[]);}}},getDom:function(el){if(!el||!document){return null;}return el.dom?el.dom:(typeof el=="string"?document.getElementById(el):el);},getDoc:function(){return Ext.get(document);},getBody:function(){return Ext.get(document.body||document.documentElement);},getCmp:function(id){return Ext.ComponentMgr.get(id);},num:function(v,defaultValue){if(typeof v!="number"||isNaN(v)){return defaultValue;}return v;},destroy:function(){for(var i=0,a=arguments,len=a.length;i<len;i++){var as=a[i];if(as){if(typeof as.destroy=="function"){as.destroy();}else{if(as.dom){as.removeAllListeners();as.remove();}}}}},destroyMembers:function(o,arg1,arg2,etc){for(var i=1,a=arguments,len=a.length;i<len;i++){Ext.destroy(o[a[i]]);delete o[a[i]];}},removeNode:isIE?function(){var d;return function(n){if(n&&n.tagName!="BODY"){d=d||document.createElement("div");d.appendChild(n);d.innerHTML="";}};}():function(n){if(n&&n.parentNode&&n.tagName!="BODY"){n.parentNode.removeChild(n);}},type:function(o){if(o===undefined||o===null){return false;}if(o.htmlElement){return"element";}var t=typeof o;if(t=="object"&&o.nodeName){switch(o.nodeType){case 1:return"element";case 3:return(/\S/).test(o.nodeValue)?"textnode":"whitespace";}}if(t=="object"||t=="function"){switch(o.constructor){case Array:return"array";case RegExp:return"regexp";}if(typeof o.length=="number"&&typeof o.item=="function"){return"nodelist";}}return t;},isEmpty:function(v,allowBlank){return v===null||v===undefined||(!allowBlank?v==="":false);},value:function(v,defaultValue,allowBlank){return Ext.isEmpty(v,allowBlank)?defaultValue:v;},isArray:function(v){return v&&typeof v.length=="number"&&typeof v.splice=="function";},isDate:function(v){return v&&typeof v.getFullYear=="function";},copyTo:function(dest,source,names){if(typeof names=="string"){names=names.split(/[,;\s]/);}for(var i=0,len=names.length;i<len;i++){var n=names[i];if(source.hasOwnProperty(n)){dest[n]=source[n];}}return dest;},intercept:function(o,name,fn,scope){o[name]=o[name].createInterceptor(fn,scope);},sequence:function(o,name,fn,scope){o[name]=o[name].createSequence(fn,scope);},isOpera:isOpera,isChrome:isChrome,isSafari:isSafari,isSafari3:isSafari3,isSafari2:isSafari&&!isSafari3,isIE:isIE,isIE6:isIE&&!isIE7&&!isIE8,isIE7:isIE7,isIE8:isIE8,isGecko:isGecko,isGecko2:isGecko&&!isGecko3,isGecko3:isGecko3,isBorderBox:isBorderBox,isLinux:isLinux,isWindows:isWindows,isMac:isMac,isAir:isAir,useShims:((isIE&&!isIE7)||(isMac&&isGecko&&!isGecko3))});Ext.ns=Ext.namespace;})();Ext.ns("Ext","Ext.util","Ext.grid","Ext.dd","Ext.tree","Ext.data","Ext.form","Ext.menu","Ext.state","Ext.lib","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Function.prototype,{createCallback:function(){var a=arguments;var b=this;return function(){return b.apply(window,a);};},createDelegate:function(a,d,c){var b=this;return function(){var g=d||arguments;if(c===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(d);}else{if(typeof c=="number"){g=Array.prototype.slice.call(arguments,0);var e=[c,0].concat(d);Array.prototype.splice.apply(g,e);}}return b.apply(a||window,g);};},defer:function(a,c,e,d){var b=this.createDelegate(c,e,d);if(a){return setTimeout(b,a);}b();return 0;},createSequence:function(c,b){if(typeof c!="function"){return this;}var a=this;return function(){var d=a.apply(this||window,arguments);c.apply(b||this||window,arguments);return d;};},createInterceptor:function(c,b){if(typeof c!="function"){return this;}var a=this;return function(){c.target=this;c.method=a;if(c.apply(b||this||window,arguments)===false){return;}return a.apply(this||window,arguments);};}});Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1");},leftPad:function(b,d,a){var c=new String(b);if(!a){a=" ";}while(c.length<d){c=a+c;}return c.toString();},format:function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/\{(\d+)\}/g,function(c,d){return a[d];});}});String.prototype.toggle=function(b,a){return this==b?a:b;};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"");};}();Ext.applyIf(Number.prototype,{constrain:function(b,a){return Math.min(Math.max(this,b),a);}});Ext.applyIf(Array.prototype,{indexOf:function(a){for(var c=0,b=this.length;c<b;c++){if(this[c]==a){return c;}}return -1;},remove:function(b){var a=this.indexOf(b);if(a!=-1){this.splice(a,1);}return this;}});Date.prototype.getElapsed=function(a){return Math.abs((a||new Date()).getTime()-this.getTime());};(function(){var d;Ext.lib.Dom={getViewWidth:function(e){return e?this.getDocumentWidth():this.getViewportWidth();},getViewHeight:function(e){return e?this.getDocumentHeight():this.getViewportHeight();},getDocumentHeight:function(){var e=(document.compatMode!="CSS1Compat")?document.body.scrollHeight:document.documentElement.scrollHeight;return Math.max(e,this.getViewportHeight());},getDocumentWidth:function(){var e=(document.compatMode!="CSS1Compat")?document.body.scrollWidth:document.documentElement.scrollWidth;return Math.max(e,this.getViewportWidth());},getViewportHeight:function(){if(Ext.isIE){return Ext.isStrict?document.documentElement.clientHeight:document.body.clientHeight;}else{return self.innerHeight;}},getViewportWidth:function(){if(!Ext.isStrict&&!Ext.isOpera){return document.body.clientWidth;}else{if(Ext.isIE){return document.documentElement.clientWidth;}else{return self.innerWidth;}}},isAncestor:function(e,g){e=Ext.getDom(e);g=Ext.getDom(g);if(!e||!g){return false;}if(e.contains&&!Ext.isSafari){return e.contains(g);}else{if(e.compareDocumentPosition){return !!(e.compareDocumentPosition(g)&16);}else{var h=g.parentNode;while(h){if(h==e){return true;}else{if(!h.tagName||h.tagName.toUpperCase()=="HTML"){return false;}}h=h.parentNode;}return false;}}},getRegion:function(e){return Ext.lib.Region.getRegion(e);},getY:function(e){return this.getXY(e)[1];},getX:function(e){return this.getXY(e)[0];},getXY:function(o){var n,e,i,l,s=(document.body||document.documentElement);o=Ext.getDom(o);if(o==s){return[0,0];}if(o.getBoundingClientRect){i=o.getBoundingClientRect();l=a(document).getScroll();return[i.left+l.left,i.top+l.top];}var m=0,g=0;n=o;var k=a(o).getStyle("position")=="absolute";while(n){m+=n.offsetLeft;g+=n.offsetTop;if(!k&&a(n).getStyle("position")=="absolute"){k=true;}if(Ext.isGecko){e=a(n);var h=parseInt(e.getStyle("borderTopWidth"),10)||0;var q=parseInt(e.getStyle("borderLeftWidth"),10)||0;m+=q;g+=h;if(n!=o&&e.getStyle("overflow")!="visible"){m+=q;g+=h;}}n=n.offsetParent;}if(Ext.isSafari&&k){m-=s.offsetLeft;g-=s.offsetTop;}if(Ext.isGecko&&!k){var r=a(s);m+=parseInt(r.getStyle("borderLeftWidth"),10)||0;g+=parseInt(r.getStyle("borderTopWidth"),10)||0;}n=o.parentNode;while(n&&n!=s){if(!Ext.isOpera||(n.tagName!="TR"&&a(n).getStyle("display")!="inline")){m-=n.scrollLeft;g-=n.scrollTop;}n=n.parentNode;}return[m,g];},setXY:function(h,e){h=Ext.fly(h,"_setXY");h.position();var g=h.translatePoints(e);if(e[0]!==false){h.dom.style.left=g.left+"px";}if(e[1]!==false){h.dom.style.top=g.top+"px";}},setX:function(g,e){this.setXY(g,[e,false]);},setY:function(e,g){this.setXY(e,[false,g]);}};Ext.lib.Event=function(){var h=false;var i=[];var g=[];var e=0;var k=[];return{POLL_RETRYS:200,POLL_INTERVAL:20,EL:0,TYPE:1,FN:2,WFN:3,OBJ:3,ADJ_SCOPE:4,_interval:null,startInterval:function(){if(!this._interval){var m=this;var l=function(){m._tryPreloadAttach();};this._interval=setInterval(l,this.POLL_INTERVAL);}},onAvailable:function(m,o,n,l){k.push({id:m,fn:o,obj:n,override:l,checkReady:false});e=this.POLL_RETRYS;this.startInterval();},addListener:function(o,l,n){o=Ext.getDom(o);if(!o||!n){return false;}if("unload"==l){g[g.length]=[o,l,n];return true;}var p=[o,l,n,n];var m=i.length;i[m]=p;this.doAdd(o,l,n,false);return true;},removeListener:function(p,s,o){var m,r;p=Ext.getDom(p);if(!o){return this.purgeElement(p,false,s);}if("unload"==s){for(m=0,r=g.length;m<r;m++){var n=g[m];if(n&&n[0]==p&&n[1]==s&&n[2]==o){g.splice(m,1);return true;}}return false;}var q=null;var l=arguments[3];if("undefined"==typeof l){l=this._getCacheIndex(p,s,o);}if(l>=0){q=i[l];}if(!p||!q){return false;}this.doRemove(p,s,q[this.WFN],false);delete i[l][this.WFN];delete i[l][this.FN];i.splice(l,1);return true;},getTarget:function(l){l=l.browserEvent||l;var m=l.target||l.srcElement;return this.resolveTextNode(m);},resolveTextNode:function(l){if(Ext.isSafari&&l&&3==l.nodeType){return l.parentNode;}else{return l;}},getPageX:function(l){l=l.browserEvent||l;var m=l.pageX;if(!m&&0!==m){m=l.clientX||0;if(Ext.isIE){m+=this.getScroll()[1];}}return m;},getPageY:function(m){m=m.browserEvent||m;var l=m.pageY;if(!l&&0!==l){l=m.clientY||0;if(Ext.isIE){l+=this.getScroll()[0];}}return l;},getXY:function(l){l=l.browserEvent||l;return[this.getPageX(l),this.getPageY(l)];},getRelatedTarget:function(l){l=l.browserEvent||l;var m=l.relatedTarget;if(!m){if(l.type=="mouseout"){m=l.toElement;}else{if(l.type=="mouseover"){m=l.fromElement;}}}return this.resolveTextNode(m);},getTime:function(m){m=m.browserEvent||m;if(!m.time){var l=new Date().getTime();try{m.time=l;}catch(n){return l;}}return m.time;},stopEvent:function(l){this.stopPropagation(l);this.preventDefault(l);},stopPropagation:function(l){l=l.browserEvent||l;if(l.stopPropagation){l.stopPropagation();}else{l.cancelBubble=true;}},preventDefault:function(l){l=l.browserEvent||l;if(l.preventDefault){l.preventDefault();}else{l.returnValue=false;}},getEvent:function(l){var n=l||window.event;if(!n){var m=this.getEvent.caller;while(m){n=m.arguments[0];if(n&&Event==n.constructor){break;}m=m.caller;}}return n;},getCharCode:function(l){l=l.browserEvent||l;return l.charCode||l.keyCode||0;},_getCacheIndex:function(p,m,o){for(var n=0,l=i.length;n<l;++n){var q=i[n];if(q&&q[this.FN]==o&&q[this.EL]==p&&q[this.TYPE]==m){return n;}}return -1;},elCache:{},getEl:function(l){return document.getElementById(l);},clearCache:function(){},_load:function(l){h=true;var m=Ext.lib.Event;if(Ext.isIE){m.doRemove(window,"load",m._load);}},_tryPreloadAttach:function(){if(this.locked){return false;}this.locked=true;var q=!h;if(!q){q=(e>0);}var p=[];for(var o=0,r=k.length;o<r;++o){var n=k[o];if(n){var m=this.getEl(n.id);if(m){if(!n.checkReady||h||m.nextSibling||(document&&document.body)){var l=m;if(n.override){if(n.override===true){l=n.obj;}else{l=n.override;}}n.fn.call(l,n.obj);k[o]=null;}}else{p.push(n);}}}e=(p.length===0)?0:e-1;if(q){this.startInterval();}else{clearInterval(this._interval);this._interval=null;}this.locked=false;return true;},purgeElement:function(o,p,l){var q=this.getListeners(o,l);if(q){for(var m=0,n=q.length;m<n;++m){var r=q[m];this.removeListener(o,r.type,r.fn);}}if(p&&o&&o.childNodes){for(m=0,n=o.childNodes.length;m<n;++m){this.purgeElement(o.childNodes[m],p,l);}}},getListeners:function(q,l){var t=[],p;if(!l){p=[i,g];}else{if(l=="unload"){p=[g];}else{p=[i];}}for(var s=0;s<p.length;++s){var n=p[s];if(n&&n.length>0){for(var o=0,m=n.length;o<m;++o){var r=n[o];if(r&&r[this.EL]===q&&(!l||l===r[this.TYPE])){t.push({type:r[this.TYPE],fn:r[this.FN],obj:r[this.OBJ],adjust:r[this.ADJ_SCOPE],index:o});}}}}return(t.length)?t:null;},_unload:function(q){var p=Ext.lib.Event,m,s,l,o,r;for(m=0,o=g.length;m<o;++m){l=g[m];if(l){var n=window;if(l[p.ADJ_SCOPE]){if(l[p.ADJ_SCOPE]===true){n=l[p.OBJ];}else{n=l[p.ADJ_SCOPE];}}l[p.FN].call(n,p.getEvent(q),l[p.OBJ]);g[m]=null;l=null;n=null;}}g=null;if(i&&i.length>0){s=i.length;while(s){r=s-1;l=i[r];if(l){p.removeListener(l[p.EL],l[p.TYPE],l[p.FN],r);}s=s-1;}l=null;p.clearCache();}p.doRemove(window,"unload",p._unload);},getScroll:function(){var m=document.documentElement,l=document.body;if(m&&(m.scrollTop||m.scrollLeft)){return[m.scrollTop,m.scrollLeft];}else{if(l){return[l.scrollTop,l.scrollLeft];}else{return[0,0];}}},doAdd:function(){if(window.addEventListener){return function(n,l,m,o){n.addEventListener(l,m,(o));};}else{if(window.attachEvent){return function(n,l,m,o){n.attachEvent("on"+l,m);};}else{return function(){};}}}(),doRemove:function(){if(window.removeEventListener){return function(n,l,m,o){n.removeEventListener(l,m,(o));};}else{if(window.detachEvent){return function(m,n,l){m.detachEvent("on"+n,l);};}else{return function(){};}}}()};}();var b=Ext.lib.Event;b.on=b.addListener;b.un=b.removeListener;if(document&&document.body){b._load();}else{b.doAdd(window,"load",b._load);}b.doAdd(window,"unload",b._unload);b._tryPreloadAttach();Ext.lib.Ajax={request:function(h,e,i,g,l){if(l){var k=l.headers;if(k){for(var m in k){if(k.hasOwnProperty(m)){this.initHeader(m,k[m],false);}}}if(l.xmlData){if(!k||!k["Content-Type"]){this.initHeader("Content-Type","text/xml",false);}h=(h?h:(l.method?l.method:"POST"));g=l.xmlData;}else{if(l.jsonData){if(!k||!k["Content-Type"]){this.initHeader("Content-Type","application/json",false);}h=(h?h:(l.method?l.method:"POST"));g=typeof l.jsonData=="object"?Ext.encode(l.jsonData):l.jsonData;}}}return this.asyncRequest(h,e,i,g);},serializeForm:function(n){if(typeof n=="string"){n=(document.getElementById(n)||document.forms[n]);}var o,m,e,h,i="",l=false;for(var k=0;k<n.elements.length;k++){o=n.elements[k];h=n.elements[k].disabled;m=n.elements[k].name;e=n.elements[k].value;if(!h&&m){switch(o.type){case"select-one":case"select-multiple":for(var g=0;g<o.options.length;g++){if(o.options[g].selected){if(Ext.isIE){i+=encodeURIComponent(m)+"="+encodeURIComponent(o.options[g].attributes.value.specified?o.options[g].value:o.options[g].text)+"&";}else{i+=encodeURIComponent(m)+"="+encodeURIComponent(o.options[g].hasAttribute("value")?o.options[g].value:o.options[g].text)+"&";}}}break;case"radio":case"checkbox":if(o.checked){i+=encodeURIComponent(m)+"="+encodeURIComponent(e)+"&";}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(!l){i+=encodeURIComponent(m)+"="+encodeURIComponent(e)+"&";l=true;}break;default:i+=encodeURIComponent(m)+"="+encodeURIComponent(e)+"&";break;}}}i=i.substr(0,i.length-1);return i;},headers:{},hasHeaders:false,useDefaultHeader:true,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest",hasDefaultHeaders:true,defaultHeaders:{},poll:{},timeout:{},pollInterval:50,transactionId:0,setProgId:function(e){this.activeX.unshift(e);},setDefaultPostHeader:function(e){this.useDefaultHeader=e;},setDefaultXhrHeader:function(e){this.useDefaultXhrHeader=e;},setPollingInterval:function(e){if(typeof e=="number"&&isFinite(e)){this.pollInterval=e;}},createXhrObject:function(g){var e,k;try{k=new XMLHttpRequest();e={conn:k,tId:g};}catch(i){for(var h=0;h<this.activeX.length;++h){try{k=new ActiveXObject(this.activeX[h]);e={conn:k,tId:g};break;}catch(i){}}}finally{return e;}},getConnectionObject:function(){var e;var g=this.transactionId;try{e=this.createXhrObject(g);if(e){this.transactionId++;}}catch(h){}finally{return e;}},asyncRequest:function(h,i,e,g){var k=this.getConnectionObject();if(!k){return null;}else{k.conn.open(h,i,true);if(this.useDefaultXhrHeader){if(!this.defaultHeaders["X-Requested-With"]){this.initHeader("X-Requested-With",this.defaultXhrHeader,true);}}if(g&&this.useDefaultHeader&&(!this.hasHeaders||!this.headers["Content-Type"])){this.initHeader("Content-Type",this.defaultPostHeader);}if(this.hasDefaultHeaders||this.hasHeaders){this.setHeader(k);}this.handleReadyState(k,e);k.conn.send(g||null);return k;}},handleReadyState:function(e,g){var h=this;if(g&&g.timeout){this.timeout[e.tId]=window.setTimeout(function(){h.abort(e,g,true);},g.timeout);}this.poll[e.tId]=window.setInterval(function(){if(e.conn&&e.conn.readyState==4){window.clearInterval(h.poll[e.tId]);delete h.poll[e.tId];if(g&&g.timeout){window.clearTimeout(h.timeout[e.tId]);delete h.timeout[e.tId];}h.handleTransactionResponse(e,g);}},this.pollInterval);},handleTransactionResponse:function(e,g,i){if(!g){this.releaseObject(e);return;}var h,l;try{if(e.conn.status!==undefined&&e.conn.status!=0){h=e.conn.status;}else{h=13030;}}catch(k){h=13030;}if(h>=200&&h<300){l=this.createResponseObject(e,g.argument);if(g.success){if(!g.scope){g.success(l);}else{g.success.apply(g.scope,[l]);}}}else{switch(h){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:l=this.createExceptionObject(e.tId,g.argument,(i?i:false));if(g.failure){if(!g.scope){g.failure(l);}else{g.failure.apply(g.scope,[l]);}}break;default:l=this.createResponseObject(e,g.argument);if(g.failure){if(!g.scope){g.failure(l);}else{g.failure.apply(g.scope,[l]);}}}}this.releaseObject(e);l=null;},createResponseObject:function(l,h){var p={};var k={};try{var n=l.conn.getAllResponseHeaders();var g=n.split("\n");for(var e=0;e<g.length;e++){var m=g[e].indexOf(":");if(m!=-1){k[g[e].substring(0,m)]=g[e].substring(m+2);}}}catch(i){}p.tId=l.tId;p.status=l.conn.status;p.statusText=l.conn.statusText;p.getResponseHeader=k;p.getAllResponseHeaders=n;p.responseText=l.conn.responseText;p.responseXML=l.conn.responseXML;if(typeof h!==undefined){p.argument=h;}return p;},createExceptionObject:function(h,m,i){var e=0;var g="communication failure";var l=-1;var k="transaction aborted";var n={};n.tId=h;if(i){n.status=l;n.statusText=k;}else{n.status=e;n.statusText=g;}if(m){n.argument=m;}return n;},initHeader:function(h,g,e){var i=(e)?this.defaultHeaders:this.headers;if(i[h]===undefined){i[h]=g;}else{i[h]=g+","+i[h];}if(e){this.hasDefaultHeaders=true;}else{this.hasHeaders=true;}},setHeader:function(e){if(this.hasDefaultHeaders){for(var g in this.defaultHeaders){if(this.defaultHeaders.hasOwnProperty(g)){e.conn.setRequestHeader(g,this.defaultHeaders[g]);}}}if(this.hasHeaders){for(var g in this.headers){if(this.headers.hasOwnProperty(g)){e.conn.setRequestHeader(g,this.headers[g]);}}this.headers={};this.hasHeaders=false;}},resetDefaultHeaders:function(){delete this.defaultHeaders;this.defaultHeaders={};this.hasDefaultHeaders=false;},abort:function(e,g,h){if(this.isCallInProgress(e)){e.conn.abort();window.clearInterval(this.poll[e.tId]);delete this.poll[e.tId];if(h){delete this.timeout[e.tId];}this.handleTransactionResponse(e,g,true);return true;}else{return false;}},isCallInProgress:function(e){if(e.conn){return e.conn.readyState!=4&&e.conn.readyState!=0;}else{return false;}},releaseObject:function(e){e.conn=null;e=null;},activeX:["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"]};Ext.lib.Region=function(e,g,h,i){this.top=e;this[1]=e;this.right=g;this.bottom=h;this.left=i;this[0]=i;};Ext.lib.Region.prototype={contains:function(e){return(e.left>=this.left&&e.right<=this.right&&e.top>=this.top&&e.bottom<=this.bottom);},getArea:function(){return((this.bottom-this.top)*(this.right-this.left));},intersect:function(h){var k=Math.max(this.top,h.top);var e=Math.min(this.right,h.right);var g=Math.min(this.bottom,h.bottom);var i=Math.max(this.left,h.left);if(g>=k&&e>=i){return new Ext.lib.Region(k,e,g,i);}else{return null;}},union:function(h){var k=Math.min(this.top,h.top);var e=Math.max(this.right,h.right);var g=Math.max(this.bottom,h.bottom);var i=Math.min(this.left,h.left);return new Ext.lib.Region(k,e,g,i);},constrainTo:function(e){this.top=this.top.constrain(e.top,e.bottom);this.bottom=this.bottom.constrain(e.top,e.bottom);this.left=this.left.constrain(e.left,e.right);this.right=this.right.constrain(e.left,e.right);return this;},adjust:function(e,i,h,g){this.top+=e;this.left+=i;this.right+=g;this.bottom+=h;return this;}};Ext.lib.Region.getRegion=function(m){var h=Ext.lib.Dom.getXY(m);var i=h[1];var e=h[0]+m.offsetWidth;var k=h[1]+m.offsetHeight;var g=h[0];return new Ext.lib.Region(i,e,k,g);};Ext.lib.Point=function(e,g){if(Ext.isArray(e)){g=e[1];e=e[0];}this.x=this.right=this.left=this[0]=e;this.y=this.top=this.bottom=this[1]=g;};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.lib.Anim={scroll:function(l,g,e,h,k,i){return this.run(l,g,e,h,k,i,Ext.lib.Scroll);},motion:function(l,g,e,h,k,i){return this.run(l,g,e,h,k,i,Ext.lib.Motion);},color:function(l,g,e,h,k,i){return this.run(l,g,e,h,k,i,Ext.lib.ColorAnim);},run:function(n,k,g,h,i,m,l){l=l||Ext.lib.AnimBase;if(typeof h=="string"){h=Ext.lib.Easing[h];}var e=new l(n,k,g,h);e.animateX(function(){Ext.callback(i,m);});return e;}};function a(e){if(!d){d=new Ext.Element.Flyweight();}d.dom=e;return d;}if(Ext.isIE){function c(){var e=Function.prototype;delete e.createSequence;delete e.defer;delete e.createDelegate;delete e.createCallback;delete e.createInterceptor;window.detachEvent("onunload",c);}window.attachEvent("onunload",c);}Ext.lib.AnimBase=function(i,h,e,g){if(i){this.init(i,h,e,g);}};Ext.lib.AnimBase.prototype={toString:function(){var e=this.getEl();var g=e.id||e.tagName;return("Anim "+g);},patterns:{noNegatives:/width|height|opacity|padding/i,offsetAttribute:/^((width|height)|(top|left))$/,defaultUnit:/width|height|top$|bottom$|left$|right$/i,offsetUnit:/\d+(em|%|en|ex|pt|in|cm|mm|pc)$/i},doMethod:function(h,g,e){return this.method(this.currentFrame,g,e-g,this.totalFrames);},setAttribute:function(h,g,e){if(this.patterns.noNegatives.test(h)){g=(g>0)?g:0;}Ext.fly(this.getEl(),"_anim").setStyle(h,g+e);},getAttribute:function(l){var i=this.getEl();var g=a(i).getStyle(l);if(g!=="auto"&&!this.patterns.offsetUnit.test(g)){return parseFloat(g);}var e=this.patterns.offsetAttribute.exec(l)||[];var h=!!(e[3]);var k=!!(e[2]);if(k||(a(i).getStyle("position")=="absolute"&&h)){g=i["offset"+e[0].charAt(0).toUpperCase()+e[0].substr(1)];}else{g=0;}return g;},getDefaultUnit:function(e){if(this.patterns.defaultUnit.test(e)){return"px";}return"";},animateX:function(g,h){var e=function(){this.onComplete.removeListener(e);if(typeof g=="function"){g.call(h||this,this);}};this.onComplete.addListener(e,this);this.animate();},setRuntimeAttribute:function(l){var h;var k;var m=this.attributes;this.runtimeAttributes[l]={};var g=function(n){return(typeof n!=="undefined");};if(!g(m[l]["to"])&&!g(m[l]["by"])){return false;}h=(g(m[l]["from"]))?m[l]["from"]:this.getAttribute(l);if(g(m[l]["to"])){k=m[l]["to"];}else{if(g(m[l]["by"])){if(h.constructor==Array){k=[];for(var e=0,i=h.length;e<i;++e){k[e]=h[e]+m[l]["by"][e];}}else{k=h+m[l]["by"];}}}this.runtimeAttributes[l].start=h;this.runtimeAttributes[l].end=k;this.runtimeAttributes[l].unit=(g(m[l].unit))?m[l]["unit"]:this.getDefaultUnit(l);},init:function(o,i,h,m){var n=false;var p=null;var g=0;o=Ext.getDom(o);this.attributes=i||{};this.duration=h||1;this.method=m||Ext.lib.Easing.easeNone;this.useSeconds=true;this.currentFrame=0;this.totalFrames=Ext.lib.AnimMgr.fps;this.getEl=function(){return o;};this.isAnimated=function(){return n;};this.getStartTime=function(){return p;};this.runtimeAttributes={};this.animate=function(){if(this.isAnimated()){return false;}this.currentFrame=0;this.totalFrames=(this.useSeconds)?Math.ceil(Ext.lib.AnimMgr.fps*this.duration):this.duration;Ext.lib.AnimMgr.registerElement(this);};this.stop=function(q){if(q){this.currentFrame=this.totalFrames;this._onTween.fire();}Ext.lib.AnimMgr.stop(this);};var l=function(){this.onStart.fire();this.runtimeAttributes={};for(var q in this.attributes){this.setRuntimeAttribute(q);}n=true;g=0;p=new Date();};var k=function(){var s={duration:new Date()-this.getStartTime(),currentFrame:this.currentFrame};s.toString=function(){return("duration: "+s.duration+", currentFrame: "+s.currentFrame);};this.onTween.fire(s);var r=this.runtimeAttributes;for(var q in r){this.setAttribute(q,this.doMethod(q,r[q].start,r[q].end),r[q].unit);}g+=1;};var e=function(){var q=(new Date()-p)/1000;var r={duration:q,frames:g,fps:g/q};r.toString=function(){return("duration: "+r.duration+", frames: "+r.frames+", fps: "+r.fps);};n=false;g=0;this.onComplete.fire(r);};this._onStart=new Ext.util.Event(this);this.onStart=new Ext.util.Event(this);this.onTween=new Ext.util.Event(this);this._onTween=new Ext.util.Event(this);this.onComplete=new Ext.util.Event(this);this._onComplete=new Ext.util.Event(this);this._onStart.addListener(l);this._onTween.addListener(k);this._onComplete.addListener(e);}};Ext.lib.AnimMgr=new function(){var k=null;var i=[];var h=0;this.fps=1000;this.delay=1;this.registerElement=function(l){i[i.length]=l;h+=1;l._onStart.fire();this.start();};this.unRegister=function(l,m){l._onComplete.fire();m=m||g(l);if(m!=-1){i.splice(m,1);}h-=1;if(h<=0){this.stop();}};this.start=function(){if(k===null){k=setInterval(this.run,this.delay);}};this.stop=function(m){if(!m){clearInterval(k);for(var l=0,n=i.length;l<n;++l){if(i[0].isAnimated()){this.unRegister(i[0],0);}}i=[];k=null;h=0;}else{this.unRegister(m);}};this.run=function(){for(var m=0,n=i.length;m<n;++m){var l=i[m];if(!l||!l.isAnimated()){continue;}if(l.currentFrame<l.totalFrames||l.totalFrames===null){l.currentFrame+=1;if(l.useSeconds){e(l);}l._onTween.fire();}else{Ext.lib.AnimMgr.stop(l,m);}}};var g=function(m){for(var l=0,n=i.length;l<n;++l){if(i[l]==m){return l;}}return -1;};var e=function(m){var o=m.totalFrames;var n=m.currentFrame;var l=(m.currentFrame*m.duration*1000/m.totalFrames);var q=(new Date()-m.getStartTime());var p=0;if(q<m.duration*1000){p=Math.round((q/l-1)*m.currentFrame);}else{p=o-(n+1);}if(p>0&&isFinite(p)){if(m.currentFrame+p>=o){p=o-(n+1);}m.currentFrame+=p;}};};Ext.lib.Bezier=new function(){this.getPosition=function(e,l){var g=e.length;var i=[];for(var k=0;k<g;++k){i[k]=[e[k][0],e[k][1]];}for(var h=1;h<g;++h){for(k=0;k<g-h;++k){i[k][0]=(1-l)*i[k][0]+l*i[parseInt(k+1,10)][0];i[k][1]=(1-l)*i[k][1]+l*i[parseInt(k+1,10)][1];}}return[i[0][0],i[0][1]];};};(function(){Ext.lib.ColorAnim=function(l,i,m,k){Ext.lib.ColorAnim.superclass.constructor.call(this,l,i,m,k);};Ext.extend(Ext.lib.ColorAnim,Ext.lib.AnimBase);var e=Ext.lib;var g=e.ColorAnim.superclass;var h=e.ColorAnim.prototype;h.toString=function(){var i=this.getEl();var k=i.id||i.tagName;return("ColorAnim "+k);};h.patterns.color=/color$/i;h.patterns.rgb=/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i;h.patterns.hex=/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i;h.patterns.hex3=/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i;h.patterns.transparent=/^transparent|rgba\(0, 0, 0, 0\)$/;h.parseColor=function(i){if(i.length==3){return i;}var k=this.patterns.hex.exec(i);if(k&&k.length==4){return[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)];}k=this.patterns.rgb.exec(i);if(k&&k.length==4){return[parseInt(k[1],10),parseInt(k[2],10),parseInt(k[3],10)];}k=this.patterns.hex3.exec(i);if(k&&k.length==4){return[parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16)];}return null;};h.getAttribute=function(i){var m=this.getEl();if(this.patterns.color.test(i)){var l=a(m).getStyle(i);if(this.patterns.transparent.test(l)){var k=m.parentNode;l=a(k).getStyle(i);while(k&&this.patterns.transparent.test(l)){k=k.parentNode;l=a(k).getStyle(i);if(k.tagName.toUpperCase()=="HTML"){l="#fff";}}}}else{l=g.getAttribute.call(this,i);}return l;};h.doMethod=function(n,l,o){var k;if(this.patterns.color.test(n)){k=[];for(var i=0,m=l.length;i<m;++i){k[i]=g.doMethod.call(this,n,l[i],o[i]);}k="rgb("+Math.floor(k[0])+","+Math.floor(k[1])+","+Math.floor(k[2])+")";}else{k=g.doMethod.call(this,n,l,o);}return k;};h.setRuntimeAttribute=function(n){g.setRuntimeAttribute.call(this,n);if(this.patterns.color.test(n)){var i=this.attributes;var l=this.parseColor(this.runtimeAttributes[n].start);var o=this.parseColor(this.runtimeAttributes[n].end);if(typeof i[n]["to"]==="undefined"&&typeof i[n]["by"]!=="undefined"){o=this.parseColor(i[n].by);for(var k=0,m=l.length;k<m;++k){o[k]=l[k]+o[k];}}this.runtimeAttributes[n].start=l;this.runtimeAttributes[n].end=o;}};})();Ext.lib.Easing={easeNone:function(i,h,g,e){return g*i/e+h;},easeIn:function(i,h,g,e){return g*(i/=e)*i+h;},easeOut:function(i,h,g,e){return -g*(i/=e)*(i-2)+h;},easeBoth:function(i,h,g,e){if((i/=e/2)<1){return g/2*i*i+h;}return -g/2*((--i)*(i-2)-1)+h;},easeInStrong:function(i,h,g,e){return g*(i/=e)*i*i*i+h;},easeOutStrong:function(i,h,g,e){return -g*((i=i/e-1)*i*i*i-1)+h;},easeBothStrong:function(i,h,g,e){if((i/=e/2)<1){return g/2*i*i*i*i+h;}return -g/2*((i-=2)*i*i*i-2)+h;},elasticIn:function(m,h,g,e,k,l){if(m==0){return h;}if((m/=e)==1){return h+g;}if(!l){l=e*0.3;}if(!k||k<Math.abs(g)){k=g;var i=l/4;}else{var i=l/(2*Math.PI)*Math.asin(g/k);}return -(k*Math.pow(2,10*(m-=1))*Math.sin((m*e-i)*(2*Math.PI)/l))+h;},elasticOut:function(m,h,g,e,k,l){if(m==0){return h;}if((m/=e)==1){return h+g;}if(!l){l=e*0.3;}if(!k||k<Math.abs(g)){k=g;var i=l/4;}else{var i=l/(2*Math.PI)*Math.asin(g/k);}return k*Math.pow(2,-10*m)*Math.sin((m*e-i)*(2*Math.PI)/l)+g+h;},elasticBoth:function(m,h,g,e,k,l){if(m==0){return h;}if((m/=e/2)==2){return h+g;}if(!l){l=e*(0.3*1.5);}if(!k||k<Math.abs(g)){k=g;var i=l/4;}else{var i=l/(2*Math.PI)*Math.asin(g/k);}if(m<1){return -0.5*(k*Math.pow(2,10*(m-=1))*Math.sin((m*e-i)*(2*Math.PI)/l))+h;}return k*Math.pow(2,-10*(m-=1))*Math.sin((m*e-i)*(2*Math.PI)/l)*0.5+g+h;},backIn:function(i,h,g,e,k){if(typeof k=="undefined"){k=1.70158;}return g*(i/=e)*i*((k+1)*i-k)+h;},backOut:function(i,h,g,e,k){if(typeof k=="undefined"){k=1.70158;}return g*((i=i/e-1)*i*((k+1)*i+k)+1)+h;},backBoth:function(i,h,g,e,k){if(typeof k=="undefined"){k=1.70158;}if((i/=e/2)<1){return g/2*(i*i*(((k*=(1.525))+1)*i-k))+h;}return g/2*((i-=2)*i*(((k*=(1.525))+1)*i+k)+2)+h;},bounceIn:function(i,h,g,e){return g-Ext.lib.Easing.bounceOut(e-i,0,g,e)+h;},bounceOut:function(i,h,g,e){if((i/=e)<(1/2.75)){return g*(7.5625*i*i)+h;}else{if(i<(2/2.75)){return g*(7.5625*(i-=(1.5/2.75))*i+0.75)+h;}else{if(i<(2.5/2.75)){return g*(7.5625*(i-=(2.25/2.75))*i+0.9375)+h;}}}return g*(7.5625*(i-=(2.625/2.75))*i+0.984375)+h;},bounceBoth:function(i,h,g,e){if(i<e/2){return Ext.lib.Easing.bounceIn(i*2,0,g,e)*0.5+h;}return Ext.lib.Easing.bounceOut(i*2-e,0,g,e)*0.5+g*0.5+h;}};(function(){Ext.lib.Motion=function(l,o,m,n){if(l){Ext.lib.Motion.superclass.constructor.call(this,l,o,m,n);}};Ext.extend(Ext.lib.Motion,Ext.lib.ColorAnim);var e=Ext.lib;var h=e.Motion.superclass;var i=e.Motion.prototype;i.toString=function(){var m=this.getEl();var l=m.id||m.tagName;return("Motion "+l);};i.patterns.points=/^points$/i;i.setAttribute=function(n,m,l){if(this.patterns.points.test(n)){l=l||"px";h.setAttribute.call(this,"left",m[0],l);h.setAttribute.call(this,"top",m[1],l);}else{h.setAttribute.call(this,n,m,l);}};i.getAttribute=function(m){if(this.patterns.points.test(m)){var l=[h.getAttribute.call(this,"left"),h.getAttribute.call(this,"top")];}else{l=h.getAttribute.call(this,m);}return l;};i.doMethod=function(p,o,l){var n=null;if(this.patterns.points.test(p)){var m=this.method(this.currentFrame,0,100,this.totalFrames)/100;n=e.Bezier.getPosition(this.runtimeAttributes[p],m);}else{n=h.doMethod.call(this,p,o,l);}return n;};i.setRuntimeAttribute=function(n){if(this.patterns.points.test(n)){var q=this.getEl();var s=this.attributes;var o;var u=s.points["control"]||[];var r;var p,m;if(u.length>0&&!Ext.isArray(u[0])){u=[u];}else{var t=[];for(p=0,m=u.length;p<m;++p){t[p]=u[p];}u=t;}Ext.fly(q,"_anim").position();if(k(s.points["from"])){Ext.lib.Dom.setXY(q,s.points["from"]);}else{Ext.lib.Dom.setXY(q,Ext.lib.Dom.getXY(q));}o=this.getAttribute("points");if(k(s.points["to"])){r=g.call(this,s.points["to"],o);var l=Ext.lib.Dom.getXY(this.getEl());for(p=0,m=u.length;p<m;++p){u[p]=g.call(this,u[p],o);}}else{if(k(s.points["by"])){r=[o[0]+s.points["by"][0],o[1]+s.points["by"][1]];for(p=0,m=u.length;p<m;++p){u[p]=[o[0]+u[p][0],o[1]+u[p][1]];}}}this.runtimeAttributes[n]=[o];if(u.length>0){this.runtimeAttributes[n]=this.runtimeAttributes[n].concat(u);}this.runtimeAttributes[n][this.runtimeAttributes[n].length]=r;}else{h.setRuntimeAttribute.call(this,n);}};var g=function(n,m){var l=Ext.lib.Dom.getXY(this.getEl());n=[n[0]-l[0]+m[0],n[1]-l[1]+m[1]];return n;};var k=function(l){return(typeof l!=="undefined");};})();(function(){Ext.lib.Scroll=function(l,i,m,k){if(l){Ext.lib.Scroll.superclass.constructor.call(this,l,i,m,k);}};Ext.extend(Ext.lib.Scroll,Ext.lib.ColorAnim);var e=Ext.lib;var g=e.Scroll.superclass;var h=e.Scroll.prototype;h.toString=function(){var i=this.getEl();var k=i.id||i.tagName;return("Scroll "+k);};h.doMethod=function(i,l,k){var m=null;if(i=="scroll"){m=[this.method(this.currentFrame,l[0],k[0]-l[0],this.totalFrames),this.method(this.currentFrame,l[1],k[1]-l[1],this.totalFrames)];}else{m=g.doMethod.call(this,i,l,k);}return m;};h.getAttribute=function(l){var k=null;var i=this.getEl();if(l=="scroll"){k=[i.scrollLeft,i.scrollTop];}else{k=g.getAttribute.call(this,l);}return k;};h.setAttribute=function(i,l,m){var k=this.getEl();if(i=="scroll"){k.scrollLeft=l[0];k.scrollTop=l[1];}else{g.setAttribute.call(this,i,l,m);}};})();})();Ext.DomHelper=function(){var b=null;var k=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i;var e=/^table|tbody|tr|td$/i;var c=function(p){if(typeof p=="string"){return p;}var s="";if(Ext.isArray(p)){for(var v=0,t=p.length;v<t;v++){s+=c(p[v]);}return s;}if(!p.tag){p.tag="div";}s+="<"+p.tag;for(var r in p){if(r=="tag"||r=="children"||r=="cn"||r=="html"||typeof p[r]=="function"){continue;}if(r=="style"){var w=p.style;if(typeof w=="function"){w=w.call();}if(typeof w=="string"){s+=' style="'+w+'"';}else{if(typeof w=="object"){s+=' style="';for(var u in w){if(typeof w[u]!="function"){s+=u+":"+w[u]+";";}}s+='"';}}}else{if(r=="cls"){s+=' class="'+p.cls+'"';}else{if(r=="htmlFor"){s+=' for="'+p.htmlFor+'"';}else{s+=" "+r+'="'+p[r]+'"';}}}}if(k.test(p.tag)){s+="/>";}else{s+=">";var q=p.children||p.cn;if(q){s+=c(q);}else{if(p.html){s+=p.html;}}s+="</"+p.tag+">";}return s;};var d=function(p,s){var w;if(Ext.isArray(p)){w=document.createDocumentFragment();for(var v=0,t=p.length;v<t;v++){d(p[v],w);}}else{if(typeof p=="string"){w=document.createTextNode(p);}else{w=document.createElement(p.tag||"div");var u=!!w.setAttribute;for(var r in p){if(r=="tag"||r=="children"||r=="cn"||r=="html"||r=="style"||typeof p[r]=="function"){continue;}if(r=="cls"){w.className=p.cls;}else{if(u){w.setAttribute(r,p[r]);}else{w[r]=p[r];}}}Ext.DomHelper.applyStyles(w,p.style);var q=p.children||p.cn;if(q){d(q,w);}else{if(p.html){w.innerHTML=p.html;}}}}if(s){s.appendChild(w);}return w;};var n=function(q,u,t,p){b.innerHTML=[u,t,p].join("");var r=-1,s=b;while(++r<q){s=s.firstChild;}return s;};var o="<table>",i="</table>",g=o+"<tbody>",a="</tbody>"+i,m=g+"<tr>",h="</tr>"+a;var l=function(r,s,u,t){if(!b){b=document.createElement("div");}var p;var q=null;if(r=="td"){if(s=="afterbegin"||s=="beforeend"){return;}if(s=="beforebegin"){q=u;u=u.parentNode;}else{q=u.nextSibling;u=u.parentNode;}p=n(4,m,t,h);}else{if(r=="tr"){if(s=="beforebegin"){q=u;u=u.parentNode;p=n(3,g,t,a);}else{if(s=="afterend"){q=u.nextSibling;u=u.parentNode;p=n(3,g,t,a);}else{if(s=="afterbegin"){q=u.firstChild;}p=n(4,m,t,h);}}}else{if(r=="tbody"){if(s=="beforebegin"){q=u;u=u.parentNode;p=n(2,o,t,i);}else{if(s=="afterend"){q=u.nextSibling;u=u.parentNode;p=n(2,o,t,i);}else{if(s=="afterbegin"){q=u.firstChild;}p=n(3,g,t,a);}}}else{if(s=="beforebegin"||s=="afterend"){return;}if(s=="afterbegin"){q=u.firstChild;}p=n(2,o,t,i);}}}u.insertBefore(p,q);return p;};return{useDom:false,markup:function(p){return c(p);},applyStyles:function(t,p){if(p){t=Ext.fly(t);if(typeof p=="string"){var s=/\s?([a-z\-]*)\:\s?([^;]*);?/gi;var q;while((q=s.exec(p))!=null){t.setStyle(q[1],q[2]);}}else{if(typeof p=="object"){for(var r in p){t.setStyle(r,p[r]);}}else{if(typeof p=="function"){Ext.DomHelper.applyStyles(t,p.call());}}}}},insertHtml:function(t,p,u){t=t.toLowerCase();if(p.insertAdjacentHTML){if(e.test(p.tagName)){var s;if(s=l(p.tagName.toLowerCase(),t,p,u)){return s;}}switch(t){case"beforebegin":p.insertAdjacentHTML("BeforeBegin",u);return p.previousSibling;case"afterbegin":p.insertAdjacentHTML("AfterBegin",u);return p.firstChild;case"beforeend":p.insertAdjacentHTML("BeforeEnd",u);return p.lastChild;case"afterend":p.insertAdjacentHTML("AfterEnd",u);return p.nextSibling;}throw'Illegal insertion point -> "'+t+'"';}var r=p.ownerDocument.createRange();var q;switch(t){case"beforebegin":r.setStartBefore(p);q=r.createContextualFragment(u);p.parentNode.insertBefore(q,p);return p.previousSibling;case"afterbegin":if(p.firstChild){r.setStartBefore(p.firstChild);q=r.createContextualFragment(u);p.insertBefore(q,p.firstChild);return p.firstChild;}else{p.innerHTML=u;return p.firstChild;}case"beforeend":if(p.lastChild){r.setStartAfter(p.lastChild);q=r.createContextualFragment(u);p.appendChild(q);return p.lastChild;}else{p.innerHTML=u;return p.lastChild;}case"afterend":r.setStartAfter(p);q=r.createContextualFragment(u);p.parentNode.insertBefore(q,p.nextSibling);return p.nextSibling;}throw'Illegal insertion point -> "'+t+'"';},insertBefore:function(r,q,p){return this.doInsert(r,q,p,"beforeBegin");},insertAfter:function(r,q,p){return this.doInsert(r,q,p,"afterEnd","nextSibling");},insertFirst:function(r,q,p){return this.doInsert(r,q,p,"afterBegin","firstChild");},doInsert:function(u,p,v,q,t){u=Ext.getDom(u);var s;if(this.useDom){s=d(p,null);(t==="firstChild"?u:u.parentNode).insertBefore(s,t?u[t]:u);}else{var r=c(p);s=this.insertHtml(q,u,r);}return v?Ext.get(s,true):s;},append:function(t,q,p){t=Ext.getDom(t);var s;if(this.useDom){s=d(q,null);t.appendChild(s);}else{var r=c(q);s=this.insertHtml("beforeEnd",t,r);}return p?Ext.get(s,true):s;},overwrite:function(r,q,p){r=Ext.getDom(r);r.innerHTML=c(q);return p?Ext.get(r.firstChild,true):r.firstChild;},createTemplate:function(q){var p=c(q);return new Ext.Template(p);}};}();Ext.Template=function(g){var c=arguments;if(Ext.isArray(g)){g=g.join("");}else{if(c.length>1){var d=[];for(var e=0,b=c.length;e<b;e++){if(typeof c[e]=="object"){Ext.apply(this,c[e]);}else{d[d.length]=c[e];}}g=d.join("");}}this.html=g;if(this.compiled){this.compile();}};Ext.Template.prototype={applyTemplate:function(e){if(this.compiled){return this.compiled(e);}var d=this.disableFormats!==true;var c=Ext.util.Format,a=this;var b=function(o,i,l,h){if(l&&d){if(l.substr(0,5)=="this."){return a.call(l.substr(5),e[i],e);}else{if(h){var g=/^\s*['"](.*)["']\s*$/;h=h.split(",");for(var k=0,n=h.length;k<n;k++){h[k]=h[k].replace(g,"$1");}h=[e[i]].concat(h);}else{h=[e[i]];}return c[l].apply(c,h);}}else{return e[i]!==undefined?e[i]:"";}};return this.html.replace(this.re,b);},set:function(a,b){this.html=a;this.compiled=null;if(b){this.compile();}return this;},disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,compile:function(){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';args=", values";}}else{args="";format="(values['"+name+"'] == undefined ? '' : ";}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'";};var body;if(Ext.isGecko){body="this.compiled = function(values){ return '"+this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+"';};";}else{body=["this.compiled = function(values){ return ['"];body.push(this.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn));body.push("'].join('');};");body=body.join("");}eval(body);return this;},call:function(a,c,b){return this[a](c,b);},insertFirst:function(c,b,a){return this.doInsert("afterBegin",c,b,a);},insertBefore:function(c,b,a){return this.doInsert("beforeBegin",c,b,a);},insertAfter:function(c,b,a){return this.doInsert("afterEnd",c,b,a);},append:function(c,b,a){return this.doInsert("beforeEnd",c,b,a);},doInsert:function(a,c,e,d){c=Ext.getDom(c);var b=Ext.DomHelper.insertHtml(a,c,this.applyTemplate(e));return d?Ext.get(b,true):b;},overwrite:function(c,b,a){c=Ext.getDom(c);c.innerHTML=this.applyTemplate(b);return a?Ext.get(c.firstChild,true):c.firstChild;}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"");};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={};var nonSpace=/\S/;var trimRe=/^\s+|\s+$/g;var tplRe=/\{(\d+)\}/g;var modeRe=/^(\s?[\/>+~]\s?|\s|$)/;var tagTokenRe=/^(#)?([\w-\*]+)/;var nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/;function child(p,index){var i=0;var n=p.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n;}}n=n.nextSibling;}return null;}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n;}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n;}function children(d){var n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){d.removeChild(n);}else{n.nodeIndex=++ni;}n=nx;}return this;}function byClassName(c,a,v){if(!v){return c;}var r=[],ri=-1,cn;for(var i=0,ci;ci=c[i];i++){if((" "+ci.className+" ").indexOf(v)!=-1){r[++ri]=ci;}}return r;}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0];}if(!n){return null;}if(attr=="for"){return n.htmlFor;}if(attr=="class"||attr=="className"){return n.className;}return n.getAttribute(attr)||n[attr];}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result;}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns];}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci;}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.children||ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj;}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n;}}}else{if(mode=="~"){for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&(n.nodeType!=1||(tagName=="*"||n.tagName.toLowerCase()!=tagName))){}if(n){result[++ri]=n;}}}}}}return result;}function concat(a,b){if(b.slice){return a.concat(b);}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i];}return a;}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs];}if(!tagName){return cs;}var r=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){r[++ri]=ci;}}return r;}function byId(cs,attr,id){if(cs.tagName||cs==document){cs=[cs];}if(!id){return cs;}var r=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){r[++ri]=ci;return r;}}return r;}function byAttribute(cs,attr,value,op,custom){var r=[],ri=-1,st=custom=="{";var f=Ext.DomQuery.operators[op];for(var i=0,ci;ci=cs[i];i++){var a;if(st){a=Ext.DomQuery.getStyle(ci,attr);}else{if(attr=="class"||attr=="className"){a=ci.className;}else{if(attr=="for"){a=ci.htmlFor;}else{if(attr=="href"){a=ci.getAttribute("href",2);}else{a=ci.getAttribute(attr);}}}}if((f&&f(a,value))||(!f&&a)){r[++ri]=ci;}}return r;}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value);}var isIE=window.ActiveXObject?true:false;eval("var batch = 30803;");var key=30803;function nodupIEXml(cs){var d=++key;cs[0].setAttribute("_nodup",d);var r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c;}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup");}return r;}function nodup(cs){if(!cs){return[];}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs;}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs);}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d;}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j];}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj;}}return r;}}return r;}function quickDiffIEXml(c1,c2){var d=++key;for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d);}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i];}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff");}return r;}function quickDiff(c1,c2){var len1=c1.length;if(!len1){return c2;}if(isIE&&c1[0].selectSingleNode){return quickDiffIEXml(c1,c2);}var d=++key;for(var i=0;i<len1;i++){c1[i]._qdiff=d;}var r=[];for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i];}}return r;}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id);}ns=getNodes(ns,mode,"*");return byId(ns,null,id);}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name);},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"];var q=path,mode,lq;var tk=Ext.DomQuery.matchers;var tklen=tk.length;var mm;var lmode=q.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';q=q.replace(lmode[1],"");}while(path.substr(0,1)=="/"){path=path.substr(1);}while(q&&lq!=q){lq=q;var tm=q.match(tagTokenRe);if(type=="select"){if(tm){if(tm[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tm[2]+'");';}else{fn[fn.length]='n = getNodes(n, mode, "'+tm[2]+'");';}q=q.replace(tm[0],"");}else{if(q.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");';}}}else{if(tm){if(tm[1]=="#"){fn[fn.length]='n = byId(n, null, "'+tm[2]+'");';}else{fn[fn.length]='n = byTag(n, "'+tm[2]+'");';}q=q.replace(tm[0],"");}}while(!(mm=q.match(modeRe))){var matched=false;for(var j=0;j<tklen;j++){var t=tk[j];var m=q.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i];});q=q.replace(m[0],"");matched=true;break;}}if(!matched){throw'Error parsing selector, parsing failed at "'+q+'"';}}if(mm[1]){fn[fn.length]='mode="'+mm[1].replace(trimRe,"")+'";';q=q.replace(mm[1],"");}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f;},select:function(path,root,type){if(!root||root==document){root=document;}if(typeof root=="string"){root=document.getElementById(root);}var paths=path.split(",");var results=[];for(var i=0,len=paths.length;i<len;i++){var p=paths[i].replace(trimRe,"");if(!cache[p]){cache[p]=Ext.DomQuery.compile(p);if(!cache[p]){throw p+" is not a valid selector";}}var result=cache[p](root);if(result&&result!=document){results=results.concat(result);}}if(paths.length>1){return nodup(results);}return results;},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0];},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select");}var n=valueCache[path](root);n=n[0]?n[0]:n;var v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v);},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v);},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el);}var isArray=Ext.isArray(el);var result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0);},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple");}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result;},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, null, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, null, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v;},"!=":function(a,v){return a!=v;},"^=":function(a,v){return a&&a.substr(0,v.length)==v;},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v;},"*=":function(a,v){return a&&a.indexOf(v)!==-1;},"%=":function(a,v){return(a%v)==0;},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-");},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1;}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;}}return r;},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci;}}return r;},"nth-child":function(c,a){var r=[],ri=-1;var m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a);var f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j;}}pn._batch=batch;}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n;}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n;}}}return r;},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci;}}return r;},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break;}}if(empty){r[++ri]=ci;}}return r;},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci;}}return r;},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci;}}return r;},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci;}}return r;},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true);},any:function(c,selectors){var ss=selectors.split("|");var r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break;}}}return r;},odd:function(c){return this["nth-child"](c,"odd");},even:function(c){return this["nth-child"](c,"even");},nth:function(c,a){return c[a-1]||[];},first:function(c){return c[0]||[];},last:function(c){return c[c.length-1]||[];},has:function(c,ss){var s=Ext.DomQuery.select;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci;}}return r;},next:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;},prev:function(c,ss){var is=Ext.DomQuery.is;var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci;}}return r;}}};}();Ext.query=Ext.DomQuery.select;Ext.util.Observable=function(){if(this.listeners){this.on(this.listeners);delete this.listeners;}if(!this.events){this.events={};}};Ext.util.Observable.prototype={fireEvent:function(){var d=Array.prototype.slice.call(arguments,0);var b=d[0];if(b===true){d.shift();var h=this;while(h){if(h.fireEvent.apply(h,d)===false){return false;}h=h.getBubbleTarget?h.getBubbleTarget():null;}return true;}if(this.eventsSuspended===true){var e=this.suspendedEventsQueue;if(e){e[e.length]=d;}}else{var g=this.events[b.toLowerCase()];if(typeof g=="object"){d.shift();return g.fire.apply(g,d);}}return true;},filterOptRe:/^(?:scope|delay|buffer|single)$/,addListener:function(d,h,g,c){if(typeof d=="object"){c=d;for(var b in c){if(this.filterOptRe.test(b)){continue;}if(typeof c[b]=="function"){this.addListener(b,c[b],c.scope,c);}else{this.addListener(b,c[b].fn,c[b].scope,c[b]);}}return;}c=(!c||typeof c=="boolean")?{}:c;d=d.toLowerCase();var a=this.events[d]||true;if(typeof a=="boolean"){a=new Ext.util.Event(this,d);this.events[d]=a;}a.addListener(h,g,c);},removeListener:function(c,a,d){var b=this.events[c.toLowerCase()];if(typeof b=="object"){b.removeListener(a,d);}},purgeListeners:function(){for(var a in this.events){if(typeof this.events[a]=="object"){this.events[a].clearListeners();}}},relayEvents:function(c,a){var b=function(h){return function(){return this.fireEvent.apply(this,Ext.combine(h,Array.prototype.slice.call(arguments,0)));};};for(var g=0,d=a.length;g<d;g++){var e=a[g];if(!this.events[e]){this.events[e]=true;}c.on(e,b(e),this);}},addEvents:function(e){if(!this.events){this.events={};}if(typeof e=="string"){for(var d=0,b=arguments,c;c=b[d];d++){if(!this.events[b[d]]){this.events[b[d]]=true;}}}else{Ext.applyIf(this.events,e);}},hasListener:function(a){var b=this.events[a];return typeof b=="object"&&b.listeners.length>0;},suspendEvents:function(a){this.eventsSuspended=true;if(a===true){this.suspendedEventsQueue=[];}},resumeEvents:function(){this.eventsSuspended=false;if(this.suspendedEventsQueue){for(var c=0,a=this.suspendedEventsQueue,b=a.length;c<b;c++){this.fireEvent.apply(this,a[c]);}delete this.suspendedEventQueue;}},getMethodEvent:function(b){if(!this.methodEvents){this.methodEvents={};}var a=this.methodEvents[b];if(!a){a={};this.methodEvents[b]=a;a.originalFn=this[b];a.methodName=b;a.before=[];a.after=[];var g,d,h;var i=this;var c=function(k,e,l){if((d=k.apply(e||i,l))!==undefined){if(typeof d==="object"){if(d.returnValue!==undefined){g=d.returnValue;}else{g=d;}if(d.cancel===true){h=true;}}else{if(d===false){h=true;}else{g=d;}}}};this[b]=function(){g=d=undefined;h=false;var e=Array.prototype.slice.call(arguments,0);for(var k=0,l=a.before.length;k<l;k++){c(a.before[k].fn,a.before[k].scope,e);if(h){return g;}}if((d=a.originalFn.apply(i,e))!==undefined){g=d;}for(var k=0,l=a.after.length;k<l;k++){c(a.after[k].fn,a.after[k].scope,e);if(h){return g;}}return g;};}return a;},beforeMethod:function(b,d,c){var a=this.getMethodEvent(b);a.before.push({fn:d,scope:c});},afterMethod:function(b,d,c){var a=this.getMethodEvent(b);a.after.push({fn:d,scope:c});},removeMethodListener:function(c,a,h){var b=this.getMethodEvent(c);for(var g=0,d=b.before.length;g<d;g++){if(b.before[g].fn==a&&b.before[g].scope==h){b.before.splice(g,1);return;}}for(var g=0,d=b.after.length;g<d;g++){if(b.after[g].fn==a&&b.after[g].scope==h){b.after.splice(g,1);return;}}}};Ext.util.Observable.prototype.on=Ext.util.Observable.prototype.addListener;Ext.util.Observable.prototype.un=Ext.util.Observable.prototype.removeListener;Ext.util.Observable.capture=function(a,c,b){a.fireEvent=a.fireEvent.createInterceptor(c,b);};Ext.util.Observable.releaseCapture=function(a){a.fireEvent=Ext.util.Observable.prototype.fireEvent;};(function(){var d=function(e,g,i){var h=new Ext.util.DelayedTask();return function(){h.delay(g.buffer,e,i,Array.prototype.slice.call(arguments,0));};};var b=function(e,g,i,h){return function(){g.removeListener(i,h);return e.apply(h,arguments);};};var c=function(e,g,h){return function(){var i=Array.prototype.slice.call(arguments,0);setTimeout(function(){e.apply(h,i);},g.delay||10);};};var a=function(e,g,h){return function(){if(g.target==arguments[0]){e.apply(h,Array.prototype.slice.call(arguments,0));}};};Ext.util.Event=function(g,e){this.name=e;this.obj=g;this.listeners=[];};Ext.util.Event.prototype={addListener:function(g,e,i){e=e||this.obj;if(!this.isListening(g,e)){var h=this.createListener(g,e,i);if(!this.firing){this.listeners.push(h);}else{this.listeners=this.listeners.slice(0);this.listeners.push(h);}}},createListener:function(e,k,h){h=h||{};k=k||this.obj;var g={fn:e,scope:k,options:h};var i=e;if(h.target){i=a(i,h,k);}if(h.delay){i=c(i,h,k);}if(h.single){i=b(i,this,e,k);}if(h.buffer){i=d(i,h,k);}g.fireFn=i;return g;},findListener:function(k,h){h=h||this.obj;var m=this.listeners;for(var e=0,g=m.length;e<g;e++){var i=m[e];if(i.fn==k&&i.scope==h){return e;}}return -1;},isListening:function(g,e){return this.findListener(g,e)!=-1;},removeListener:function(g,e){var h;if((h=this.findListener(g,e))!=-1){if(!this.firing){this.listeners.splice(h,1);}else{this.listeners=this.listeners.slice(0);this.listeners.splice(h,1);}return true;}return false;},clearListeners:function(){this.listeners=[];},fire:function(){var m=this.listeners,k,h=m.length;if(h>0){this.firing=true;var e=Array.prototype.slice.call(arguments,0);for(var g=0;g<h;g++){var i=m[g];if(i.fireFn.apply(i.scope||this.obj||window,arguments)===false){this.firing=false;return false;}}this.firing=false;}return true;}};})();Ext.EventManager=function(){var o,r,m=false;var n,y,g,t;var q=Ext.lib.Event;var s=Ext.lib.Dom;var a="Ext";var i={};var p=function(F,A,E,C,B){var z=Ext.id(F);if(!i[z]){i[z]={};}var G=i[z];if(!G[A]){G[A]=[];}var D=G[A];D.push({id:z,ename:A,fn:E,wrap:C,scope:B});q.on(F,A,C);if(A=="mousewheel"&&F.addEventListener){F.addEventListener("DOMMouseScroll",C,false);q.on(window,"unload",function(){F.removeEventListener("DOMMouseScroll",C,false);});}if(A=="mousedown"&&F==document){Ext.EventManager.stoppedMouseDownEvent.addListener(C);}};var h=function(H,J,C,E){H=Ext.getDom(H);var F=Ext.id(H),D=i[F],G;if(D){var A=D[J],I;if(A){for(var z=0,B=A.length;z<B;z++){I=A[z];if(I.fn==C&&(!E||I.scope==E)){G=I.wrap;q.un(H,J,G);A.splice(z,1);break;}}}}if(J=="mousewheel"&&H.addEventListener&&G){H.removeEventListener("DOMMouseScroll",G,false);}if(J=="mousedown"&&H==document&&G){Ext.EventManager.stoppedMouseDownEvent.removeListener(G);}};var d=function(E){E=Ext.getDom(E);var z=Ext.id(E),F=i[z],A;if(F){for(var C in F){if(F.hasOwnProperty(C)){A=F[C];for(var B=0,D=A.length;B<D;B++){q.un(E,C,A[B].wrap);A[B]=null;}}F[C]=null;}delete i[z];}};var c=function(){if(!m){m=true;Ext.isReady=true;if(r){clearInterval(r);}if(Ext.isGecko||Ext.isOpera){document.removeEventListener("DOMContentLoaded",c,false);}if(Ext.isIE){var z=document.getElementById("ie-deferred-loader");if(z){z.onreadystatechange=null;z.parentNode.removeChild(z);}}if(o){o.fire();o.clearListeners();}}};var b=function(){o=new Ext.util.Event();if(Ext.isGecko||Ext.isOpera){document.addEventListener("DOMContentLoaded",c,false);}else{if(Ext.isIE){document.write('<script id="ie-deferred-loader" defer="defer" src="//:"><\/script>');var z=document.getElementById("ie-deferred-loader");z.onreadystatechange=function(){if(this.readyState=="complete"){c();}};}else{if(Ext.isSafari){r=setInterval(function(){var A=document.readyState;if(A=="complete"){c();}},10);}}}q.on(window,"load",c);};var x=function(A,B){var z=new Ext.util.DelayedTask(A);return function(C){C=new Ext.EventObjectImpl(C);z.delay(B.buffer,A,null,[C]);};};var u=function(z,C,D,B,A){return function(E){Ext.EventManager.removeListener(C,D,B,A);z(E);};};var e=function(z,A){return function(B){B=new Ext.EventObjectImpl(B);setTimeout(function(){z(B);},A.delay||10);};};var w=function(z,A){return function(){if(A.target==Ext.EventObject.setEvent(arguments[0]).target){z.apply(this,Array.prototype.slice.call(arguments,0));}};};var l=function(B,A,C,G,F){var z=(!C||typeof C=="boolean")?{}:C;G=G||z.fn;F=F||z.scope;var E=Ext.getDom(B);if(!E){throw'Error listening for "'+A+'". Element "'+B+"\" doesn't exist.";}var D=function(I){if(!window[a]){return;}I=Ext.EventObject.setEvent(I);var H;if(z.delegate){H=I.getTarget(z.delegate,E);if(!H){return;}}else{H=I.target;}if(z.stopEvent===true){I.stopEvent();}if(z.preventDefault===true){I.preventDefault();}if(z.stopPropagation===true){I.stopPropagation();}if(z.normalized===false){I=I.browserEvent;}G.call(F||E,I,H,z);};if(z.target){D=w(D,z);}if(z.delay){D=e(D,z);}if(z.single){D=u(D,E,A,G,F);}if(z.buffer){D=x(D,z);}p(E,A,G,D,F);return D;};var k=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var v={addListener:function(B,C,E,D,A){if(typeof C=="object"){var z=C;for(var F in z){if(k.test(F)){continue;}if(typeof z[F]=="function"){l(B,F,z,z[F],z.scope);}else{l(B,F,z[F]);}}return;}return l(B,C,A,E,D);},removeListener:function(A,C,z,B){return h(A,C,z,B);},removeAll:function(z){return d(z);},onDocumentReady:function(B,A,z){if(m){o.addListener(B,A,z);o.fire();o.clearListeners();return;}if(!o){b();}z=z||{};if(!z.delay){z.delay=1;}o.addListener(B,A,z);},doResizeEvent:function(){n.fire(s.getViewWidth(),s.getViewHeight());},onWindowResize:function(B,A,z){if(!n){n=new Ext.util.Event();y=new Ext.util.DelayedTask(this.doResizeEvent);q.on(window,"resize",this.fireWindowResize,this);}n.addListener(B,A,z);},fireWindowResize:function(){if(n){if((Ext.isIE||Ext.isAir)&&y){y.delay(50);}else{n.fire(s.getViewWidth(),s.getViewHeight());}}},onTextResize:function(C,B,z){if(!g){g=new Ext.util.Event();var A=new Ext.Element(document.createElement("div"));A.dom.className="x-text-resize";A.dom.innerHTML="X";A.appendTo(document.body);t=A.dom.offsetHeight;setInterval(function(){if(A.dom.offsetHeight!=t){g.fire(t,t=A.dom.offsetHeight);}},this.textResizeInterval);}g.addListener(C,B,z);},removeResizeListener:function(A,z){if(n){n.removeListener(A,z);}},fireResize:function(){if(n){n.fire(s.getViewWidth(),s.getViewHeight());}},ieDeferSrc:false,textResizeInterval:50};v.on=v.addListener;v.un=v.removeListener;v.stoppedMouseDownEvent=new Ext.util.Event();return v;}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var a=function(){var c=document.body||document.getElementsByTagName("body")[0];if(!c){return false;}var b=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isSafari?"ext-safari":Ext.isChrome?"ext-chrome":""];if(Ext.isMac){b.push("ext-mac");}if(Ext.isLinux){b.push("ext-linux");}if(Ext.isBorderBox){b.push("ext-border-box");}if(Ext.isStrict){var d=c.parentNode;if(d){d.className+=" ext-strict";}}c.className+=b.join(" ");return true;};if(!a()){Ext.onReady(a);}})();Ext.EventObject=function(){var c=Ext.lib.Event;var b={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35};var a=Ext.isIE?{1:0,4:1,2:2}:(Ext.isSafari?{1:0,2:1,3:2}:{0:0,1:1,2:2});Ext.EventObjectImpl=function(d){if(d){this.setEvent(d.browserEvent||d);}};Ext.EventObjectImpl.prototype={browserEvent:null,button:-1,shiftKey:false,ctrlKey:false,altKey:false,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,setEvent:function(d){if(d==this||(d&&d.browserEvent)){return d;}this.browserEvent=d;if(d){this.button=d.button?a[d.button]:(d.which?d.which-1:-1);if(d.type=="click"&&this.button==-1){this.button=0;}this.type=d.type;this.shiftKey=d.shiftKey;this.ctrlKey=d.ctrlKey||d.metaKey;this.altKey=d.altKey;this.keyCode=d.keyCode;this.charCode=d.charCode;this.target=c.getTarget(d);this.xy=c.getXY(d);}else{this.button=-1;this.shiftKey=false;this.ctrlKey=false;this.altKey=false;this.keyCode=0;this.charCode=0;this.target=null;this.xy=[0,0];}return this;},stopEvent:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this);}c.stopEvent(this.browserEvent);}},preventDefault:function(){if(this.browserEvent){c.preventDefault(this.browserEvent);}},isNavKeyPress:function(){var d=this.keyCode;d=Ext.isSafari?(b[d]||d):d;return(d>=33&&d<=40)||d==this.RETURN||d==this.TAB||d==this.ESC;},isSpecialKey:function(){var d=this.keyCode;return(this.type=="keypress"&&this.ctrlKey)||d==9||d==13||d==40||d==27||(d==16)||(d==17)||(d>=18&&d<=20)||(d>=33&&d<=35)||(d>=36&&d<=39)||(d>=44&&d<=45);},stopPropagation:function(){if(this.browserEvent){if(this.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(this);}c.stopPropagation(this.browserEvent);}},getCharCode:function(){return this.charCode||this.keyCode;},getKey:function(){var d=this.keyCode||this.charCode;return Ext.isSafari?(b[d]||d):d;},getPageX:function(){return this.xy[0];},getPageY:function(){return this.xy[1];},getTime:function(){if(this.browserEvent){return c.getTime(this.browserEvent);}return null;},getXY:function(){return this.xy;},getTarget:function(d,e,g){return d?Ext.fly(this.target).findParent(d,e,g):(g?Ext.get(this.target):this.target);},getRelatedTarget:function(){if(this.browserEvent){return c.getRelatedTarget(this.browserEvent);}return null;},getWheelDelta:function(){var d=this.browserEvent;var e=0;if(d.wheelDelta){e=d.wheelDelta/120;}else{if(d.detail){e=-d.detail/3;}}return e;},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)?true:false;},within:function(d,e){var g=this[e?"getRelatedTarget":"getTarget"]();return g&&Ext.fly(d).contains(g);},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1]);}};return new Ext.EventObjectImpl();}();(function(){var D=Ext.lib.Dom;var E=Ext.lib.Event;var A=Ext.lib.Anim;var propCache={};var camelRe=/(-[a-z])/gi;var camelFn=function(m,a){return a.charAt(1).toUpperCase();};var view=document.defaultView;Ext.Element=function(element,forceNew){var dom=typeof element=="string"?document.getElementById(element):element;if(!dom){return null;}var id=dom.id;if(forceNew!==true&&id&&Ext.Element.cache[id]){return Ext.Element.cache[id];}this.dom=dom;this.id=id||Ext.id(dom);};var El=Ext.Element;El.prototype={originalDisplay:"",visibilityMode:1,defaultUnit:"px",setVisibilityMode:function(visMode){this.visibilityMode=visMode;return this;},enableDisplayMode:function(display){this.setVisibilityMode(El.DISPLAY);if(typeof display!="undefined"){this.originalDisplay=display;}return this;},findParent:function(simpleSelector,maxDepth,returnEl){var p=this.dom,b=document.body,depth=0,dq=Ext.DomQuery,stopEl;maxDepth=maxDepth||50;if(typeof maxDepth!="number"){stopEl=Ext.getDom(maxDepth);maxDepth=10;}while(p&&p.nodeType==1&&depth<maxDepth&&p!=b&&p!=stopEl){if(dq.is(p,simpleSelector)){return returnEl?Ext.get(p):p;}depth++;p=p.parentNode;}return null;},findParentNode:function(simpleSelector,maxDepth,returnEl){var p=Ext.fly(this.dom.parentNode,"_internal");return p?p.findParent(simpleSelector,maxDepth,returnEl):null;},up:function(simpleSelector,maxDepth){return this.findParentNode(simpleSelector,maxDepth,true);},is:function(simpleSelector){return Ext.DomQuery.is(this.dom,simpleSelector);},animate:function(args,duration,onComplete,easing,animType){this.anim(args,{duration:duration,callback:onComplete,easing:easing},animType);return this;},anim:function(args,opt,animType,defaultDur,defaultEase,cb){animType=animType||"run";opt=opt||{};var anim=Ext.lib.Anim[animType](this.dom,args,(opt.duration||defaultDur)||0.35,(opt.easing||defaultEase)||"easeOut",function(){Ext.callback(cb,this);Ext.callback(opt.callback,opt.scope||this,[this,opt]);},this);opt.anim=anim;return anim;},preanim:function(a,i){return !a[i]?false:(typeof a[i]=="object"?a[i]:{duration:a[i+1],callback:a[i+2],easing:a[i+3]});},clean:function(forceReclean){if(this.isCleaned&&forceReclean!==true){return this;}var ns=/\S/;var d=this.dom,n=d.firstChild,ni=-1;while(n){var nx=n.nextSibling;if(n.nodeType==3&&!ns.test(n.nodeValue)){d.removeChild(n);}else{n.nodeIndex=++ni;}n=nx;}this.isCleaned=true;return this;},contains:function(el){if(!el){return false;}return D.isAncestor(this.dom,el.dom?el.dom:el);},isVisible:function(deep){var vis=!(this.getStyle("visibility")=="hidden"||this.getStyle("display")=="none");if(deep!==true||!vis){return vis;}var p=this.dom.parentNode;while(p&&p.tagName.toLowerCase()!="body"){if(!Ext.fly(p,"_isVisible").isVisible()){return false;}p=p.parentNode;}return true;},select:function(selector,unique){return El.select(selector,unique,this.dom);},query:function(selector,unique){return Ext.DomQuery.select(selector,this.dom);},child:function(selector,returnDom){var n=Ext.DomQuery.selectNode(selector,this.dom);return returnDom?n:Ext.get(n);},down:function(selector,returnDom){var n=Ext.DomQuery.selectNode(" > "+selector,this.dom);return returnDom?n:Ext.get(n);},setVisible:function(visible,animate){if(!animate||!A){if(this.visibilityMode==El.DISPLAY){this.setDisplayed(visible);}else{this.fixDisplay();this.dom.style.visibility=visible?"visible":"hidden";}}else{var dom=this.dom;var visMode=this.visibilityMode;if(visible){this.setOpacity(0.01);this.setVisible(true);}this.anim({opacity:{to:(visible?1:0)}},this.preanim(arguments,1),null,0.35,"easeIn",function(){if(!visible){if(visMode==El.DISPLAY){dom.style.display="none";}else{dom.style.visibility="hidden";}Ext.get(dom).setOpacity(1);}});}return this;},isDisplayed:function(){return this.getStyle("display")!="none";},toggle:function(animate){this.setVisible(!this.isVisible(),this.preanim(arguments,0));return this;},setDisplayed:function(value){if(typeof value=="boolean"){value=value?this.originalDisplay:"none";}this.setStyle("display",value);return this;},focus:function(defer){try{if(typeof defer=="number"){this.focus.defer(defer,this);}else{this.dom.focus();}}catch(e){}return this;},blur:function(){try{this.dom.blur();}catch(e){}return this;},addClass:function(className){if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.addClass(className[i]);}}else{if(className&&!this.hasClass(className)){this.dom.className=this.dom.className+" "+className;}}return this;},radioClass:function(className){var siblings=this.dom.parentNode.childNodes;for(var i=0;i<siblings.length;i++){var s=siblings[i];if(s.nodeType==1){Ext.get(s).removeClass(className);}}this.addClass(className);return this;},removeClass:function(className){if(!className||!this.dom.className){return this;}if(Ext.isArray(className)){for(var i=0,len=className.length;i<len;i++){this.removeClass(className[i]);}}else{if(this.hasClass(className)){var re=this.classReCache[className];if(!re){re=new RegExp("(?:^|\\s+)"+className+"(?:\\s+|$)","g");this.classReCache[className]=re;}this.dom.className=this.dom.className.replace(re," ");}}return this;},classReCache:{},toggleClass:function(className){if(this.hasClass(className)){this.removeClass(className);}else{this.addClass(className);}return this;},hasClass:function(className){return className&&(" "+this.dom.className+" ").indexOf(" "+className+" ")!=-1;},replaceClass:function(oldClassName,newClassName){this.removeClass(oldClassName);this.addClass(newClassName);return this;},getStyles:function(){var a=arguments,len=a.length,r={};for(var i=0;i<len;i++){r[a[i]]=this.getStyle(a[i]);}return r;},getStyle:function(){return view&&view.getComputedStyle?function(prop){var el=this.dom,v,cs,camel;if(prop=="float"){prop="cssFloat";}if(v=el.style[prop]){return v;}if(cs=view.getComputedStyle(el,"")){if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}return cs[camel];}return null;}:function(prop){var el=this.dom,v,cs,camel;if(prop=="opacity"){if(typeof el.style.filter=="string"){var m=el.style.filter.match(/alpha\(opacity=(.*)\)/i);if(m){var fv=parseFloat(m[1]);if(!isNaN(fv)){return fv?fv/100:0;}}}return 1;}else{if(prop=="float"){prop="styleFloat";}}if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}if(v=el.style[camel]){return v;}if(cs=el.currentStyle){return cs[camel];}return null;};}(),setStyle:function(prop,value){if(typeof prop=="string"){var camel;if(!(camel=propCache[prop])){camel=propCache[prop]=prop.replace(camelRe,camelFn);}if(camel=="opacity"){this.setOpacity(value);}else{this.dom.style[camel]=value;}}else{for(var style in prop){if(typeof prop[style]!="function"){this.setStyle(style,prop[style]);}}}return this;},applyStyles:function(style){Ext.DomHelper.applyStyles(this.dom,style);return this;},getX:function(){return D.getX(this.dom);},getY:function(){return D.getY(this.dom);},getXY:function(){return D.getXY(this.dom);},getOffsetsTo:function(el){var o=this.getXY();var e=Ext.fly(el,"_internal").getXY();return[o[0]-e[0],o[1]-e[1]];},setX:function(x,animate){if(!animate||!A){D.setX(this.dom,x);}else{this.setXY([x,this.getY()],this.preanim(arguments,1));}return this;},setY:function(y,animate){if(!animate||!A){D.setY(this.dom,y);}else{this.setXY([this.getX(),y],this.preanim(arguments,1));}return this;},setLeft:function(left){this.setStyle("left",this.addUnits(left));return this;},setTop:function(top){this.setStyle("top",this.addUnits(top));return this;},setRight:function(right){this.setStyle("right",this.addUnits(right));return this;},setBottom:function(bottom){this.setStyle("bottom",this.addUnits(bottom));return this;},setXY:function(pos,animate){if(!animate||!A){D.setXY(this.dom,pos);}else{this.anim({points:{to:pos}},this.preanim(arguments,1),"motion");}return this;},setLocation:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this;},moveTo:function(x,y,animate){this.setXY([x,y],this.preanim(arguments,2));return this;},getRegion:function(){return D.getRegion(this.dom);},getHeight:function(contentHeight){var h=this.dom.offsetHeight||0;h=contentHeight!==true?h:h-this.getBorderWidth("tb")-this.getPadding("tb");return h<0?0:h;},getWidth:function(contentWidth){var w=this.dom.offsetWidth||0;w=contentWidth!==true?w:w-this.getBorderWidth("lr")-this.getPadding("lr");return w<0?0:w;},getComputedHeight:function(){var h=Math.max(this.dom.offsetHeight,this.dom.clientHeight);if(!h){h=parseInt(this.getStyle("height"),10)||0;if(!this.isBorderBox()){h+=this.getFrameWidth("tb");}}return h;},getComputedWidth:function(){var w=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!w){w=parseInt(this.getStyle("width"),10)||0;if(!this.isBorderBox()){w+=this.getFrameWidth("lr");}}return w;},getSize:function(contentSize){return{width:this.getWidth(contentSize),height:this.getHeight(contentSize)};},getStyleSize:function(){var w,h,d=this.dom,s=d.style;if(s.width&&s.width!="auto"){w=parseInt(s.width,10);if(this.isBorderBox()){w-=this.getFrameWidth("lr");}}if(s.height&&s.height!="auto"){h=parseInt(s.height,10);if(this.isBorderBox()){h-=this.getFrameWidth("tb");}}return{width:w||this.getWidth(true),height:h||this.getHeight(true)};},getViewSize:function(){var d=this.dom,doc=document,aw=0,ah=0;if(d==doc||d==doc.body){return{width:D.getViewWidth(),height:D.getViewHeight()};}else{return{width:d.clientWidth,height:d.clientHeight};}},getValue:function(asNumber){return asNumber?parseInt(this.dom.value,10):this.dom.value;},adjustWidth:function(width){if(typeof width=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){width-=(this.getBorderWidth("lr")+this.getPadding("lr"));}if(width<0){width=0;}}return width;},adjustHeight:function(height){if(typeof height=="number"){if(this.autoBoxAdjust&&!this.isBorderBox()){height-=(this.getBorderWidth("tb")+this.getPadding("tb"));}if(height<0){height=0;}}return height;},setWidth:function(width,animate){width=this.adjustWidth(width);if(!animate||!A){this.dom.style.width=this.addUnits(width);}else{this.anim({width:{to:width}},this.preanim(arguments,1));}return this;},setHeight:function(height,animate){height=this.adjustHeight(height);if(!animate||!A){this.dom.style.height=this.addUnits(height);}else{this.anim({height:{to:height}},this.preanim(arguments,1));}return this;},setSize:function(width,height,animate){if(typeof width=="object"){height=width.height;width=width.width;}width=this.adjustWidth(width);height=this.adjustHeight(height);if(!animate||!A){this.dom.style.width=this.addUnits(width);this.dom.style.height=this.addUnits(height);}else{this.anim({width:{to:width},height:{to:height}},this.preanim(arguments,2));}return this;},setBounds:function(x,y,width,height,animate){if(!animate||!A){this.setSize(width,height);this.setLocation(x,y);}else{width=this.adjustWidth(width);height=this.adjustHeight(height);this.anim({points:{to:[x,y]},width:{to:width},height:{to:height}},this.preanim(arguments,4),"motion");}return this;},setRegion:function(region,animate){this.setBounds(region.left,region.top,region.right-region.left,region.bottom-region.top,this.preanim(arguments,1));return this;},addListener:function(eventName,fn,scope,options){Ext.EventManager.on(this.dom,eventName,fn,scope||this,options);},removeListener:function(eventName,fn,scope){Ext.EventManager.removeListener(this.dom,eventName,fn,scope||this);return this;},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this;},relayEvent:function(eventName,observable){this.on(eventName,function(e){observable.fireEvent(eventName,e);});},setOpacity:function(opacity,animate){if(!animate||!A){var s=this.dom.style;if(Ext.isIE){s.zoom=1;s.filter=(s.filter||"").replace(/alpha\([^\)]*\)/gi,"")+(opacity==1?"":" alpha(opacity="+opacity*100+")");}else{s.opacity=opacity;}}else{this.anim({opacity:{to:opacity}},this.preanim(arguments,1),null,0.35,"easeIn");}return this;},getLeft:function(local){if(!local){return this.getX();}else{return parseInt(this.getStyle("left"),10)||0;}},getRight:function(local){if(!local){return this.getX()+this.getWidth();}else{return(this.getLeft(true)+this.getWidth())||0;}},getTop:function(local){if(!local){return this.getY();}else{return parseInt(this.getStyle("top"),10)||0;}},getBottom:function(local){if(!local){return this.getY()+this.getHeight();}else{return(this.getTop(true)+this.getHeight())||0;}},position:function(pos,zIndex,x,y){if(!pos){if(this.getStyle("position")=="static"){this.setStyle("position","relative");}}else{this.setStyle("position",pos);}if(zIndex){this.setStyle("z-index",zIndex);}if(x!==undefined&&y!==undefined){this.setXY([x,y]);}else{if(x!==undefined){this.setX(x);}else{if(y!==undefined){this.setY(y);}}}},clearPositioning:function(value){value=value||"";this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:"static"});return this;},getPositioning:function(){var l=this.getStyle("left");var t=this.getStyle("top");return{position:this.getStyle("position"),left:l,right:l?"":this.getStyle("right"),top:t,bottom:t?"":this.getStyle("bottom"),"z-index":this.getStyle("z-index")};},getBorderWidth:function(side){return this.addStyles(side,El.borders);},getPadding:function(side){return this.addStyles(side,El.paddings);},setPositioning:function(pc){this.applyStyles(pc);if(pc.right=="auto"){this.dom.style.right="";}if(pc.bottom=="auto"){this.dom.style.bottom="";}return this;},fixDisplay:function(){if(this.getStyle("display")=="none"){this.setStyle("visibility","hidden");this.setStyle("display",this.originalDisplay);if(this.getStyle("display")=="none"){this.setStyle("display","block");}}},setOverflow:function(v){if(v=="auto"&&Ext.isMac&&Ext.isGecko2){this.dom.style.overflow="hidden";(function(){this.dom.style.overflow="auto";}).defer(1,this);}else{this.dom.style.overflow=v;}},setLeftTop:function(left,top){this.dom.style.left=this.addUnits(left);this.dom.style.top=this.addUnits(top);return this;},move:function(direction,distance,animate){var xy=this.getXY();direction=direction.toLowerCase();switch(direction){case"l":case"left":this.moveTo(xy[0]-distance,xy[1],this.preanim(arguments,2));break;case"r":case"right":this.moveTo(xy[0]+distance,xy[1],this.preanim(arguments,2));break;case"t":case"top":case"up":this.moveTo(xy[0],xy[1]-distance,this.preanim(arguments,2));break;case"b":case"bottom":case"down":this.moveTo(xy[0],xy[1]+distance,this.preanim(arguments,2));break;}return this;},clip:function(){if(!this.isClipped){this.isClipped=true;this.originalClip={o:this.getStyle("overflow"),x:this.getStyle("overflow-x"),y:this.getStyle("overflow-y")};this.setStyle("overflow","hidden");this.setStyle("overflow-x","hidden");this.setStyle("overflow-y","hidden");}return this;},unclip:function(){if(this.isClipped){this.isClipped=false;var o=this.originalClip;if(o.o){this.setStyle("overflow",o.o);}if(o.x){this.setStyle("overflow-x",o.x);}if(o.y){this.setStyle("overflow-y",o.y);}}return this;},adjustForConstraints:function(xy,parent,offsets){return this.getConstrainToXY(parent||document,false,offsets,xy)||xy;},clearOpacity:function(){if(window.ActiveXObject){if(typeof this.dom.style.filter=="string"&&(/alpha/i).test(this.dom.style.filter)){this.dom.style.filter="";}}else{this.dom.style.opacity="";this.dom.style["-moz-opacity"]="";this.dom.style["-khtml-opacity"]="";}return this;},hide:function(animate){this.setVisible(false,this.preanim(arguments,0));return this;},show:function(animate){this.setVisible(true,this.preanim(arguments,0));return this;},addUnits:function(size){return Ext.Element.addUnits(size,this.defaultUnit);},update:function(html,loadScripts,callback){if(typeof html=="undefined"){html="";}if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback();}return this;}var id=Ext.id();var dom=this.dom;html+='<span id="'+id+'"></span>';E.onAvailable(id,function(){var hd=document.getElementsByTagName("head")[0];var re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig;var srcRe=/\ssrc=([\'\"])(.*?)\1/i;var typeRe=/\stype=([\'\"])(.*?)\1/i;var match;while(match=re.exec(html)){var attrs=match[1];var srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){var s=document.createElement("script");s.src=srcMatch[2];var typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2];}hd.appendChild(s);}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2]);}else{window.eval(match[2]);}}}}var el=document.getElementById(id);if(el){Ext.removeNode(el);}if(typeof callback=="function"){callback();}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this;},load:function(){var um=this.getUpdater();um.update.apply(um,arguments);return this;},getUpdater:function(){if(!this.updateManager){this.updateManager=new Ext.Updater(this);}return this.updateManager;},unselectable:function(){this.dom.unselectable="on";this.swallowEvent("selectstart",true);this.applyStyles("-moz-user-select:none;-khtml-user-select:none;");this.addClass("x-unselectable");return this;},getCenterXY:function(){return this.getAlignToXY(document,"c-c");},center:function(centerIn){this.alignTo(centerIn||document,"c-c");return this;},isBorderBox:function(){return noBoxAdjust[this.dom.tagName.toLowerCase()]||Ext.isBorderBox;},getBox:function(contentBox,local){var xy;if(!local){xy=this.getXY();}else{var left=parseInt(this.getStyle("left"),10)||0;var top=parseInt(this.getStyle("top"),10)||0;xy=[left,top];}var el=this.dom,w=el.offsetWidth,h=el.offsetHeight,bx;if(!contentBox){bx={x:xy[0],y:xy[1],0:xy[0],1:xy[1],width:w,height:h};}else{var l=this.getBorderWidth("l")+this.getPadding("l");var r=this.getBorderWidth("r")+this.getPadding("r");var t=this.getBorderWidth("t")+this.getPadding("t");var b=this.getBorderWidth("b")+this.getPadding("b");bx={x:xy[0]+l,y:xy[1]+t,0:xy[0]+l,1:xy[1]+t,width:w-(l+r),height:h-(t+b)};}bx.right=bx.x+bx.width;bx.bottom=bx.y+bx.height;return bx;},getFrameWidth:function(sides,onlyContentBox){return onlyContentBox&&this.isBorderBox()?0:(this.getPadding(sides)+this.getBorderWidth(sides));},setBox:function(box,adjust,animate){var w=box.width,h=box.height;if((adjust&&!this.autoBoxAdjust)&&!this.isBorderBox()){w-=(this.getBorderWidth("lr")+this.getPadding("lr"));h-=(this.getBorderWidth("tb")+this.getPadding("tb"));}this.setBounds(box.x,box.y,w,h,this.preanim(arguments,2));return this;},repaint:function(){var dom=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.get(dom).removeClass("x-repaint");},1);return this;},getMargins:function(side){if(!side){return{top:parseInt(this.getStyle("margin-top"),10)||0,left:parseInt(this.getStyle("margin-left"),10)||0,bottom:parseInt(this.getStyle("margin-bottom"),10)||0,right:parseInt(this.getStyle("margin-right"),10)||0};}else{return this.addStyles(side,El.margins);}},addStyles:function(sides,styles){var val=0,v,w;for(var i=0,len=sides.length;i<len;i++){v=this.getStyle(styles[sides.charAt(i)]);if(v){w=parseInt(v,10);if(w){val+=(w>=0?w:-1*w);}}}return val;},createProxy:function(config,renderTo,matchBox){config=typeof config=="object"?config:{tag:"div",cls:config};var proxy;if(renderTo){proxy=Ext.DomHelper.append(renderTo,config,true);}else{proxy=Ext.DomHelper.insertBefore(this.dom,config,true);}if(matchBox){proxy.setBox(this.getBox());}return proxy;},mask:function(msg,msgCls){if(this.getStyle("position")=="static"){this.addClass("x-masked-relative");}if(this._maskMsg){this._maskMsg.remove();}if(this._mask){this._mask.remove();}this._mask=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask"},true);this.addClass("x-masked");this._mask.setDisplayed(true);if(typeof msg=="string"){this._maskMsg=Ext.DomHelper.append(this.dom,{cls:"ext-el-mask-msg",cn:{tag:"div"}},true);var mm=this._maskMsg;mm.dom.className=msgCls?"ext-el-mask-msg "+msgCls:"ext-el-mask-msg";mm.dom.firstChild.innerHTML=msg;mm.setDisplayed(true);mm.center(this);}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&this.getStyle("height")=="auto"){this._mask.setSize(this.dom.clientWidth,this.getHeight());}return this._mask;},unmask:function(){if(this._mask){if(this._maskMsg){this._maskMsg.remove();delete this._maskMsg;}this._mask.remove();delete this._mask;}this.removeClass(["x-masked","x-masked-relative"]);},isMasked:function(){return this._mask&&this._mask.isVisible();},createShim:function(){var el=document.createElement("iframe");el.frameBorder="0";el.className="ext-shim";if(Ext.isIE&&Ext.isSecure){el.src=Ext.SSL_SECURE_URL;}var shim=Ext.get(this.dom.parentNode.insertBefore(el,this.dom));shim.autoBoxAdjust=false;return shim;},remove:function(){Ext.removeNode(this.dom);delete El.cache[this.dom.id];},hover:function(overFn,outFn,scope){var preOverFn=function(e){if(!e.within(this,true)){overFn.apply(scope||this,arguments);}};var preOutFn=function(e){if(!e.within(this,true)){outFn.apply(scope||this,arguments);}};this.on("mouseover",preOverFn,this.dom);this.on("mouseout",preOutFn,this.dom);return this;},addClassOnOver:function(className){this.hover(function(){Ext.fly(this,"_internal").addClass(className);},function(){Ext.fly(this,"_internal").removeClass(className);});return this;},addClassOnFocus:function(className){this.on("focus",function(){Ext.fly(this,"_internal").addClass(className);},this.dom);this.on("blur",function(){Ext.fly(this,"_internal").removeClass(className);},this.dom);return this;},addClassOnClick:function(className){var dom=this.dom;this.on("mousedown",function(){Ext.fly(dom,"_internal").addClass(className);var d=Ext.getDoc();var fn=function(){Ext.fly(dom,"_internal").removeClass(className);d.removeListener("mouseup",fn);};d.on("mouseup",fn);});return this;},swallowEvent:function(eventName,preventDefault){var fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault();}};if(Ext.isArray(eventName)){for(var i=0,len=eventName.length;i<len;i++){this.on(eventName[i],fn);}return this;}this.on(eventName,fn);return this;},parent:function(selector,returnDom){return this.matchNode("parentNode","parentNode",selector,returnDom);},next:function(selector,returnDom){return this.matchNode("nextSibling","nextSibling",selector,returnDom);},prev:function(selector,returnDom){return this.matchNode("previousSibling","previousSibling",selector,returnDom);},first:function(selector,returnDom){return this.matchNode("nextSibling","firstChild",selector,returnDom);},last:function(selector,returnDom){return this.matchNode("previousSibling","lastChild",selector,returnDom);},matchNode:function(dir,start,selector,returnDom){var n=this.dom[start];while(n){if(n.nodeType==1&&(!selector||Ext.DomQuery.is(n,selector))){return !returnDom?Ext.get(n):n;}n=n[dir];}return null;},createChild:function(config,insertBefore,returnDom){config=config||{tag:"div"};if(insertBefore){return Ext.DomHelper.insertBefore(insertBefore,config,returnDom!==true);}return Ext.DomHelper[!this.dom.firstChild?"overwrite":"append"](this.dom,config,returnDom!==true);},wrap:function(config,returnDom){if(!config){config={tag:"div"};}var newEl=Ext.DomHelper.insertBefore(this.dom,config,!returnDom);newEl.dom?newEl.dom.appendChild(this.dom):newEl.appendChild(this.dom);return newEl;},insertHtml:function(where,html,returnEl){var el=Ext.DomHelper.insertHtml(where,this.dom,html);return returnEl?Ext.get(el):el;},set:function(o,useSet){var el=this.dom;useSet=typeof useSet=="undefined"?(el.setAttribute?true:false):useSet;for(var attr in o){if(attr=="style"||typeof o[attr]=="function"){continue;}if(attr=="cls"){el.className=o.cls;}else{if(o.hasOwnProperty(attr)){if(useSet){el.setAttribute(attr,o[attr]);}else{el[attr]=o[attr];}}}}if(o.style){Ext.DomHelper.applyStyles(el,o.style);}return this;},translatePoints:function(x,y){if(typeof x=="object"||Ext.isArray(x)){y=x[1];x=x[0];}var p=this.getStyle("position");var o=this.getXY();var l=parseInt(this.getStyle("left"),10);var t=parseInt(this.getStyle("top"),10);if(isNaN(l)){l=(p=="relative")?0:this.dom.offsetLeft;}if(isNaN(t)){t=(p=="relative")?0:this.dom.offsetTop;}return{left:(x-o[0]+l),top:(y-o[1]+t)};},getScroll:function(){var d=this.dom,doc=document;if(d==doc||d==doc.body){var l,t;if(Ext.isIE&&Ext.isStrict){l=doc.documentElement.scrollLeft||(doc.body.scrollLeft||0);t=doc.documentElement.scrollTop||(doc.body.scrollTop||0);}else{l=window.pageXOffset||(doc.body.scrollLeft||0);t=window.pageYOffset||(doc.body.scrollTop||0);}return{left:l,top:t};}else{return{left:d.scrollLeft,top:d.scrollTop};}},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr);if(!v||v=="transparent"||v=="inherit"){return defaultValue;}var color=typeof prefix=="undefined"?"#":prefix;if(v.substr(0,4)=="rgb("){var rvs=v.slice(4,v.length-1).split(",");for(var i=0;i<3;i++){var h=parseInt(rvs[i]);var s=h.toString(16);if(h<16){s="0"+s;}color+=s;}}else{if(v.substr(0,1)=="#"){if(v.length==4){for(var i=1;i<4;i++){var c=v.charAt(i);color+=c+c;}}else{if(v.length==7){color+=v.substr(1);}}}}return(color.length>5?color.toLowerCase():defaultValue);},boxWrap:function(cls){cls=cls||"x-box";var el=Ext.get(this.insertHtml("beforeBegin",String.format('<div class="{0}">'+El.boxMarkup+"</div>",cls)));el.child("."+cls+"-mc").dom.appendChild(this.dom);return el;},getAttributeNS:Ext.isIE?function(ns,name){var d=this.dom;var type=typeof d[ns+":"+name];if(type!="undefined"&&type!="unknown"){return d[ns+":"+name];}return d[name];}:function(ns,name){var d=this.dom;return d.getAttributeNS(ns,name)||d.getAttribute(ns+":"+name)||d.getAttribute(name)||d[name];}};var ep=El.prototype;El.addMethods=function(o){Ext.apply(ep,o);};ep.on=ep.addListener;ep.getUpdateManager=ep.getUpdater;ep.un=ep.removeListener;ep.autoBoxAdjust=true;El.unitPattern=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i;El.addUnits=function(v,defaultUnit){if(v===""||v=="auto"){return v;}if(v===undefined){return"";}if(typeof v=="number"||!El.unitPattern.test(v)){return v+(defaultUnit||"px");}return v;};El.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';El.VISIBILITY=1;El.DISPLAY=2;El.borders={l:"border-left-width",r:"border-right-width",t:"border-top-width",b:"border-bottom-width"};El.paddings={l:"padding-left",r:"padding-right",t:"padding-top",b:"padding-bottom"};El.margins={l:"margin-left",r:"margin-right",t:"margin-top",b:"margin-bottom"};El.cache={};var docEl;El.get=function(el){var ex,elm,id;if(!el){return null;}if(typeof el=="string"){if(!(elm=document.getElementById(el))){return null;}if(ex=El.cache[el]){ex.dom=elm;}else{ex=El.cache[el]=new El(elm);}return ex;}else{if(el.tagName){if(!(id=el.id)){id=Ext.id(el);}if(ex=El.cache[id]){ex.dom=el;}else{ex=El.cache[id]=new El(el);}return ex;}else{if(el instanceof El){if(el!=docEl){el.dom=document.getElementById(el.id)||el.dom;El.cache[el.id]=el;}return el;}else{if(el.isComposite){return el;}else{if(Ext.isArray(el)){return El.select(el);}else{if(el==document){if(!docEl){var f=function(){};f.prototype=El.prototype;docEl=new f();docEl.dom=document;}return docEl;}}}}}}return null;};El.uncache=function(el){for(var i=0,a=arguments,len=a.length;i<len;i++){if(a[i]){delete El.cache[a[i].id||a[i]];}}};El.garbageCollect=function(){if(!Ext.enableGarbageCollector){clearInterval(El.collectorThread);return;}for(var eid in El.cache){var el=El.cache[eid],d=el.dom;if(!d||!d.parentNode||(!d.offsetParent&&!document.getElementById(eid))){delete El.cache[eid];if(d&&Ext.enableListenerCollection){Ext.EventManager.removeAll(d);}}}};El.collectorThreadId=setInterval(El.garbageCollect,30000);var flyFn=function(){};flyFn.prototype=El.prototype;var _cls=new flyFn();El.Flyweight=function(dom){this.dom=dom;};El.Flyweight.prototype=_cls;El.Flyweight.prototype.isFlyweight=true;El._flyweights={};El.fly=function(el,named){named=named||"_global";el=Ext.getDom(el);if(!el){return null;}if(!El._flyweights[named]){El._flyweights[named]=new El.Flyweight();}El._flyweights[named].dom=el;return El._flyweights[named];};Ext.get=El.get;Ext.fly=El.fly;var noBoxAdjust=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){noBoxAdjust.button=1;}Ext.EventManager.on(window,"unload",function(){delete El.cache;delete El._flyweights;});})();Ext.Element.addMethods({scrollIntoView:function(p,v){var q=Ext.getDom(p)||Ext.getBody().dom;var u=this.dom;var s=this.getOffsetsTo(q),i=s[0]+q.scrollLeft,g=s[1]+q.scrollTop,d=g+u.offsetHeight,n=i+u.offsetWidth;var h=q.clientHeight;var k=parseInt(q.scrollTop,10);var e=parseInt(q.scrollLeft,10);var a=k+h;var m=e+q.clientWidth;if(u.offsetHeight>h||g<k){q.scrollTop=g;}else{if(d>a){q.scrollTop=d-h;}}q.scrollTop=q.scrollTop;if(v!==false){if(u.offsetWidth>q.clientWidth||i<e){q.scrollLeft=i;}else{if(n>m){q.scrollLeft=n-q.clientWidth;}}q.scrollLeft=q.scrollLeft;}return this;},scrollChildIntoView:function(b,a){Ext.fly(b,"_scrollChildIntoView").scrollIntoView(this,a);},isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth;},scrollTo:function(e,a,d){var c=e.toLowerCase()=="left"?"scrollLeft":"scrollTop";if(!d){this.dom[c]=a;}else{var b=c=="scrollLeft"?[a,this.dom.scrollTop]:[this.dom.scrollLeft,a];this.anim({scroll:{to:b}},this.preanim(arguments,2),"scroll");}return this;},scroll:function(r,c,i){if(!this.isScrollable()){return;}var m=this.dom;var n=m.scrollLeft,k=m.scrollTop;var d=m.scrollWidth,p=m.scrollHeight;var o=m.clientWidth,b=m.clientHeight;r=r.toLowerCase();var g=false;var q=this.preanim(arguments,2);switch(r){case"l":case"left":if(d-n>o){var e=Math.min(n+c,d-o);this.scrollTo("left",e,q);g=true;}break;case"r":case"right":if(n>0){var e=Math.max(n-c,0);this.scrollTo("left",e,q);g=true;}break;case"t":case"top":case"up":if(k>0){var e=Math.max(k-c,0);this.scrollTo("top",e,q);g=true;}break;case"b":case"bottom":case"down":if(p-k>b){var e=Math.min(k+c,p-b);this.scrollTo("top",e,q);g=true;}break;}return g;}});Ext.Element.addMethods({addKeyListener:function(d,b,a){var c;if(typeof d!="object"||Ext.isArray(d)){c={key:d,fn:b,scope:a};}else{c={key:d.key,shift:d.shift,ctrl:d.ctrl,alt:d.alt,fn:b,scope:a};}return new Ext.KeyMap(this,c);},addKeyMap:function(a){return new Ext.KeyMap(this,a);}});Ext.Element.addMethods({appendChild:function(a){a=Ext.get(a);a.appendTo(this);return this;},appendTo:function(a){a=Ext.getDom(a);a.appendChild(this.dom);return this;},insertBefore:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a);return this;},insertAfter:function(a){a=Ext.getDom(a);a.parentNode.insertBefore(this.dom,a.nextSibling);return this;},insertFirst:function(b,a){b=b||{};if(typeof b=="object"&&!b.nodeType&&!b.dom){return this.createChild(b,this.dom.firstChild,a);}else{b=Ext.getDom(b);this.dom.insertBefore(b,this.dom.firstChild);return !a?Ext.get(b):b;}},insertSibling:function(b,g,a){var d;if(Ext.isArray(b)){for(var h=0,c=b.length;h<c;h++){d=this.insertSibling(b[h],g,a);}return d;}g=g?g.toLowerCase():"before";b=b||{};var e=g=="before"?this.dom:this.dom.nextSibling;if(typeof b=="object"&&!b.nodeType&&!b.dom){if(g=="after"&&!this.dom.nextSibling){d=Ext.DomHelper.append(this.dom.parentNode,b,!a);}else{d=Ext.DomHelper[g=="after"?"insertAfter":"insertBefore"](this.dom,b,!a);}}else{d=this.dom.parentNode.insertBefore(Ext.getDom(b),e);if(!a){d=Ext.get(d);}}return d;},replace:function(a){a=Ext.get(a);this.insertBefore(a);a.remove();return this;},replaceWith:function(a){if(typeof a=="object"&&!a.nodeType&&!a.dom){a=this.insertSibling(a,"before");}else{a=Ext.getDom(a);this.dom.parentNode.insertBefore(a,this.dom);}El.uncache(this.id);Ext.removeNode(this.dom);this.dom=a;this.id=Ext.id(a);El.cache[this.id]=this;return this;}});Ext.Element.addMethods({initDD:function(a,d,b){var c=new Ext.dd.DD(Ext.id(this.dom),a,d);return Ext.apply(c,b);},initDDProxy:function(a,d,b){var c=new Ext.dd.DDProxy(Ext.id(this.dom),a,d);return Ext.apply(c,b);},initDDTarget:function(a,d,b){var c=new Ext.dd.DDTarget(Ext.id(this.dom),a,d);return Ext.apply(c,b);}});Ext.Element.addMethods({getAnchorXY:function(l,a,e){var c,m,i=false;if(!e){var n=this.dom;if(n==document.body||n==document){i=true;c=Ext.lib.Dom.getViewWidth();m=Ext.lib.Dom.getViewHeight();}else{c=this.getWidth();m=this.getHeight();}}else{c=e.width;m=e.height;}var b=0,q=0,g=Math.round;switch((l||"tl").toLowerCase()){case"c":b=g(c*0.5);q=g(m*0.5);break;case"t":b=g(c*0.5);q=0;break;case"l":b=0;q=g(m*0.5);break;case"r":b=c;q=g(m*0.5);break;case"b":b=g(c*0.5);q=m;break;case"tl":b=0;q=0;break;case"bl":b=0;q=m;break;case"br":b=c;q=m;break;case"tr":b=c;q=0;break;}if(a===true){return[b,q];}if(i){var p=this.getScroll();return[b+p.left,q+p.top];}var k=this.getXY();return[b+k[0],q+k[1]];},anchorTo:function(e,a,g,c,d,i){var h=function(){this.alignTo(e,a,g,c);Ext.callback(i,this);};Ext.EventManager.onWindowResize(h,this);var b=typeof d;if(b!="undefined"){Ext.EventManager.on(window,"scroll",h,this,{buffer:b=="number"?d:50});}h.call(this);return this;},getAlignToXY:function(e,l,q){e=Ext.get(e);if(!e||!e.dom){throw"Element.alignToXY with an element that doesn't exist";}var E=this.dom;var F=false;var b="",L="";q=q||[0,0];if(!l){l="tl-bl";}else{if(l=="?"){l="tl-bl?";}else{if(l.indexOf("-")==-1){l="tl-"+l;}}}l=l.toLowerCase();var t=l.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!t){throw"Element.alignTo with an invalid alignment "+l;}b=t[1];L=t[2];F=!!t[3];var H=this.getAnchorXY(b,true);var G=e.getAnchorXY(L,false);var n=G[0]-H[0]+q[0];var k=G[1]-H[1]+q[1];if(F){var u=this.getWidth(),A=this.getHeight(),C=e.getRegion();var v=Ext.lib.Dom.getViewWidth()-10,D=Ext.lib.Dom.getViewHeight()-10;var K=b.charAt(0),a=b.charAt(b.length-1);var g=L.charAt(0),i=L.charAt(L.length-1);var B=((K=="t"&&g=="b")||(K=="b"&&g=="t"));var I=((a=="r"&&i=="l")||(a=="l"&&i=="r"));var J=document;var z=(J.documentElement.scrollLeft||J.body.scrollLeft||0)+5;var s=(J.documentElement.scrollTop||J.body.scrollTop||0)+5;if((n+u)>v+z){n=I?C.left-u:v+z-u;}if(n<z){n=I?C.right:z;}if((k+A)>D+s){k=B?C.top-A:D+s-A;}if(k<s){k=B?C.bottom:s;}}return[n,k];},alignTo:function(a,d,b,e){var c=this.getAlignToXY(a,d,b);this.setXY(c,this.preanim(arguments,3));return this;},getConstrainToXY:function(){var a={top:0,left:0,bottom:0,right:0};return function(c,l,g,m){c=Ext.get(c);g=g?Ext.applyIf(g,a):a;var i,z,e=0,u=0;if(c.dom==document.body||c.dom==document){i=Ext.lib.Dom.getViewWidth();z=Ext.lib.Dom.getViewHeight();}else{i=c.dom.clientWidth;z=c.dom.clientHeight;if(!l){var t=c.getXY();e=t[0];u=t[1];}}var r=c.getScroll();e+=g.left+r.left;u+=g.top+r.top;i-=g.right;z-=g.bottom;var p=e+i;var b=u+z;var d=m||(!l?this.getXY():[this.getLeft(true),this.getTop(true)]);var o=d[0],n=d[1];var q=this.dom.offsetWidth,v=this.dom.offsetHeight;var k=false;if((o+q)>p){o=p-q;k=true;}if((n+v)>b){n=b-v;k=true;}if(o<e){o=e;k=true;}if(n<u){n=u;k=true;}return k?[o,n]:false;};}()});Ext.enableFx=true;Ext.Fx={slideIn:function(b,a){var c=this.getFxEl();a=a||{};c.queueFx(a,function(){b=b||"t";this.fixDisplay();var m=this.getFxRestore();var h=this.getBox();this.setSize(h);var d=this.fxWrap(m.pos,a,"hidden");var k=this.dom.style;k.visibility="visible";k.position="absolute";var n=function(){c.fxUnwrap(d,m.pos,a);k.width=m.width;k.height=m.height;c.afterFx(a);};var i,l={to:[h.x,h.y]},g={to:h.width},e={to:h.height};switch(b.toLowerCase()){case"t":d.setSize(h.width,0);k.left=k.bottom="0";i={height:e};break;case"l":d.setSize(0,h.height);k.right=k.top="0";i={width:g};break;case"r":d.setSize(0,h.height);d.setX(h.right);k.left=k.top="0";i={width:g,points:l};break;case"b":d.setSize(h.width,0);d.setY(h.bottom);k.left=k.top="0";i={height:e,points:l};break;case"tl":d.setSize(0,0);k.right=k.bottom="0";i={width:g,height:e};break;case"bl":d.setSize(0,0);d.setY(h.y+h.height);k.right=k.top="0";i={width:g,height:e,points:l};break;case"br":d.setSize(0,0);d.setXY([h.right,h.bottom]);k.left=k.top="0";i={width:g,height:e,points:l};break;case"tr":d.setSize(0,0);d.setX(h.x+h.width);k.left=k.bottom="0";i={width:g,height:e,points:l};break;}this.dom.style.visibility="visible";d.show();arguments.callee.anim=d.fxanim(i,a,"motion",0.5,"easeOut",n);});return this;},slideOut:function(b,a){var c=this.getFxEl();a=a||{};c.queueFx(a,function(){b=b||"t";var e=this.getFxRestore();var h=this.getBox();this.setSize(h);var d=this.fxWrap(e.pos,a,"visible");var l=this.dom.style;l.visibility="visible";l.position="absolute";d.setSize(h);var g=function(){if(a.useDisplay){c.setDisplayed(false);}else{c.hide();}c.fxUnwrap(d,e.pos,a);l.width=e.width;l.height=e.height;c.afterFx(a);};var i,k={to:0};switch(b.toLowerCase()){case"t":l.left=l.bottom="0";i={height:k};break;case"l":l.right=l.top="0";i={width:k};break;case"r":l.left=l.top="0";i={width:k,points:{to:[h.right,h.y]}};break;case"b":l.left=l.top="0";i={height:k,points:{to:[h.x,h.bottom]}};break;case"tl":l.right=l.bottom="0";i={width:k,height:k};break;case"bl":l.right=l.top="0";i={width:k,height:k,points:{to:[h.x,h.bottom]}};break;case"br":l.left=l.top="0";i={width:k,height:k,points:{to:[h.x+h.width,h.bottom]}};break;case"tr":l.left=l.bottom="0";i={width:k,height:k,points:{to:[h.right,h.y]}};break;}arguments.callee.anim=d.fxanim(i,a,"motion",0.5,"easeOut",g);});return this;},puff:function(b){var a=this.getFxEl();b=b||{};a.queueFx(b,function(){this.clearOpacity();this.show();var c=this.getFxRestore();var g=this.dom.style;var e=function(){if(b.useDisplay){a.setDisplayed(false);}else{a.hide();}a.clearOpacity();a.setPositioning(c.pos);g.width=c.width;g.height=c.height;g.fontSize="";a.afterFx(b);};var h=this.getWidth();var d=this.getHeight();arguments.callee.anim=this.fxanim({width:{to:this.adjustWidth(h*2)},height:{to:this.adjustHeight(d*2)},points:{by:[-(h*0.5),-(d*0.5)]},opacity:{to:0},fontSize:{to:200,unit:"%"}},b,"motion",0.5,"easeOut",e);});return this;},switchOff:function(b){var a=this.getFxEl();b=b||{};a.queueFx(b,function(){this.clearOpacity();this.clip();var c=this.getFxRestore();var e=this.dom.style;var d=function(){if(b.useDisplay){a.setDisplayed(false);}else{a.hide();}a.clearOpacity();a.setPositioning(c.pos);e.width=c.width;e.height=c.height;a.afterFx(b);};this.fxanim({opacity:{to:0.3}},null,null,0.1,null,function(){this.clearOpacity();(function(){this.fxanim({height:{to:1},points:{by:[0,this.getHeight()*0.5]}},b,"motion",0.3,"easeIn",d);}).defer(100,this);});});return this;},highlight:function(b,a){var c=this.getFxEl();a=a||{};c.queueFx(a,function(){b=b||"ffff9c";var k=a.attr||"backgroundColor";this.clearOpacity();this.show();var i=this.getColor(k);var e=this.dom.style[k];var h=(a.endColor||i)||"ffffff";var g=function(){c.dom.style[k]=e;c.afterFx(a);};var d={};d[k]={from:b,to:h};arguments.callee.anim=this.fxanim(d,a,"color",1,"easeIn",g);});return this;},frame:function(c,a,b){var d=this.getFxEl();b=b||{};d.queueFx(b,function(){c=c||"#C3DAF9";if(c.length==6){c="#"+c;}a=a||1;var g=b.duration||1;this.show();var h=this.getBox();var e=function(){var i=Ext.getBody().createChild({style:{visbility:"hidden",position:"absolute","z-index":"35000",border:"0px solid "+c}});var k=Ext.isBorderBox?2:1;i.animate({top:{from:h.y,to:h.y-20},left:{from:h.x,to:h.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:h.height,to:(h.height+(20*k))},width:{from:h.width,to:(h.width+(20*k))}},g,function(){i.remove();if(--a>0){e();}else{d.afterFx(b);}});};e.call(this);});return this;},pause:function(a){var b=this.getFxEl();var c={};b.queueFx(c,function(){setTimeout(function(){b.afterFx(c);},a*1000);});return this;},fadeIn:function(b){var a=this.getFxEl();b=b||{};a.queueFx(b,function(){this.setOpacity(0);this.fixDisplay();this.dom.style.visibility="visible";var c=b.endOpacity||1;arguments.callee.anim=this.fxanim({opacity:{to:c}},b,null,0.5,"easeOut",function(){if(c==1){this.clearOpacity();}a.afterFx(b);});});return this;},fadeOut:function(b){var a=this.getFxEl();b=b||{};a.queueFx(b,function(){var c=b.endOpacity||0;arguments.callee.anim=this.fxanim({opacity:{to:c}},b,null,0.5,"easeOut",function(){if(c===0){if(this.visibilityMode==Ext.Element.DISPLAY||b.useDisplay){this.dom.style.display="none";}else{this.dom.style.visibility="hidden";}this.clearOpacity();}a.afterFx(b);});});return this;},scale:function(b,c,a){this.shift(Ext.apply({},a,{width:b,height:c}));return this;},shift:function(b){var a=this.getFxEl();b=b||{};a.queueFx(b,function(){var g={},d=b.width,i=b.height,k=b.x,e=b.y,c=b.opacity;if(d!==undefined){g.width={to:this.adjustWidth(d)};}if(i!==undefined){g.height={to:this.adjustHeight(i)};}if(b.left!==undefined){g.left={to:b.left};}if(b.top!==undefined){g.top={to:b.top};}if(b.right!==undefined){g.right={to:b.right};}if(b.bottom!==undefined){g.bottom={to:b.bottom};}if(k!==undefined||e!==undefined){g.points={to:[k!==undefined?k:this.getX(),e!==undefined?e:this.getY()]};}if(c!==undefined){g.opacity={to:c};}if(b.xy!==undefined){g.points={to:b.xy};}arguments.callee.anim=this.fxanim(g,b,"motion",0.35,"easeOut",function(){a.afterFx(b);});});return this;},ghost:function(b,a){var c=this.getFxEl();a=a||{};c.queueFx(a,function(){b=b||"b";var m=this.getFxRestore();var k=this.getWidth(),g=this.getHeight();var l=this.dom.style;var e=function(){if(a.useDisplay){c.setDisplayed(false);}else{c.hide();}c.clearOpacity();c.setPositioning(m.pos);l.width=m.width;l.height=m.height;c.afterFx(a);};var i={opacity:{to:0},points:{}},d=i.points;switch(b.toLowerCase()){case"t":d.by=[0,-g];break;case"l":d.by=[-k,0];break;case"r":d.by=[k,0];break;case"b":d.by=[0,g];break;case"tl":d.by=[-k,-g];break;case"bl":d.by=[-k,g];break;case"br":d.by=[k,g];break;case"tr":d.by=[k,-g];break;}arguments.callee.anim=this.fxanim(i,a,"motion",0.5,"easeOut",e);});return this;},syncFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:true,stopFx:false});return this;},sequenceFx:function(){this.fxDefaults=Ext.apply(this.fxDefaults||{},{block:false,concurrent:false,stopFx:false});return this;},nextFx:function(){var a=this.fxQueue[0];if(a){a.call(this);}},hasActiveFx:function(){return this.fxQueue&&this.fxQueue[0];},stopFx:function(){if(this.hasActiveFx()){var a=this.fxQueue[0];if(a&&a.anim&&a.anim.isAnimated()){this.fxQueue=[a];a.anim.stop(true);}}return this;},beforeFx:function(a){if(this.hasActiveFx()&&!a.concurrent){if(a.stopFx){this.stopFx();return true;}return false;}return true;},hasFxBlock:function(){var a=this.fxQueue;return a&&a[0]&&a[0].block;},queueFx:function(a,b){if(!this.fxQueue){this.fxQueue=[];}if(!this.hasFxBlock()){Ext.applyIf(a,this.fxDefaults);if(!a.concurrent){var c=this.beforeFx(a);b.block=a.block;this.fxQueue.push(b);if(c){this.nextFx();}}else{b.call(this);}}return this;},fxWrap:function(c,a,g){var e;if(!a.wrap||!(e=Ext.get(a.wrap))){var d;if(a.fixPosition){d=this.getXY();}var b=document.createElement("div");b.style.visibility=g;e=Ext.get(this.dom.parentNode.insertBefore(b,this.dom));e.setPositioning(c);if(e.getStyle("position")=="static"){e.position("relative");}this.clearPositioning("auto");e.clip();e.dom.appendChild(this.dom);if(d){e.setXY(d);}}return e;},fxUnwrap:function(b,a,c){this.clearPositioning();this.setPositioning(a);if(!c.wrap){b.dom.parentNode.insertBefore(this.dom,b.dom);b.remove();}},getFxRestore:function(){var a=this.dom.style;return{pos:this.getPositioning(),width:a.width,height:a.height};},afterFx:function(a){if(a.afterStyle){this.applyStyles(a.afterStyle);}if(a.afterCls){this.addClass(a.afterCls);}if(a.remove===true){this.remove();}Ext.callback(a.callback,a.scope,[this]);if(!a.concurrent){this.fxQueue.shift();this.nextFx();}},getFxEl:function(){return Ext.get(this.dom);},fxanim:function(g,h,d,a,e,c){d=d||"run";h=h||{};var b=Ext.lib.Anim[d](this.dom,g,(h.duration||a)||0.35,(h.easing||e)||"easeOut",function(){Ext.callback(c,this);},this);h.anim=b;return b;}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx);Ext.CompositeElement=function(a){this.elements=[];this.addElements(a);};Ext.CompositeElement.prototype={isComposite:true,addElements:function(c){if(!c){return this;}if(typeof c=="string"){c=Ext.Element.selectorFunction(c);}var b=this.elements;var e=b.length-1;for(var a=0,d=c.length;a<d;a++){b[++e]=Ext.get(c[a]);}return this;},fill:function(a){this.elements=[];this.add(a);return this;},filter:function(a){var b=[];this.each(function(c){if(c.is(a)){b[b.length]=c.dom;}});this.fill(b);return this;},invoke:function(c,e){var b=this.elements;for(var a=0,d=b.length;a<d;a++){Ext.Element.prototype[c].apply(b[a],e);}return this;},add:function(a){if(typeof a=="string"){this.addElements(Ext.Element.selectorFunction(a));}else{if(a.length!==undefined){this.addElements(a);}else{this.addElements([a]);}}return this;},each:function(c,b){var a=this.elements;for(var e=0,d=a.length;e<d;e++){if(c.call(b||a[e],a[e],this,e)===false){break;}}return this;},item:function(a){return this.elements[a]||null;},first:function(){return this.item(0);},last:function(){return this.item(this.elements.length-1);},getCount:function(){return this.elements.length;},contains:function(a){return this.indexOf(a)!==-1;},indexOf:function(a){return this.elements.indexOf(Ext.get(a));},removeElement:function(a,c){if(Ext.isArray(a)){for(var h=0,e=a.length;h<e;h++){this.removeElement(a[h]);}return this;}var g=typeof a=="number"?a:this.indexOf(a);if(g!==-1&&this.elements[g]){if(c){var b=this.elements[g];if(b.dom){b.remove();}else{Ext.removeNode(b);}}this.elements.splice(g,1);}return this;},replaceElement:function(b,a,c){var d=typeof b=="number"?b:this.indexOf(b);if(d!==-1){if(c){this.elements[d].replaceWith(a);}else{this.elements.splice(d,1,Ext.get(a));}}return this;},clear:function(){this.elements=[];}};(function(){Ext.CompositeElement.createCall=function(b,c){if(!b[c]){b[c]=function(){return this.invoke(c,arguments);};}};for(var a in Ext.Element.prototype){if(typeof Ext.Element.prototype[a]=="function"){Ext.CompositeElement.createCall(Ext.CompositeElement.prototype,a);}}})();Ext.CompositeElementLite=function(a){Ext.CompositeElementLite.superclass.constructor.call(this,a);this.el=new Ext.Element.Flyweight();};Ext.extend(Ext.CompositeElementLite,Ext.CompositeElement,{addElements:function(c){if(c){if(Ext.isArray(c)){this.elements=this.elements.concat(c);}else{var b=this.elements;var e=b.length-1;for(var a=0,d=c.length;a<d;a++){b[++e]=c[a];}}}return this;},invoke:function(c,e){var a=this.elements;var b=this.el;for(var g=0,d=a.length;g<d;g++){b.dom=a[g];Ext.Element.prototype[c].apply(b,e);}return this;},item:function(a){if(!this.elements[a]){return null;}this.el.dom=this.elements[a];return this.el;},addListener:function(d,b,a,h){var g=this.elements;for(var e=0,c=g.length;e<c;e++){Ext.EventManager.on(g[e],d,b,a||g[e],h);}return this;},each:function(c,b){var g=this.elements;var a=this.el;for(var e=0,d=g.length;e<d;e++){a.dom=g[e];if(c.call(b||a,a,this,e)===false){break;}}return this;},indexOf:function(a){return this.elements.indexOf(Ext.getDom(a));},replaceElement:function(b,a,e){var g=typeof b=="number"?b:this.indexOf(b);if(g!==-1){a=Ext.getDom(a);if(e){var c=this.elements[g];c.parentNode.insertBefore(a,c);Ext.removeNode(c);}this.elements.splice(g,1,a);}return this;}});Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select;}Ext.Element.select=function(c,b,d){var a;if(typeof c=="string"){a=Ext.Element.selectorFunction(c,d);}else{if(c.length!==undefined){a=c;}else{throw"Invalid selector";}}if(b===true){return new Ext.CompositeElement(a);}else{return new Ext.CompositeElementLite(a);}};Ext.select=Ext.Element.select;Ext.data.Connection=function(a){Ext.apply(this,a);this.addEvents("beforerequest","requestcomplete","requestexception");Ext.data.Connection.superclass.constructor.call(this);};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(l){if(this.fireEvent("beforerequest",this,l)!==false){var i=l.params;if(typeof i=="function"){i=i.call(l.scope||window,l);}if(typeof i=="object"){i=Ext.urlEncode(i);}if(this.extraParams){var a=Ext.urlEncode(this.extraParams);i=i?(i+"&"+a):a;}var h=l.url||this.url;if(typeof h=="function"){h=h.call(l.scope||window,l);}if(l.form){var k=Ext.getDom(l.form);h=h||k.action;var d=k.getAttribute("enctype");if(l.isUpload||(d&&d.toLowerCase()=="multipart/form-data")){return this.doFormUpload(l,i,h);}var c=Ext.lib.Ajax.serializeForm(k);i=i?(i+"&"+c):c;}var e=l.headers;if(this.defaultHeaders){e=Ext.apply(e||{},this.defaultHeaders);if(!l.headers){l.headers=e;}}var m={success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{options:l},timeout:l.timeout||this.timeout};var g=l.method||this.method||((i||l.xmlData||l.jsonData)?"POST":"GET");if(g=="GET"&&(this.disableCaching&&l.disableCaching!==false)||l.disableCaching===true){var b=l.disableCachingParam||this.disableCachingParam;h+=(h.indexOf("?")!=-1?"&":"?")+b+"="+(new Date().getTime());}if(typeof l.autoAbort=="boolean"){if(l.autoAbort){this.abort();}}else{if(this.autoAbort!==false){this.abort();}}if((g=="GET"||l.xmlData||l.jsonData)&&i){h+=(h.indexOf("?")!=-1?"&":"?")+i;i="";}this.transId=Ext.lib.Ajax.request(g,h,m,i,l);return this.transId;}else{Ext.callback(l.callback,l.scope,[l,null,null]);return null;}},isLoading:function(a){if(a){return Ext.lib.Ajax.isCallInProgress(a);}else{return this.transId?true:false;}},abort:function(a){if(a||this.isLoading()){Ext.lib.Ajax.abort(a||this.transId);}},handleResponse:function(a){this.transId=false;var b=a.argument.options;a.argument=b?b.argument:null;this.fireEvent("requestcomplete",this,a,b);Ext.callback(b.success,b.scope,[a,b]);Ext.callback(b.callback,b.scope,[b,true,a]);},handleFailure:function(b,a){this.transId=false;var c=b.argument.options;b.argument=c?c.argument:null;this.fireEvent("requestexception",this,b,c,a);Ext.callback(c.failure,c.scope,[b,c]);Ext.callback(c.callback,c.scope,[c,false,b]);},doFormUpload:function(m,e,g){var h=Ext.id();var n=document.createElement("iframe");n.id=h;n.name=h;n.className="x-hidden";if(Ext.isIE){n.src=Ext.SSL_SECURE_URL;}document.body.appendChild(n);if(Ext.isIE){document.frames[h].name=h;}var l=Ext.getDom(m.form);l.target=h;l.method="POST";l.enctype=l.encoding="multipart/form-data";if(g){l.action=g;}var d,b;if(e){d=[];e=Ext.urlDecode(e,false);for(var q in e){if(e.hasOwnProperty(q)){b=document.createElement("input");b.type="hidden";b.name=q;b.value=e[q];l.appendChild(b);d.push(b);}}}function p(){var k={responseText:"",responseXML:null};k.argument=m?m.argument:null;try{var r;if(Ext.isIE){r=n.contentWindow.document;}else{r=(n.contentDocument||window.frames[h].document);}if(r&&r.body){var i=r.body.firstChild;if(i&&String(i.tagName).toLowerCase()=="textarea"){k.responseText=i.value;}else{k.responseText=r.body.innerHTML;}}if(r&&r.XMLDocument){k.responseXML=r.XMLDocument;}else{k.responseXML=r;}}catch(o){}Ext.EventManager.removeListener(n,"load",p,this);this.fireEvent("requestcomplete",this,k,m);Ext.callback(m.success,m.scope,[k,m]);Ext.callback(m.callback,m.scope,[m,true,k]);if(!this.debugUploads){setTimeout(function(){Ext.removeNode(n);},100);}}Ext.EventManager.on(n,"load",p,this);l.submit();if(d){for(var a=0,c=d.length;a<c;a++){Ext.removeNode(d[a]);}}}});Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a);}});Ext.Updater=Ext.extend(Ext.util.Observable,{constructor:function(b,a){b=Ext.get(b);if(!a&&b.updateManager){return b.updateManager;}this.el=b;this.defaultUrl=null;this.addEvents("beforeupdate","update","failure");Ext.apply(this,Ext.Updater.defaults);this.transaction=null;this.refreshDelegate=this.refresh.createDelegate(this);this.updateDelegate=this.update.createDelegate(this);this.formUpdateDelegate=this.formUpdate.createDelegate(this);if(!this.renderer){this.renderer=this.getDefaultRenderer();}Ext.Updater.superclass.constructor.call(this);},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer();},getEl:function(){return this.el;},update:function(d,a,b,g){if(this.fireEvent("beforeupdate",this.el,d,a)!==false){var c,e;if(typeof d=="object"){c=d;d=c.url;a=a||c.params;b=b||c.callback;g=g||c.discardUrl;e=c.scope;if(typeof c.nocache!="undefined"){this.disableCaching=c.nocache;}if(typeof c.text!="undefined"){this.indicatorText='<div class="loading-indicator">'+c.text+"</div>";}if(typeof c.scripts!="undefined"){this.loadScripts=c.scripts;}if(typeof c.timeout!="undefined"){this.timeout=c.timeout;}}this.showLoading();if(!g){this.defaultUrl=d;}if(typeof d=="function"){d=d.call(this);}var h=Ext.apply({},{url:d,params:(typeof a=="function"&&e)?a.createDelegate(e):a,success:this.processSuccess,failure:this.processFailure,scope:this,callback:undefined,timeout:(this.timeout*1000),disableCaching:this.disableCaching,argument:{options:c,url:d,form:null,callback:b,scope:e||window,params:a}},c);this.transaction=Ext.Ajax.request(h);}},formUpdate:function(a,c,d,b){if(this.fireEvent("beforeupdate",this.el,a,c)!==false){if(typeof c=="function"){c=c.call(this);}a=Ext.getDom(a);this.transaction=Ext.Ajax.request({form:a,url:c,success:this.processSuccess,failure:this.processFailure,scope:this,timeout:(this.timeout*1000),argument:{url:c,form:a,callback:b,reset:d}});this.showLoading.defer(1,this);}},refresh:function(a){if(this.defaultUrl==null){return;}this.update(this.defaultUrl,null,a,true);},startAutoRefresh:function(e,a,b,c,d){if(d){this.update(a||this.defaultUrl,b,c,true);}if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);}this.autoRefreshProcId=setInterval(this.update.createDelegate(this,[a||this.defaultUrl,b,c,true]),e*1000);},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId;}},isAutoRefreshing:function(){return this.autoRefreshProcId?true:false;},showLoading:function(){if(this.showLoadIndicator){this.el.update(this.indicatorText);}},processSuccess:function(a){this.transaction=null;if(a.argument.form&&a.argument.reset){try{a.argument.form.reset();}catch(b){}}if(this.loadScripts){this.renderer.render(this.el,a,this,this.updateComplete.createDelegate(this,[a]));}else{this.renderer.render(this.el,a,this);this.updateComplete(a);}},updateComplete:function(a){this.fireEvent("update",this.el,a);if(typeof a.argument.callback=="function"){a.argument.callback.call(a.argument.scope,this.el,true,a,a.argument.options);}},processFailure:function(a){this.transaction=null;this.fireEvent("failure",this.el,a);if(typeof a.argument.callback=="function"){a.argument.callback.call(a.argument.scope,this.el,false,a,a.argument.options);}},setRenderer:function(a){this.renderer=a;},getRenderer:function(){return this.renderer;},setDefaultUrl:function(a){this.defaultUrl=a;},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction);}},isUpdating:function(){if(this.transaction){return Ext.Ajax.isLoading(this.transaction);}return false;}});Ext.Updater.defaults={timeout:30,loadScripts:false,sslBlankUrl:(Ext.SSL_SECURE_URL||"javascript:false"),disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>'};Ext.Updater.updateElement=function(b,a,c,e){var d=Ext.get(b).getUpdater();Ext.apply(d,e);d.update(a,c,e?e.callback:null);};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(a,c,d,b){a.update(c.responseText,d.loadScripts,b);}};Ext.UpdateManager=Ext.Updater;(function(){function xf(format){var args=Array.prototype.slice.call(arguments,1);return format.replace(/\{(\d+)\}/g,function(m,i){return args[i];});}Date.formatCodeToRegex=function(character,currentGroup){var p=Date.parseCodes[character];if(p){p=Ext.type(p)=="function"?p():p;Date.parseCodes[character]=p;}return p?Ext.applyIf({c:p.c?xf(p.c,currentGroup||"{0}"):p.c},p):{g:0,c:null,s:Ext.escapeRe(character)};};var $f=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{count:0},parseRegexes:[],formatFunctions:{count:0},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(month){return Date.monthNames[month].substring(0,3);},getShortDayName:function(day){return Date.dayNames[day].substring(0,3);},getMonthNumber:function(name){return Date.monthNumbers[name.substring(0,1).toUpperCase()+name.substring(1,3).toLowerCase()];},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"this.getFullYear()",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var c="Y-m-dTH:i:sP",code=[],i=0,l=c.length;i<l;++i){var e=c.charAt(i);code.push(e=="T"?"'T'":Date.getFormatCode(e));}return code.join(" + ");},U:"Math.round(this.getTime() / 1000)"},parseDate:function(input,format){var p=Date.parseFunctions;if(p[format]==null){Date.createParser(format);}var func=p[format];return Date[func](input);},getFormatCode:function(character){var f=Date.formatCodes[character];if(f){f=Ext.type(f)=="function"?f():f;Date.formatCodes[character]=f;}return f||("'"+String.escape(character)+"'");},createNewFormat:function(format){var funcName="format"+Date.formatFunctions.count++,code="Date.prototype."+funcName+" = function(){return ",special=false,ch="";Date.formatFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true;}else{if(special){special=false;code+="'"+String.escape(ch)+"' + ";}else{code+=Date.getFormatCode(ch)+" + ";}}}eval(code.substring(0,code.length-3)+";}");},createParser:function(){var code=["Date.{0} = function(input){","var y, m, d, h = 0, i = 0, s = 0, ms = 0, o, z, u, v;","input = String(input);","d = new Date();","y = d.getFullYear();","m = d.getMonth();","d = d.getDate();","var results = input.match(Date.parseRegexes[{1}]);","if(results && results.length > 0){","{2}","if(u){","v = new Date(u * 1000);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0 && ms >= 0){","v = new Date(y, m, d, h, i, s, ms);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0){","v = new Date(y, m, d, h, i, s);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0 && i >= 0){","v = new Date(y, m, d, h, i);","}else if (y >= 0 && m >= 0 && d > 0 && h >= 0){","v = new Date(y, m, d, h);","}else if (y >= 0 && m >= 0 && d > 0){","v = new Date(y, m, d);","}else if (y >= 0 && m >= 0){","v = new Date(y, m);","}else if (y >= 0){","v = new Date(y);","}","}","return (v && (z != null || o != null))? (Ext.type(z) == 'number' ? v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - z) : v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn))) : v;","}"].join("\n");return function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1,calc="",regex="",special=false,ch="";Date.parseFunctions[format]=funcName;for(var i=0;i<format.length;++i){ch=format.charAt(i);if(!special&&ch=="\\"){special=true;}else{if(special){special=false;regex+=String.escape(ch);}else{var obj=$f(ch,currentGroup);currentGroup+=obj.g;regex+=obj.s;if(obj.g&&obj.c){calc+=obj.c;}}}}Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i");eval(xf(code,funcName,regexNum,calc));};}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var a=[],i=0;i<7;a.push(Date.getShortDayName(i)),++i){}return{g:0,c:null,s:"(?:"+a.join("|")+")"};},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:0,c:null,s:"(?:\\d{1,3}"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"};},M:function(){for(var a=[],i=0;i<12;a.push(Date.getShortMonthName(i)),++i){}return Ext.applyIf({s:"("+a.join("|")+")"},$f("F"));},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return $f("Y");},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (results[{0}] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"},A:{g:1,c:"if (results[{0}] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"},g:function(){return $f("G");},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return $f("H");},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60);","var mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1);","var hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60);","var mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"z = results[{0}] * 1;\nz = (-43200 <= z && z <= 50400)? z : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var calc=[],arr=[$f("Y",1),$f("m",2),$f("d",3),$f("h",4),$f("i",5),$f("s",6),{c:"ms = (results[7] || '.0').substring(1); ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[9] == 'Z'){","z = 0;","}else{",$f("P",9).c,"}"].join("\n")}];for(var i=0,l=arr.length;i<l;++i){calc.push(arr[i].c);}return{g:1,c:calc.join(""),s:arr[0].s+"-"+arr[1].s+"-"+arr[2].s+"T"+arr[3].s+":"+arr[4].s+":"+arr[5].s+"((.|,)\\d+)?(Z|([+-]\\d{2}:\\d{2}))"};},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}});}());Ext.override(Date,{dateFormat:function(b){if(Date.formatFunctions[b]==null){Date.createNewFormat(b);}var a=Date.formatFunctions[b];return this[a]();},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"");},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0");},getDayOfYear:function(){var a=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var b=0;b<this.getMonth();++b){a+=Date.daysInMonth[b];}return a+this.getDate()-1;},getWeekOfYear:function(){var a=86400000,b=7*a;return function(){var c=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,e=Math.floor(c/7),d=new Date(e*b).getUTCFullYear();return e-Math.floor(Date.UTC(d,0,7)/b)+1;};}(),isLeapYear:function(){var a=this.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)));},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a;},getLastDayOfMonth:function(){var a=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return(a<0)?(a+7):a;},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1);},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth());},getDaysInMonth:function(){Date.daysInMonth[1]=this.isLeapYear()?29:28;return Date.daysInMonth[this.getMonth()];},getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th";}},clone:function(){return new Date(this.getTime());},clearTime:function(a){if(a){return this.clone().clearTime();}this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this;},add:function(e,a){var b=this.clone();if(!e||a===0){return b;}switch(e.toLowerCase()){case Date.MILLI:b.setMilliseconds(this.getMilliseconds()+a);break;case Date.SECOND:b.setSeconds(this.getSeconds()+a);break;case Date.MINUTE:b.setMinutes(this.getMinutes()+a);break;case Date.HOUR:b.setHours(this.getHours()+a);break;case Date.DAY:b.setDate(this.getDate()+a);break;case Date.MONTH:var c=this.getDate();if(c>28){c=Math.min(c,this.getFirstDateOfMonth().add("mo",a).getLastDateOfMonth().getDate());}b.setDate(c);b.setMonth(this.getMonth()+a);break;case Date.YEAR:b.setFullYear(this.getFullYear()+a);break;}return b;},between:function(a,b){var c=this.getTime();return a.getTime()<=c&&c<=b.getTime();}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari){Date.brokenSetMonth=Date.prototype.setMonth;Date.prototype.setMonth=function(c){if(c<=-1){var b=Math.ceil(-c);var a=Math.ceil(b/12);var d=(b%12)?12-b%12:0;this.setFullYear(this.getFullYear()-a);return Date.brokenSetMonth.call(this,d);}else{return Date.brokenSetMonth.apply(this,arguments);}};}Ext.util.DelayedTask=function(i,h,c){var b=null,a,g;var e=function(){var d=new Date().getTime();if(d-g>=a){clearInterval(b);b=null;i.apply(h,c||[]);}};this.delay=function(m,k,d,l){if(b&&m!=a){this.cancel();}a=m;g=new Date().getTime();i=k||i;h=d||h;c=l||c;if(!b){b=setInterval(e,a);}};this.cancel=function(){if(b){clearInterval(b);b=null;}};};Ext.util.TaskRunner=function(c){c=c||10;var d=[],i=[];var k=0;var e=false;var b=function(){e=false;clearInterval(k);k=0;};var g=function(){if(!e){e=true;k=setInterval(h,c);}};var a=function(l){i.push(l);if(l.onStop){l.onStop.apply(l.scope||l);}};var h=function(){if(i.length>0){for(var q=0,m=i.length;q<m;q++){d.remove(i[q]);}i=[];if(d.length<1){b();return;}}var o=new Date().getTime();for(var q=0,m=d.length;q<m;++q){var p=d[q];var l=o-p.taskRunTime;if(p.interval<=l){var n=p.run.apply(p.scope||p,p.args||[++p.taskRunCount]);p.taskRunTime=o;if(n===false||p.taskRunCount===p.repeat){a(p);return;}}if(p.duration&&p.duration<=(o-p.taskStartTime)){a(p);}}};this.start=function(l){d.push(l);l.taskStartTime=new Date().getTime();l.taskRunTime=0;l.taskRunCount=0;g();return l;};this.stop=function(l){a(l);return l;};this.stopAll=function(){b();for(var m=0,l=d.length;m<l;m++){if(d[m].onStop){d[m].onStop();}}d=[];i=[];};};Ext.TaskMgr=new Ext.util.TaskRunner();Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a;}Ext.util.MixedCollection.superclass.constructor.call(this);};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(c,a){if(arguments.length==1){a=arguments[0];c=this.getKey(a);}if(typeof c=="undefined"||c===null){this.length++;this.items.push(a);this.keys.push(null);}else{var b=this.map[c];if(b){return this.replace(c,a);}this.length++;this.items.push(a);this.map[c]=a;this.keys.push(c);}this.fireEvent("add",this.length-1,a,c);return a;},getKey:function(a){return a.id;},replace:function(a,b){if(arguments.length==1){b=arguments[0];a=this.getKey(b);}var c=this.item(a);if(typeof a=="undefined"||a===null||typeof c=="undefined"){return this.add(a,b);}var d=this.indexOfKey(a);this.items[d]=b;this.map[a]=b;this.fireEvent("replace",a,c,b);return b;},addAll:function(c){if(arguments.length>1||Ext.isArray(c)){var e=arguments.length>1?arguments:c;for(var b=0,d=e.length;b<d;b++){this.add(e[b]);}}else{for(var a in c){if(this.allowFunctions||typeof c[a]!="function"){this.add(a,c[a]);}}}},each:function(c,b){var e=[].concat(this.items);for(var a=0,d=e.length;a<d;a++){if(c.call(b||e[a],e[a],a,d)===false){break;}}},eachKey:function(b,a){for(var d=0,c=this.keys.length;d<c;d++){b.call(a||window,this.keys[d],this.items[d],d,c);}},find:function(b,a){for(var d=0,c=this.items.length;d<c;d++){if(b.call(a||window,this.items[d],this.keys[d])){return this.items[d];}}return null;},insert:function(b,c,a){if(arguments.length==2){a=arguments[1];c=this.getKey(a);}if(b>=this.length){return this.add(c,a);}this.length++;this.items.splice(b,0,a);if(typeof c!="undefined"&&c!=null){this.map[c]=a;}this.keys.splice(b,0,c);this.fireEvent("add",b,a,c);return a;},remove:function(a){return this.removeAt(this.indexOf(a));},removeAt:function(b){if(b<this.length&&b>=0){this.length--;var a=this.items[b];this.items.splice(b,1);var c=this.keys[b];if(typeof c!="undefined"){delete this.map[c];}this.keys.splice(b,1);this.fireEvent("remove",a,c);return a;}return false;},removeKey:function(a){return this.removeAt(this.indexOfKey(a));},getCount:function(){return this.length;},indexOf:function(a){return this.items.indexOf(a);},indexOfKey:function(a){return this.keys.indexOf(a);},item:function(a){var b=typeof this.map[a]!="undefined"?this.map[a]:this.items[a];return typeof b!="function"||this.allowFunctions?b:null;},itemAt:function(a){return this.items[a];},key:function(a){return this.map[a];},contains:function(a){return this.indexOf(a)!=-1;},containsKey:function(a){return typeof this.map[a]!="undefined";},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear");},first:function(){return this.items[0];},last:function(){return this.items[this.length-1];},_sort:function(l,m,h){var a=String(m).toUpperCase()=="DESC"?-1:1;h=h||function(i,c){return i-c;};var g=[],n=this.keys,e=this.items;for(var b=0,d=e.length;b<d;b++){g[g.length]={key:n[b],value:e[b],index:b};}g.sort(function(c,k){var i=h(c[l],k[l])*a;if(i==0){i=(c.index<k.index?-1:1);}return i;});for(var b=0,d=g.length;b<d;b++){e[b]=g[b].value;n[b]=g[b].key;}this.fireEvent("sort",this);},sort:function(a,b){this._sort("value",a,b);},keySort:function(a,b){this._sort("key",a,b||function(d,c){return String(d).toUpperCase()-String(c).toUpperCase();});},getRange:function(c,d){var e=this.items;if(e.length<1){return[];}c=c||0;d=Math.min(typeof d=="undefined"?this.length-1:d,this.length-1);var b=[];if(c<=d){for(var a=c;a<=d;a++){b[b.length]=e[a];}}else{for(var a=c;a>=d;a--){b[b.length]=e[a];}}return b;},filter:function(a,d,b,c){if(Ext.isEmpty(d,false)){return this.clone();}d=this.createValueMatcher(d,b,c);return this.filterBy(function(e){return e&&d.test(e[a]);});},filterBy:function(a,h){var b=new Ext.util.MixedCollection();b.getKey=this.getKey;var d=this.keys,g=this.items;for(var e=0,c=g.length;e<c;e++){if(a.call(h||this,g[e],d[e])){b.add(d[e],g[e]);}}return b;},findIndex:function(a,e,c,b,d){if(Ext.isEmpty(e,false)){return -1;}e=this.createValueMatcher(e,b,d);return this.findIndexBy(function(g){return g&&e.test(g[a]);},null,c);},findIndexBy:function(a,h,b){var d=this.keys,g=this.items;for(var e=(b||0),c=g.length;e<c;e++){if(a.call(h||this,g[e],d[e])){return e;}}if(typeof b=="number"&&b>0){for(var e=0;e<b;e++){if(a.call(h||this,g[e],d[e])){return e;}}}return -1;},createValueMatcher:function(c,a,b){if(!c.exec){c=String(c);c=new RegExp((a===true?"":"^")+Ext.escapeRe(c),b?"":"i");}return c;},clone:function(){var c=new Ext.util.MixedCollection();var e=this.keys,b=this.items;for(var a=0,d=b.length;a<d;a++){c.add(e[a],b[a]);}c.getKey=this.getKey;return c;}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.ComponentMgr=function(){var a=new Ext.util.MixedCollection();var c={};var b={};return{register:function(d){a.add(d);},unregister:function(d){a.remove(d);},get:function(d){return a.get(d);},onAvailable:function(e,d,g){a.on("add",function(h,i){if(i.id==e){d.call(g||i,i);a.un("add",d,g);}});},all:a,registerType:function(e,d){c[e]=d;d.xtype=e;},create:function(d,e){return d.render?d:new c[d.xtype||e](d);},registerPlugin:function(e,d){b[e]=d;d.ptype=e;},createPlugin:function(d,e){return new b[d.ptype||e](d);}};}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty;var pad=function(n){return n<10?"0"+n:n;};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};var encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c;}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+s+'"';};var encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true;}}a.push("]");return a.join("");};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"';};this.encode=function(o){if(typeof o=="undefined"||o===null){return"null";}else{if(Ext.isArray(o)){return encodeArray(o);}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o);}else{if(typeof o=="string"){return encodeString(o);}else{if(typeof o=="number"){return isFinite(o)?String(o):"null";}else{if(typeof o=="boolean"){return String(o);}else{var a=["{"],b,i,v;for(i in o){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",");}a.push(this.encode(i),":",v===null?"null":this.encode(v));b=true;}}}a.push("}");return a.join("");}}}}}}};this.decode=function(json){return eval("("+json+")");};})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2);var index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"...";}else{return vs.substr(0,index)+"...";}}else{return value.substr(0,len-3)+"...";}}return value;},undef:function(value){return value!==undefined?value:"";},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue;},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&");},trim:function(value){return String(value).replace(trimRe,"");},substr:function(value,start,length){return String(value).substr(start,length);},lowercase:function(value){return String(value).toLowerCase();},uppercase:function(value){return String(value).toUpperCase();},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase();},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args);}else{return eval(fn).call(window,value);}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split(".");var whole=ps[0];var sub=ps[1]?"."+ps[1]:".00";var r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2");}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1);}return"$"+v;},date:function(v,format){if(!v){return"";}if(!Ext.isDate(v)){v=new Date(Date.parse(v));}return v.dateFormat(format||"m/d/Y");},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format);};},stripTagsRE:/<\/?[^>]+>/gi,stripTags:function(v){return !v?v:String(v).replace(this.stripTagsRE,"");},stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,stripScripts:function(v){return !v?v:String(v).replace(this.stripScriptsRe,"");},fileSize:function(size){if(size<1024){return size+" bytes";}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB";}else{return(Math.round(((size*10)/1048576))/10)+" MB";}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";");}return fns[a](v);};}(),number:function(v,format){if(!format){return v;}v*=1;if(typeof v!="number"||isNaN(v)){return"";}var comma=",";var dec=".";var i18n=false;if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=",";}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length);}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format);}else{v=v.toFixed(0);}}var fnum=v.toString();if(hasComma){psplit=fnum.split(".");var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3;for(var i=0;i<j;i+=n){if(i!=0){n=3;}parr[parr.length]=cnum.substr(i,n);m-=1;}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1];}}return format.replace(/[\d,?\.?]+/,fnum);},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format);};},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"));}};}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var q=this.html;q=["<tpl>",q,"</tpl>"].join("");var p=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/;var g=/^<tpl\b[^>]*?for="(.*?)"/;var u=/^<tpl\b[^>]*?if="(.*?)"/;var n=/^<tpl\b[^>]*?exec="(.*?)"/;var a,t=0;var h=[];while(a=q.match(p)){var e=a[0].match(g);var o=a[0].match(u);var l=a[0].match(n);var c=null,k=null,b=null;var r=e&&e[1]?e[1]:"";if(o){c=o&&o[1]?o[1]:null;if(c){k=new Function("values","parent","xindex","xcount","with(values){ return "+(Ext.util.Format.htmlDecode(c))+"; }");}}if(l){c=l&&l[1]?l[1]:null;if(c){b=new Function("values","parent","xindex","xcount","with(values){ "+(Ext.util.Format.htmlDecode(c))+"; }");}}if(r){switch(r){case".":r=new Function("values","parent","with(values){ return values; }");break;case"..":r=new Function("values","parent","with(values){ return parent; }");break;default:r=new Function("values","parent","with(values){ return "+r+"; }");}}h.push({id:t,target:r,exec:b,test:k,body:a[1]||""});q=q.replace(a[0],"{xtpl"+t+"}");++t;}for(var d=h.length-1;d>=0;--d){this.compileTpl(h[d]);}this.master=h[h.length-1];this.tpls=h;};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(h,d,c,m,l){var g=this.tpls[h];if(g.test&&!g.test.call(this,d,c,m,l)){return"";}if(g.exec&&g.exec.call(this,d,c,m,l)){return"";}var e=g.target?g.target.call(this,d,c):d;c=g.target?d:c;if(g.target&&Ext.isArray(e)){var k=[];for(var a=0,b=e.length;a<b;a++){k[k.length]=g.compiled.call(this,e[a],c,a+1,b);}return k.join("");}return g.compiled.call(this,e,c,m,l);},compileTpl:function(tpl){var fm=Ext.util.Format;var useF=this.disableFormats!==true;var sep=Ext.isGecko?"+":",";var fn=function(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'";}var v;if(name==="."){v="values";}else{if(name==="#"){v="xindex";}else{if(name.indexOf(".")!=-1){v=name;}else{v="values['"+name+"']";}}}if(math){v="("+v+math+")";}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"(";}else{format='this.call("'+format.substr(5)+'", ';args=", values";}}else{args="";format="("+v+" === undefined ? '' : ";}return"'"+sep+format+v+args+")"+sep+"'";};var codeFn=function(m,code){return"'"+sep+"("+code+")"+sep+"'";};var body;if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};";}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("");}eval(body);return this;},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1);},compile:function(){return this;}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(a){a=Ext.getDom(a);return new Ext.XTemplate(a.value||a.innerHTML);};Ext.util.CSS=function(){var b=null;var a=document;var d=/(-[a-z])/gi;var c=function(e,g){return g.charAt(1).toUpperCase();};return{createStyleSheet:function(i,g){var l;var h=a.getElementsByTagName("head")[0];var e=a.createElement("style");e.setAttribute("type","text/css");if(g){e.setAttribute("id",g);}if(Ext.isIE){h.appendChild(e);l=e.styleSheet;l.cssText=i;}else{try{e.appendChild(a.createTextNode(i));}catch(k){e.cssText=i;}h.appendChild(e);l=e.styleSheet?e.styleSheet:(e.sheet||a.styleSheets[a.styleSheets.length-1]);}this.cacheStyleSheet(l);return l;},removeStyleSheet:function(g){var e=a.getElementById(g);if(e){e.parentNode.removeChild(e);}},swapStyleSheet:function(g,h){this.removeStyleSheet(g);var e=a.createElement("link");e.setAttribute("rel","stylesheet");e.setAttribute("type","text/css");e.setAttribute("id",g);e.setAttribute("href",h);a.getElementsByTagName("head")[0].appendChild(e);},refreshCache:function(){return this.getRules(true);},cacheStyleSheet:function(i){if(!b){b={};}try{var g=i.cssRules||i.rules;for(var h=g.length-1;h>=0;--h){b[g[h].selectorText]=g[h];}}catch(e){}},getRules:function(h){if(b==null||h){b={};var e=a.styleSheets;for(var k=0,i=e.length;k<i;k++){try{this.cacheStyleSheet(e[k]);}catch(g){}}}return b;},getRule:function(h,e){var i=this.getRules(e);if(!Ext.isArray(h)){return i[h];}for(var g=0;g<h.length;g++){if(i[h[g]]){return i[h[g]];}}return null;},updateRule:function(g,e,k){if(!Ext.isArray(g)){var h=this.getRule(g);if(h){h.style[e.replace(d,c)]=k;return true;}}else{for(var i=0;i<g.length;i++){if(this.updateRule(g[i],e,k)){return true;}}}return false;}};}();Ext.util.ClickRepeater=function(b,a){this.el=Ext.get(b);this.el.unselectable();Ext.apply(this,a);this.addEvents("mousedown","click","mouseup");this.el.on("mousedown",this.handleMouseDown,this);if(this.preventDefault||this.stopDefault){this.el.on("click",function(c){if(this.preventDefault){c.preventDefault();}if(this.stopDefault){c.stopEvent();}},this);}if(this.handler){this.on("click",this.handler,this.scope||this);}Ext.util.ClickRepeater.superclass.constructor.call(this);};Ext.extend(Ext.util.ClickRepeater,Ext.util.Observable,{interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,destroy:function(){Ext.destroy(this.el);this.purgeListeners();},handleMouseDown:function(){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass);}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this);this.fireEvent("click",this);if(this.accelerate){this.delay=400;}this.timer=this.click.defer(this.delay||this.interval,this);},click:function(){this.fireEvent("click",this);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this);},easeOutExpo:function(e,a,h,g){return(e==g)?a+h:h*(-Math.pow(2,-10*e/g)+1)+a;},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass);}this.el.on("mouseover",this.handleMouseReturn,this);},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass);}this.click();},handleMouseUp:function(){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this);}});Ext.KeyNav=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(!this.disabled){this.disabled=true;this.enable();}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,prepareEvent:function(a){var b=a.getKey();var c=this.keyToHandler[b];if(Ext.isSafari2&&c&&b>=37&&b<=40){a.stopEvent();}},relay:function(a){var b=a.getKey();var c=this.keyToHandler[b];if(c&&this[c]){if(this.doRelay(a,this[c],c)!==true){a[this.defaultEventAction]();}}},doRelay:function(a,c,b){return c.call(this.scope||this,a);},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},enable:function(){if(this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.on("keydown",this.relay,this);}else{this.el.on("keydown",this.prepareEvent,this);this.el.on("keypress",this.relay,this);}this.disabled=false;}},disable:function(){if(!this.disabled){if(this.forceKeyDown||Ext.isIE||Ext.isSafari3||Ext.isAir){this.el.un("keydown",this.relay);}else{this.el.un("keydown",this.prepareEvent);this.el.un("keypress",this.relay);}this.disabled=true;}}};Ext.KeyMap=function(a,c,b){this.el=Ext.get(a);this.eventName=b||"keydown";this.bindings=[];if(c){this.addBinding(c);}this.enable();};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(e){if(Ext.isArray(e)){for(var k=0,m=e.length;k<m;k++){this.addBinding(e[k]);}return;}var g=e.key,d=e.shift,b=e.ctrl,l=e.alt,o=e.fn||e.handler,a=e.scope;if(e.stopEvent){this.stopEvent=e.stopEvent;}if(typeof g=="string"){var p=[];var n=g.toUpperCase();for(var h=0,m=n.length;h<m;h++){p.push(n.charCodeAt(h));}g=p;}var c=Ext.isArray(g);var q=function(r){if((!d||r.shiftKey)&&(!b||r.ctrlKey)&&(!l||r.altKey)){var t=r.getKey();if(c){for(var i=0,s=g.length;i<s;i++){if(g[i]==t){if(this.stopEvent){r.stopEvent();}o.call(a||window,t,r);return;}}}else{if(t==g){if(this.stopEvent){r.stopEvent();}o.call(a||window,t,r);}}}};this.bindings.push(q);},on:function(d,g,e){var b,c,h,a;if(typeof d=="object"&&!Ext.isArray(d)){b=d.key;c=d.shift;h=d.ctrl;a=d.alt;}else{b=d;}this.addBinding({key:b,shift:c,ctrl:h,alt:a,fn:g,scope:e});},handleKeyDown:function(g){if(this.enabled){var c=this.bindings;for(var d=0,a=c.length;d<a;d++){c[d].call(this,g);}}},isEnabled:function(){return this.enabled;},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true;}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false;}}};Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){if(!a){a=Ext.util.TextMetrics.Instance(b,d);}a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c);},createInstance:function(b,c){return Ext.util.TextMetrics.Instance(b,c);}};}();Ext.util.TextMetrics.Instance=function(d,b){var a=new Ext.Element(document.createElement("div"));document.body.appendChild(a.dom);a.position("absolute");a.setLeftTop(-1000,-1000);a.hide();if(b){a.setWidth(b);}var c={getSize:function(g){a.update(g);var e=a.getSize();a.update("");return e;},bind:function(e){a.setStyle(Ext.fly(e).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"));},setFixedWidth:function(e){a.setWidth(e);},getWidth:function(e){a.dom.style.width="auto";return this.getSize(e).width;},getHeight:function(e){return this.getSize(e).height;}};c.bind(d);return c;};Ext.Element.addMethods({getTextWidth:function(a,c,b){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(a,this.dom.innerHTML,true)).width).constrain(c||0,b||1000000);}});(function(){var a=Ext.EventManager;var b=Ext.lib.Dom;Ext.dd.DragDrop=function(d,e,c){if(d){this.init(d,e,c);}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true;},moveOnly:false,unlock:function(){this.locked=false;},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(c,d){},startDrag:function(c,d){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(c,d){},b4DragOver:function(c){},onDragOver:function(c,d){},b4DragOut:function(c){},onDragOut:function(c,d){},b4DragDrop:function(c){},onDragDrop:function(c,d){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(n,l,h){if(typeof l=="number"){l={left:l,right:l,top:l,bottom:l};}l=l||this.defaultPadding;var c=Ext.get(this.getEl()).getBox();var e=Ext.get(n);var g=e.getScroll();var o,i=e.dom;if(i==document.body){o={x:g.left,y:g.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()};}else{var d=e.getXY();o={x:d[0]+g.left,y:d[1]+g.top,width:i.clientWidth,height:i.clientHeight};}var m=c.y-o.y;var k=c.x-o.x;this.resetConstraints();this.setXConstraint(k-(l.left||0),o.width-k-c.width-(l.right||0),this.xTickSize);this.setYConstraint(m-(l.top||0),o.height-m-c.height-(l.bottom||0),this.yTickSize);},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id);}return this._domRef;},getDragEl:function(){return Ext.getDom(this.dragElId);},init:function(d,e,c){this.initTarget(d,e,c);a.on(this.id,"mousedown",this.handleMouseDown,this);},initTarget:function(d,e,c){this.config=c||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof d!=="string"){d=Ext.id(d);}this.id=d;this.addToGroup((e)?e:"default");this.handleElId=d;this.setDragElId(d);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable();},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false);},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable();},setPadding:function(c,e,d,g){if(!e&&0!==e){this.padding=[c,c,c,c];}else{if(!d&&0!==d){this.padding=[c,e,c,e];}else{this.padding=[c,e,d,g];}}},setInitPosition:function(h,g){var d=this.getEl();if(!this.DDM.verifyEl(d)){return;}var c=h||0;var i=g||0;var e=b.getXY(d);this.initPageX=e[0]-c;this.initPageY=e[1]-i;this.lastPageX=e[0];this.lastPageY=e[1];this.setStartPosition(e);},setStartPosition:function(d){var c=d||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=c[0];this.startPageY=c[1];},addToGroup:function(c){this.groups[c]=true;this.DDM.regDragDrop(this,c);},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c];}this.DDM.removeDDFromGroup(this,c);},setDragElId:function(c){this.dragElId=c;},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c);}this.handleElId=c;this.DDM.regHandle(this.id,c);},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c);}a.on(c,"mousedown",this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true;},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this);},destroy:function(){this.unreg();},isLocked:function(){return(this.DDM.isLocked()||this.locked);},handleMouseDown:function(d,c){if(this.primaryButtonOnly&&d.button!=0){return;}if(this.isLocked()){return;}this.DDM.refreshCache(this.groups);var g=new Ext.lib.Point(Ext.lib.Event.getPageX(d),Ext.lib.Event.getPageY(d));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(g,this)){}else{if(this.clickValidator(d)){this.setStartPosition();this.b4MouseDown(d);this.onMouseDown(d);this.DDM.handleMouseDown(d,this);this.DDM.stopEvent(d);}else{}}},clickValidator:function(d){var c=d.getTarget();return(this.isValidHandleChild(c)&&(this.id==this.handleElId||this.DDM.handleWasClicked(c,this.id)));},addInvalidHandleType:function(c){var d=c.toUpperCase();this.invalidHandleTypes[d]=d;},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c);}this.invalidHandleIds[c]=c;},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c);},removeInvalidHandleType:function(c){var d=c.toUpperCase();delete this.invalidHandleTypes[d];},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c);}delete this.invalidHandleIds[c];},removeInvalidHandleClass:function(c){for(var d=0,e=this.invalidHandleClasses.length;d<e;++d){if(this.invalidHandleClasses[d]==c){delete this.invalidHandleClasses[d];}}},isValidHandleChild:function(k){var h=true;var g;try{g=k.nodeName.toUpperCase();}catch(d){g=k.nodeName;}h=h&&!this.invalidHandleTypes[g];h=h&&!this.invalidHandleIds[k.id];for(var c=0,l=this.invalidHandleClasses.length;h&&c<l;++c){h=!Ext.fly(k).hasClass(this.invalidHandleClasses[c]);}return h;},setXTicks:function(d,e){this.xTicks=[];this.xTickSize=e;var c={};for(var g=this.initPageX;g>=this.minX;g=g-e){if(!c[g]){this.xTicks[this.xTicks.length]=g;c[g]=true;}}for(g=this.initPageX;g<=this.maxX;g=g+e){if(!c[g]){this.xTicks[this.xTicks.length]=g;c[g]=true;}}this.xTicks.sort(this.DDM.numericSort);},setYTicks:function(d,e){this.yTicks=[];this.yTickSize=e;var c={};for(var g=this.initPageY;g>=this.minY;g=g-e){if(!c[g]){this.yTicks[this.yTicks.length]=g;c[g]=true;}}for(g=this.initPageY;g<=this.maxY;g=g+e){if(!c[g]){this.yTicks[this.yTicks.length]=g;c[g]=true;}}this.yTicks.sort(this.DDM.numericSort);},setXConstraint:function(d,c,e){this.leftConstraint=d;this.rightConstraint=c;this.minX=this.initPageX-d;this.maxX=this.initPageX+c;if(e){this.setXTicks(this.initPageX,e);}this.constrainX=true;},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks();},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0;},setYConstraint:function(e,d,c){this.topConstraint=e;this.bottomConstraint=d;this.minY=this.initPageY-e;this.maxY=this.initPageY+d;if(c){this.setYTicks(this.initPageY,c);}this.constrainY=true;},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var d=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var c=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(d,c);}else{this.setInitPosition();}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize);}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize);}},getTick:function(e,d){if(!d){return e;}else{if(d[0]>=e){return d[0];}else{for(var k=0,h=d.length;k<h;++k){var l=k+1;if(d[l]&&d[l]>=e){var c=e-d[k];var g=d[l]-e;return(g>c)?d[k]:d[l];}}return d[d.length-1];}}},toString:function(){return("DragDrop "+this.id);}};})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true;},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,c){for(var e in this.ids){for(var b in this.ids[e]){var g=this.ids[e][b];if(!this.isTypeOfDD(g)){continue;}g[d].apply(g,c);}}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true);},_onResize:function(b){this._execOnAll("resetConstraints",[]);},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,b){if(!this.initialized){this.init();}if(!this.ids[b]){this.ids[b]={};}this.ids[b][c.id]=c;},removeDDFromGroup:function(d,b){if(!this.ids[b]){this.ids[b]={};}var c=this.ids[b];if(c&&c[d.id]){delete c[d.id];}},_remove:function(c){for(var b in c.groups){if(b&&this.ids[b]&&this.ids[b][c.id]){delete this.ids[b][c.id];}}delete this.handleIds[c.id];},regHandle:function(c,b){if(!this.handleIds[c]){this.handleIds[c]={};}this.handleIds[c][b]=b;},isDragDrop:function(b){return(this.getDDById(b))?true:false;},getRelated:function(g,c){var e=[];for(var d in g.groups){for(j in this.ids[d]){var b=this.ids[d][j];if(!this.isTypeOfDD(b)){continue;}if(!c||b.isTarget){e[e.length]=b;}}}return e;},isLegalTarget:function(g,e){var c=this.getRelated(g,true);for(var d=0,b=c.length;d<b;++d){if(c[d].id==e.id){return true;}}return false;},isTypeOfDD:function(b){return(b&&b.__ygDragDrop);},isHandle:function(c,b){return(this.handleIds[c]&&this.handleIds[c][b]);},getDDById:function(c){for(var b in this.ids){if(this.ids[b][c]){return this.ids[b][c];}}return null;},handleMouseDown:function(d,c){if(Ext.QuickTips){Ext.QuickTips.disable();}if(this.dragCurrent){this.handleMouseUp(d);}this.currentTarget=d.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=Ext.dd.DDM;e.startDrag(e.startX,e.startY);},this.clickTimeThresh);},startDrag:function(b,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(b,c);this.dragCurrent.startDrag(b,c);}this.dragThreshMet=true;},handleMouseUp:function(b){if(Ext.QuickTips){Ext.QuickTips.enable();}if(!this.dragCurrent){return;}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true);}else{}this.stopDrag(b);this.stopEvent(b);},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation();}if(this.preventDefault){b.preventDefault();}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b);}this.dragCurrent.onMouseUp(b);}this.dragCurrent=null;this.dragOvers={};},handleMouseMove:function(d){if(!this.dragCurrent){return true;}if(Ext.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d);}if(!this.dragThreshMet){var c=Math.abs(this.startX-d.getPageX());var b=Math.abs(this.startY-d.getPageY());if(c>this.clickPixelThresh||b>this.clickPixelThresh){this.startDrag(this.startX,this.startY);}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false);}}this.stopEvent(d);return true;},fireEvents:function(s,h){var n=this.dragCurrent;if(!n||n.isLocked()){return;}var b=s.getPoint();var c=[];var l=[];var q=[];var o=[];var g=[];for(var m in this.dragOvers){var d=this.dragOvers[m];if(!this.isTypeOfDD(d)){continue;}if(!this.isOverTarget(b,d,this.mode)){l.push(d);}c[m]=true;delete this.dragOvers[m];}for(var k in n.groups){if("string"!=typeof k){continue;}for(m in this.ids[k]){var p=this.ids[k][m];if(!this.isTypeOfDD(p)){continue;}if(p.isTarget&&!p.isLocked()&&p!=n){if(this.isOverTarget(b,p,this.mode)){if(h){o.push(p);}else{if(!c[p.id]){g.push(p);}else{q.push(p);}this.dragOvers[p.id]=p;}}}}}if(this.mode){if(l.length){n.b4DragOut(s,l);n.onDragOut(s,l);}if(g.length){n.onDragEnter(s,g);}if(q.length){n.b4DragOver(s,q);n.onDragOver(s,q);}if(o.length){n.b4DragDrop(s,o);n.onDragDrop(s,o);}}else{var r=0;for(m=0,r=l.length;m<r;++m){n.b4DragOut(s,l[m].id);n.onDragOut(s,l[m].id);}for(m=0,r=g.length;m<r;++m){n.onDragEnter(s,g[m].id);}for(m=0,r=q.length;m<r;++m){n.b4DragOver(s,q[m].id);n.onDragOver(s,q[m].id);}for(m=0,r=o.length;m<r;++m){n.b4DragDrop(s,o[m].id);n.onDragDrop(s,o[m].id);}}if(h&&!o.length){n.onInvalidDrop(s);}},getBestMatch:function(d){var g=null;var c=d.length;if(c==1){g=d[0];}else{for(var e=0;e<c;++e){var b=d[e];if(b.cursorIsOver){g=b;break;}else{if(!g||g.overlap.getArea()<b.overlap.getArea()){g=b;}}}}return g;},refreshCache:function(c){for(var b in c){if("string"!=typeof b){continue;}for(var d in this.ids[b]){var e=this.ids[b][d];if(this.isTypeOfDD(e)){var g=this.getLocation(e);if(g){this.locationCache[e.id]=g;}else{delete this.locationCache[e.id];}}}}},verifyEl:function(c){if(c){var b;if(Ext.isIE){try{b=c.offsetParent;}catch(d){}}else{b=c.offsetParent;}if(b){return true;}}return false;},getLocation:function(p){if(!this.isTypeOfDD(p)){return null;}var n=p.getEl(),d,m,i,k,g,c,h,b,o;try{d=Ext.lib.Dom.getXY(n);}catch(q){}if(!d){return null;}m=d[0];i=m+n.offsetWidth;k=d[1];g=k+n.offsetHeight;c=k-p.padding[0];h=i+p.padding[1];b=g+p.padding[2];o=m-p.padding[3];return new Ext.lib.Region(c,h,b,o);},isOverTarget:function(i,k,b){var d=this.locationCache[k.id];if(!d||!this.useCache){d=this.getLocation(k);this.locationCache[k.id]=d;}if(!d){return false;}k.cursorIsOver=d.contains(i);var h=this.dragCurrent;if(!h||!h.getTargetCoord||(!b&&!h.constrainX&&!h.constrainY)){return k.cursorIsOver;}k.overlap=null;var e=h.getTargetCoord(i.x,i.y);var l=h.getDragEl();var c=new Ext.lib.Region(e.y,e.x+l.offsetWidth,e.y+l.offsetHeight,e.x);var g=c.intersect(d);if(g){k.overlap=g;return(b)?true:k.cursorIsOver;}else{return false;}},_onUnload:function(c,b){Ext.dd.DragDropMgr.unregAll();},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null;}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b];}this.elementCache={};this.ids={};},elementCache:{},getElWrapper:function(c){var b=this.elementCache[c];if(!b||!b.el){b=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c));}return b;},getElement:function(b){return Ext.getDom(b);},getCss:function(c){var b=Ext.getDom(c);return(b)?b.style:null;},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style;},getPosX:function(b){return Ext.lib.Dom.getX(b);},getPosY:function(b){return Ext.lib.Dom.getY(b);},swapNode:function(d,b){if(d.swapNode){d.swapNode(b);}else{var e=b.parentNode;var c=b.nextSibling;if(c==d){e.insertBefore(d,b);}else{if(b==d.nextSibling){e.insertBefore(b,d);}else{d.parentNode.replaceChild(b,d);e.insertBefore(d,c);}}}},getScroll:function(){var d,b,e=document.documentElement,c=document.body;if(e&&(e.scrollTop||e.scrollLeft)){d=e.scrollTop;b=e.scrollLeft;}else{if(c){d=c.scrollTop;b=c.scrollLeft;}else{}}return{top:d,left:b};},getStyle:function(c,b){return Ext.fly(c).getStyle(b);},getScrollTop:function(){return this.getScroll().top;},getScrollLeft:function(){return this.getScroll().left;},moveToEl:function(b,d){var c=Ext.lib.Dom.getXY(d);Ext.lib.Dom.setXY(b,c);},numericSort:function(b,c){return(b-c);},_timeoutCount:0,_addListeners:function(){var b=Ext.dd.DDM;if(Ext.lib.Event&&document){b._onLoad();}else{if(b._timeoutCount>2000){}else{setTimeout(b._addListeners,10);if(document&&document.body){b._timeoutCount+=1;}}}},handleWasClicked:function(b,d){if(this.isHandle(d,b.id)){return true;}else{var c=b.parentNode;while(c){if(this.isHandle(d,c.id)){return true;}else{c=c.parentNode;}}}return false;}};}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners();}Ext.dd.DD=function(a,b,c){if(a){this.init(a,b,c);}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(a,d){var c=a-this.startPageX;var b=d-this.startPageY;this.setDelta(c,b);},setDelta:function(b,a){this.deltaX=b;this.deltaY=a;},setDragElPos:function(a,c){var b=this.getDragEl();this.alignElWithMouse(b,a,c);},alignElWithMouse:function(d,i,h){var g=this.getTargetCoord(i,h);var c=d.dom?d:Ext.fly(d,"_dd");if(!this.deltaSetXY){var a=[g.x,g.y];c.setXY(a);var e=c.getLeft(true);var b=c.getTop(true);this.deltaSetXY=[e-g.x,b-g.y];}else{c.setLeftTop(g.x+this.deltaSetXY[0],g.y+this.deltaSetXY[1]);}this.cachePosition(g.x,g.y);this.autoScroll(g.x,g.y,d.offsetHeight,d.offsetWidth);return g;},cachePosition:function(c,b){if(c){this.lastPageX=c;this.lastPageY=b;}else{var a=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=a[0];this.lastPageY=a[1];}},autoScroll:function(o,n,i,p){if(this.scroll){var q=Ext.lib.Dom.getViewHeight();var c=Ext.lib.Dom.getViewWidth();var g=this.DDM.getScrollTop();var e=this.DDM.getScrollLeft();var m=i+n;var b=p+o;var l=(q+g-n-this.deltaY);var k=(c+e-o-this.deltaX);var d=40;var a=(document.all)?80:30;if(m>q&&l<d){window.scrollTo(e,g+a);}if(n<g&&g>0&&n-g<d){window.scrollTo(e,g-a);}if(b>c&&k<d){window.scrollTo(e+a,g);}if(o<e&&e>0&&o-e<d){window.scrollTo(e-a,g);}}},getTargetCoord:function(a,d){var c=a-this.deltaX;var b=d-this.deltaY;if(this.constrainX){if(c<this.minX){c=this.minX;}if(c>this.maxX){c=this.maxX;}}if(this.constrainY){if(b<this.minY){b=this.minY;}if(b>this.maxY){b=this.maxY;}}c=this.getTick(c,this.xTicks);b=this.getTick(b,this.yTicks);return{x:c,y:b};},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false);},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY());},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY());},toString:function(){return("DD "+this.id);}});Ext.dd.DDProxy=function(a,b,c){if(a){this.init(a,b,c);this.initFrame();}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var d=this;var c=document.body;if(!c||!c.firstChild){setTimeout(function(){d.createFrame();},50);return;}var b=this.getDragEl();if(!b){b=document.createElement("div");b.id=this.dragElId;var a=b.style;a.position="absolute";a.visibility="hidden";a.cursor="move";a.border="2px solid #aaa";a.zIndex=999;c.insertBefore(b,c.firstChild);}},initFrame:function(){this.createFrame();},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId);},showFrame:function(c,b){var a=this.getEl();var d=this.getDragEl();var e=d.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(e.width,10)/2),Math.round(parseInt(e.height,10)/2));}this.setDragElPos(c,b);Ext.fly(d).show();},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight);}},b4MouseDown:function(c){var b=c.getPageX();var a=c.getPageY();this.autoOffset(b,a);this.setDragElPos(b,a);},b4StartDrag:function(a,b){this.showFrame(a,b);},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide();},endDrag:function(a){var c=this.getEl();var b=this.getDragEl();b.style.visibility="";this.beforeMove();c.style.visibility="hidden";Ext.dd.DDM.moveToEl(c,b);b.style.visibility="hidden";c.style.visibility="";this.afterDrag();},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id);}});Ext.dd.DDTarget=function(a,b,c){if(a){this.initTarget(a,b,c);}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{toString:function(){return("DDTarget "+this.id);}});Ext.dd.DragTracker=function(a){Ext.apply(this,a);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el);}};Ext.extend(Ext.dd.DragTracker,Ext.util.Observable,{active:false,tolerance:5,autoStart:false,initEl:function(a){this.el=Ext.get(a);a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined);},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);},onMouseDown:function(a,c){if(this.fireEvent("mousedown",this,a)!==false&&this.onBeforeStart(a)!==false){this.startXY=this.lastXY=a.getXY();this.dragTarget=this.delegate?c:this.el.dom;if(this.preventDefault!==false){a.preventDefault();}var b=Ext.getDoc();b.on("mouseup",this.onMouseUp,this);b.on("mousemove",this.onMouseMove,this);b.on("selectstart",this.stopSelect,this);if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this);}}},onMouseMove:function(b,a){b.preventDefault();var d=b.getXY(),c=this.startXY;this.lastXY=d;if(!this.active){if(Math.abs(c[0]-d[0])>this.tolerance||Math.abs(c[1]-d[1])>this.tolerance){this.triggerStart();}else{return;}}this.fireEvent("mousemove",this,b);this.onDrag(b);this.fireEvent("drag",this,b);},onMouseUp:function(a){var c=Ext.getDoc();c.un("mousemove",this.onMouseMove,this);c.un("mouseup",this.onMouseUp,this);c.un("selectstart",this.stopSelect,this);a.preventDefault();this.clearStart();var b=this.active;this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,a);if(b){this.onEnd(a);this.fireEvent("dragend",this,a);}},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(this.startXY);this.fireEvent("dragstart",this,this.startXY);},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer;}},stopSelect:function(a){a.stopEvent();return false;},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget;},getDragCt:function(){return this.el;},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY;},getOffset:function(a){var c=this.getXY(a);var b=this.startXY;return[b[0]-c[0],b[1]-c[1]];},constrainModes:{point:function(b){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion();}var a=this.dragRegion;a.left=b[0];a.top=b[1];a.right=b[0];a.bottom=b[1];a.constrainTo(this.elRegion);return[a.left,a.top];}}});Ext.dd.ScrollManager=function(){var k=Ext.dd.DragDropMgr;var a={};var i=null;var d={};var c=function(m){i=null;h();};var e=function(){if(k.dragCurrent){k.refreshCache(k.dragCurrent.groups);}};var l=function(){if(k.dragCurrent){var n=Ext.dd.ScrollManager;var m=d.el.ddScrollConfig?d.el.ddScrollConfig.increment:n.increment;if(!n.animate){if(d.el.scroll(d.dir,m)){e();}}else{d.el.scroll(d.dir,m,true,n.animDuration,e);}}};var h=function(){if(d.id){clearInterval(d.id);}d.id=0;d.el=null;d.dir="";};var b=function(o,n){h();d.el=o;d.dir=n;var m=(o.ddScrollConfig&&o.ddScrollConfig.frequency)?o.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;d.id=setInterval(l,m);};var g=function(t,m){if(m||!k.dragCurrent){return;}var n=Ext.dd.ScrollManager;if(!i||i!=k.dragCurrent){i=k.dragCurrent;n.refreshCache();}var o=Ext.lib.Event.getXY(t);var p=new Ext.lib.Point(o[0],o[1]);for(var r in a){var s=a[r],q=s._region;var u=s.ddScrollConfig?s.ddScrollConfig:n;if(q&&q.contains(p)&&s.isScrollable()){if(q.bottom-p.y<=u.vthresh){if(d.el!=s){b(s,"down");}return;}else{if(q.right-p.x<=u.hthresh){if(d.el!=s){b(s,"left");}return;}else{if(p.y-q.top<=u.vthresh){if(d.el!=s){b(s,"up");}return;}else{if(p.x-q.left<=u.hthresh){if(d.el!=s){b(s,"right");}return;}}}}}}h();};k.fireEvents=k.fireEvents.createSequence(g,k);k.stopDrag=k.stopDrag.createSequence(c,k);return{register:function(m){if(Ext.isArray(m)){for(var o=0,n=m.length;o<n;o++){this.register(m[o]);}}else{m=Ext.get(m);a[m.id]=m;}},unregister:function(m){if(Ext.isArray(m)){for(var o=0,n=m.length;o<n;o++){this.unregister(m[o]);}}else{m=Ext.get(m);delete a[m.id];}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,refreshCache:function(){for(var m in a){if(typeof a[m]=="object"){a[m]._region=a[m].getRegion();}}}};}();Ext.dd.Registry=function(){var b={};var d={};var c=0;var a=function(e,h){if(typeof e=="string"){return e;}var g=e.id;if(!g&&h!==false){g="extdd-"+(++c);e.id=g;}return g;};return{register:function(g,h){h=h||{};if(typeof g=="string"){g=document.getElementById(g);}h.ddel=g;b[a(g)]=h;if(h.isHandle!==false){d[h.ddel.id]=h;}if(h.handles){var k=h.handles;for(var i=0,e=k.length;i<e;i++){d[a(k[i])]=h;}}},unregister:function(l){var g=a(l,false);var e=b[g];if(e){delete b[g];if(e.handles){var i=e.handles;for(var k=0,h=i.length;k<h;k++){delete d[a(i[k],false)];}}}},getHandle:function(e){if(typeof e!="string"){e=e.id;}return d[e];},getHandleFromEvent:function(g){var e=Ext.lib.Event.getTarget(g);return e?d[e.id]:null;},getTarget:function(e){if(typeof e!="string"){e=e.id;}return b[e];},getTargetFromEvent:function(g){var e=Ext.lib.Event.getTarget(g);return e?b[e.id]||d[e.id]:null;}};}();Ext.dd.StatusProxy=function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed;};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceClass(this.dropStatus,a);this.dropStatus=a;}},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(a){this.ghost.update("");}},update:function(a){if(typeof a=="string"){this.ghost.update(a);}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a);}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle(Ext.isIE?"styleFloat":"cssFloat","none");}},getEl:function(){return this.el;},getGhost:function(){return this.ghost;},hide:function(a){this.el.hide();if(a){this.reset(true);}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop();}},show:function(){this.el.show();},sync:function(){this.el.sync();},repair:function(c,a,b){this.callback=a;this.scope=b;if(c&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:c,stopFx:true,callback:this.afterRepair,scope:this});}else{this.afterRepair();}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this);}this.callback=null;this.scope=null;}};Ext.dd.DragSource=function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={};}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy();}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false;};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(a){return this.dragData;},onDragEnter:function(a,b){var d=Ext.dd.DragDropMgr.getDDById(b);this.cachedTarget=d;if(this.beforeDragEnter(d,a,b)!==false){if(d.isNotifyTarget){var c=d.notifyEnter(this,a,this.dragData);this.proxy.setStatus(c);}else{this.proxy.setStatus(this.dropAllowed);}if(this.afterDragEnter){this.afterDragEnter(d,a,b);}}},beforeDragEnter:function(c,b,a){return true;},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync();},onDragOver:function(a,b){var d=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(b);if(this.beforeDragOver(d,a,b)!==false){if(d.isNotifyTarget){var c=d.notifyOver(this,a,this.dragData);this.proxy.setStatus(c);}if(this.afterDragOver){this.afterDragOver(d,a,b);}}},beforeDragOver:function(c,b,a){return true;},onDragOut:function(c,a){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(a);if(this.beforeDragOut(b,c,a)!==false){if(b.isNotifyTarget){b.notifyOut(this,c,this.dragData);}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(b,c,a);}}this.cachedTarget=null;},beforeDragOut:function(c,b,a){return true;},onDragDrop:function(c,a){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(a);if(this.beforeDragDrop(b,c,a)!==false){if(b.isNotifyTarget){if(b.notifyDrop(this,c,this.dragData)){this.onValidDrop(b,c,a);}else{this.onInvalidDrop(b,c,a);}}else{this.onValidDrop(b,c,a);}if(this.afterDragDrop){this.afterDragDrop(b,c,a);}}delete this.cachedTarget;},beforeDragDrop:function(c,b,a){return true;},onValidDrop:function(c,b,a){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(c,b,a);}},getRepairXY:function(b,a){return this.el.getXY();},onInvalidDrop:function(c,b,a){this.beforeInvalidDrop(c,b,a);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,b,this.dragData);}this.cacheTarget=null;}this.proxy.repair(this.getRepairXY(b,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(b,a);}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9");}this.dragging=false;},beforeInvalidDrop:function(c,b,a){return true;},handleMouseDown:function(b){if(this.dragging){return;}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments);}},onBeforeDrag:function(a,b){return true;},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show();},onInitDrag:function(b,a){var c=this.el.dom.cloneNode(true);c.id=Ext.id();this.proxy.update(c);this.onStartDrag(b,a);return true;},getProxy:function(){return this.proxy;},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false;},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a);},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20);}});Ext.dd.DropTarget=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true});};Ext.extend(Ext.dd.DropTarget,Ext.dd.DDTarget,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(b,a,c){if(this.overClass){this.el.addClass(this.overClass);}return this.dropAllowed;},notifyOver:function(b,a,c){return this.dropAllowed;},notifyOut:function(b,a,c){if(this.overClass){this.el.removeClass(this.overClass);}},notifyDrop:function(b,a,c){return false;}});Ext.dd.DragZone=function(b,a){Ext.dd.DragZone.superclass.constructor.call(this,b,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el);}};Ext.extend(Ext.dd.DragZone,Ext.dd.DragSource,{getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a);},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true;},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");}this.dragging=false;},getRepairXY:function(a){return Ext.Element.fly(this.dragData.ddel).getXY();}});Ext.dd.DropZone=function(b,a){Ext.dd.DropZone.superclass.constructor.call(this,b,a);};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a);},onNodeEnter:function(b,c,a,d){},onNodeOver:function(b,c,a,d){return this.dropAllowed;},onNodeOut:function(b,c,a,d){},onNodeDrop:function(b,c,a,d){return false;},onContainerOver:function(b,a,c){return this.dropNotAllowed;},onContainerDrop:function(b,a,c){return false;},notifyEnter:function(b,a,c){return this.dropNotAllowed;},notifyOver:function(c,a,d){var b=this.getTargetFromEvent(a);if(!b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,d);this.lastOverNode=null;}return this.onContainerOver(c,a,d);}if(this.lastOverNode!=b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,d);}this.onNodeEnter(b,c,a,d);this.lastOverNode=b;}return this.onNodeOver(b,c,a,d);},notifyOut:function(b,a,c){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,b,a,c);this.lastOverNode=null;}},notifyDrop:function(c,a,d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,c,a,d);this.lastOverNode=null;}var b=this.getTargetFromEvent(a);return b?this.onNodeDrop(b,c,a,d):this.onContainerDrop(c,a,d);},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups);}});Ext.data.SortTypes={none:function(a){return a;},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"");},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"");},asUCString:function(a){return String(a).toUpperCase();},asDate:function(a){if(!a){return 0;}if(Ext.isDate(a)){return a.getTime();}return Date.parse(String(a));},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));if(isNaN(b)){b=0;}return b;},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""));if(isNaN(b)){b=0;}return b;}};Ext.data.Record=function(a,b){this.id=(b||b===0)?b:++Ext.data.Record.AUTO_ID;this.data=a;};Ext.data.Record.create=function(c){var a=Ext.extend(Ext.data.Record,{});var b=a.prototype;b.fields=new Ext.util.MixedCollection(false,function(g){return g.name;});for(var e=0,d=c.length;e<d;e++){b.fields.add(new Ext.data.Field(c[e]));}a.getField=function(g){return b.fields.get(g);};return a;};Ext.data.Record.AUTO_ID=1000;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,join:function(a){this.store=a;},set:function(a,b){if(String(this.data[a])==String(b)){return;}this.dirty=true;if(!this.modified){this.modified={};}if(typeof this.modified[a]=="undefined"){this.modified[a]=this.data[a];}this.data[a]=b;if(!this.editing&&this.store){this.store.afterEdit(this);}},get:function(a){return this.data[a];},beginEdit:function(){this.editing=true;this.modified=this.modified||{};},cancelEdit:function(){this.editing=false;delete this.modified;},endEdit:function(){this.editing=false;if(this.dirty&&this.store){this.store.afterEdit(this);}},reject:function(c){var b=this.modified;for(var a in b){if(typeof b[a]!="function"){this.data[a]=b[a];}}this.dirty=false;delete this.modified;this.editing=false;if(this.store&&c!==true){this.store.afterReject(this);}},commit:function(a){this.dirty=false;delete this.modified;this.editing=false;if(this.store&&a!==true){this.store.afterCommit(this);}},getChanges:function(){var b=this.modified,c={};for(var a in b){if(b.hasOwnProperty(a)){c[a]=this.data[a];}}return c;},hasError:function(){return this.error!=null;},clearError:function(){this.error=null;},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id);},isModified:function(a){return !!(this.modified&&this.modified.hasOwnProperty(a));}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var a=0,b;b=arguments[a];a++){this.add(b);}},unregister:function(){for(var a=0,b;b=arguments[a];a++){this.remove(this.lookup(b));}},lookup:function(a){return typeof a=="object"?(a.events?a:Ext.create(a,"store")):this.get(a);},getKey:function(a){return a.storeId||a.id;}});Ext.data.Store=function(a){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(b){return b.id;};this.baseParams={};this.paramNames={start:"start",limit:"limit",sort:"sort",dir:"dir"};if(a&&a.data){this.inlineData=a.data;delete a.data;}Ext.apply(this,a);if(this.url&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url});}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType;}if(this.reader.onMetaChange){this.reader.onMetaChange=this.onMetaChange.createDelegate(this);}}if(this.recordType){this.fields=this.recordType.prototype.fields;}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","beforeload","load","loadexception");if(this.proxy){this.relayEvents(this.proxy,["loadexception"]);}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir);}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction);}}Ext.data.Store.superclass.constructor.call(this);if(this.storeId||this.id){Ext.StoreMgr.register(this);}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData;}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined]);}}};Ext.extend(Ext.data.Store,Ext.util.Observable,{remoteSort:false,pruneModifiedRecords:false,lastOptions:null,destroy:function(){if(this.id){Ext.StoreMgr.unregister(this);}this.data=null;this.purgeListeners();},add:function(d){d=[].concat(d);if(d.length<1){return;}for(var b=0,c=d.length;b<c;b++){d[b].join(this);}var a=this.data.length;this.data.addAll(d);if(this.snapshot){this.snapshot.addAll(d);}this.fireEvent("add",this,d,a);},addSorted:function(a){var b=this.findInsertIndex(a);this.insert(b,a);},remove:function(a){var b=this.data.indexOf(a);this.data.removeAt(b);if(this.pruneModifiedRecords){this.modified.remove(a);}if(this.snapshot){this.snapshot.remove(a);}this.fireEvent("remove",this,a,b);},removeAll:function(){this.data.clear();if(this.snapshot){this.snapshot.clear();}if(this.pruneModifiedRecords){this.modified=[];}this.fireEvent("clear",this);},insert:function(a,d){d=[].concat(d);for(var b=0,c=d.length;b<c;b++){this.data.insert(a,d[b]);d[b].join(this);}this.fireEvent("add",this,d,a);},indexOf:function(a){return this.data.indexOf(a);},indexOfId:function(a){return this.data.indexOfKey(a);},getById:function(a){return this.data.key(a);},getAt:function(a){return this.data.itemAt(a);},getRange:function(b,a){return this.data.getRange(b,a);},storeOptions:function(a){a=Ext.apply({},a);delete a.callback;delete a.scope;this.lastOptions=a;},load:function(c){c=c||{};if(this.fireEvent("beforeload",this,c)!==false){this.storeOptions(c);var a=Ext.apply(c.params||{},this.baseParams);if(this.sortInfo&&this.remoteSort){var b=this.paramNames;a[b.sort]=this.sortInfo.field;a[b.dir]=this.sortInfo.direction;}this.proxy.load(a,this.reader,this.loadRecords,this,c);return true;}else{return false;}},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions));},loadRecords:function(b,d,a){if(!b||a===false){if(a!==false){this.fireEvent("load",this,[],d);}if(d.callback){d.callback.call(d.scope||this,[],d,false);}return;}var h=b.records,g=b.totalRecords||h.length;if(!d||d.add!==true){if(this.pruneModifiedRecords){this.modified=[];}for(var e=0,c=h.length;e<c;e++){h[e].join(this);}if(this.snapshot){this.data=this.snapshot;delete this.snapshot;}this.data.clear();this.data.addAll(h);this.totalLength=g;this.applySort();this.fireEvent("datachanged",this);}else{this.totalLength=Math.max(g,this.data.length+h.length);this.add(h);}this.fireEvent("load",this,h,d);if(d.callback){d.callback.call(d.scope||this,h,d,true);}},loadData:function(a,b){var c=this.reader.readRecords(a);this.loadRecords(c,{add:b},true);},getCount:function(){return this.data.length||0;},getTotalCount:function(){return this.totalLength||0;},getSortState:function(){return this.sortInfo;},applySort:function(){if(this.sortInfo&&!this.remoteSort){var a=this.sortInfo,b=a.field;this.sortData(b,a.direction);}},sortData:function(a,b){b=b||"ASC";var c=this.fields.get(a).sortType;var d=function(i,h){var g=c(i.data[a]),e=c(h.data[a]);return g>e?1:(g<e?-1:0);};this.data.sort(b,d);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(b,d);}},setDefaultSort:function(b,a){a=a?a.toUpperCase():"ASC";this.sortInfo={field:b,direction:a};this.sortToggle[b]=a;},sort:function(c,a){var b=this.fields.get(c);if(!b){return false;}if(!a){if(this.sortInfo&&this.sortInfo.field==b.name){a=(this.sortToggle[b.name]||"ASC").toggle("ASC","DESC");}else{a=b.sortDir;}}var e=(this.sortToggle)?this.sortToggle[b.name]:null;var d=(this.sortInfo)?this.sortInfo:null;this.sortToggle[b.name]=a;this.sortInfo={field:b.name,direction:a};if(!this.remoteSort){this.applySort();this.fireEvent("datachanged",this);}else{if(!this.load(this.lastOptions)){if(e){this.sortToggle[b.name]=e;}if(d){this.sortInfo=d;}}}},each:function(b,a){this.data.each(b,a);},getModifiedRecords:function(){return this.modified;},createFilterFn:function(a,d,b,c){if(Ext.isEmpty(d,false)){return false;}d=this.data.createValueMatcher(d,b,c);return function(e){return d.test(e.data[a]);};},sum:function(b,c,d){var g=this.data.items,e=0;c=c||0;d=(d||d===0)?d:g.length-1;for(var a=c;a<=d;a++){e+=(g[a].data[b]||0);}return e;},filter:function(b,a,c,d){var e=this.createFilterFn(b,a,c,d);return e?this.filterBy(e):this.clearFilter();},filterBy:function(b,a){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(b,a||this);this.fireEvent("datachanged",this);},query:function(b,a,c,d){var e=this.createFilterFn(b,a,c,d);return e?this.queryBy(e):this.data.clone();},queryBy:function(c,b){var a=this.snapshot||this.data;return a.filterBy(c,b||this);},find:function(a,g,c,b,d){var e=this.createFilterFn(a,g,b,d);return e?this.data.findIndexBy(e,null,c):-1;},findBy:function(c,b,a){return this.data.findIndexBy(c,b,a);},collect:function(c,e,m){var b=(m===true&&this.snapshot)?this.snapshot.items:this.data.items;var g,h,k=[],n={};for(var o=0,a=b.length;o<a;o++){g=b[o].data[c];h=String(g);if((e||!Ext.isEmpty(g))&&!n[h]){n[h]=true;k[k.length]=g;}}return k;},clearFilter:function(a){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(a!==true){this.fireEvent("datachanged",this);}}},isFiltered:function(){return this.snapshot&&this.snapshot!=this.data;},afterEdit:function(a){if(this.modified.indexOf(a)==-1){this.modified.push(a);}this.fireEvent("update",this,a,Ext.data.Record.EDIT);},afterReject:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.REJECT);},afterCommit:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.COMMIT);},commitChanges:function(){var c=this.modified.slice(0);this.modified=[];for(var a=0,b=c.length;a<b;a++){c[a].commit();}},rejectChanges:function(){var c=this.modified.slice(0);this.modified=[];for(var a=0,b=c.length;a<b;a++){c[a].reject();}},onMetaChange:function(c,b,a){this.recordType=b;this.fields=b.prototype.fields;delete this.snapshot;this.sortInfo=c.sortInfo;this.modified=[];this.fireEvent("metachange",this,this.reader.meta);},findInsertIndex:function(b){this.suspendEvents();var a=this.data.clone();this.data.add(b);this.applySort();var c=this.data.indexOf(b);this.data=a;this.resumeEvents();return c;},setBaseParam:function(a,b){this.baseParams=this.baseParams||{};this.baseParams[a]=b;}});Ext.reg("store",Ext.data.Store);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}));}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.XmlReader(a)}));}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}));},loadData:function(c,e){if(this.expandData===true){var b=[];for(var a=0,d=c.length;a<d;a++){b[b.length]=[c[a]];}c=b;}Ext.data.ArrayStore.superclass.loadData.call(this,c,e);}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.Field=function(b){if(typeof b=="string"){b={name:b};}Ext.apply(this,b);if(!this.type){this.type="auto";}var a=Ext.data.SortTypes;if(typeof this.sortType=="string"){this.sortType=a[this.sortType];}if(!this.sortType){switch(this.type){case"string":this.sortType=a.asUCString;break;case"date":this.sortType=a.asDate;break;default:this.sortType=a.none;}}var c=/[\$,%]/g;if(!this.convert){var e,d=this.dateFormat;switch(this.type){case"":case"auto":case undefined:e=function(g){return g;};break;case"string":e=function(g){return(g===undefined||g===null)?"":String(g);};break;case"int":e=function(g){return g!==undefined&&g!==null&&g!==""?parseInt(String(g).replace(c,""),10):"";};break;case"float":e=function(g){return g!==undefined&&g!==null&&g!==""?parseFloat(String(g).replace(c,""),10):"";};break;case"bool":case"boolean":e=function(g){return g===true||g==="true"||g==1;};break;case"date":e=function(h){if(!h){return"";}if(Ext.isDate(h)){return h;}if(d){if(d=="timestamp"){return new Date(h*1000);}if(d=="time"){return new Date(parseInt(h,10));}return Date.parseDate(h,d);}var g=Date.parse(h);return g?new Date(g):null;};break;}this.convert=e;}};Ext.data.Field.prototype={dateFormat:null,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC"};Ext.data.DataReader=function(a,b){this.meta=a;this.recordType=Ext.isArray(b)?Ext.data.Record.create(b):b;};Ext.data.DataReader.prototype={};Ext.data.DataProxy=function(){this.addEvents("beforeload","load");Ext.data.DataProxy.superclass.constructor.call(this);};Ext.extend(Ext.data.DataProxy,Ext.util.Observable);Ext.data.MemoryProxy=function(a){Ext.data.MemoryProxy.superclass.constructor.call(this);this.data=a;};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{load:function(a,g,b,h,d){a=a||{};var c;try{c=g.readRecords(this.data);}catch(i){this.fireEvent("loadexception",this,d,null,i);b.call(h,null,d,false);return;}b.call(h,c,d,true);},update:function(b,a){}});Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this);this.conn=a;this.useAjax=!a||!a.events;};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn;},load:function(b,e,c,g,d){if(this.fireEvent("beforeload",this,b)!==false){var a={params:b||{},request:{callback:c,scope:g,arg:d},reader:e,callback:this.loadResponse,scope:this};if(this.useAjax){Ext.applyIf(a,this.conn);if(this.activeRequest){Ext.Ajax.abort(this.activeRequest);}this.activeRequest=Ext.Ajax.request(a);}else{this.conn.request(a);}}else{c.call(g||this,null,d,false);}},loadResponse:function(c,b,g){delete this.activeRequest;if(!b){this.fireEvent("loadexception",this,c,g);c.request.callback.call(c.request.scope,null,c.request.arg,false);return;}var d;try{d=c.reader.read(g);}catch(a){this.fireEvent("loadexception",this,c,g,a);c.request.callback.call(c.request.scope,null,c.request.arg,false);return;}this.fireEvent("load",this,c,c.request.arg);c.request.callback.call(c.request.scope,d,c.request.arg,true);},update:function(a){},updateResponse:function(a){}});Ext.data.ScriptTagProxy=function(a){Ext.data.ScriptTagProxy.superclass.constructor.call(this);Ext.apply(this,a);this.head=document.getElementsByTagName("head")[0];};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,load:function(l,m,b,c,d){if(this.fireEvent("beforeload",this,l)!==false){var i=Ext.urlEncode(Ext.apply(l,this.extraParams));var h=this.url;h+=(h.indexOf("?")!=-1?"&":"?")+i;if(this.nocache){h+="&_dc="+(new Date().getTime());}var g=++Ext.data.ScriptTagProxy.TRANS_ID;var e={id:g,cb:"stcCallback"+g,scriptId:"stcScript"+g,params:l,arg:d,url:h,callback:b,scope:c,reader:m};var k=this;window[e.cb]=function(n){k.handleResponse(n,e);};h+=String.format("&{0}={1}",this.callbackParam,e.cb);if(this.autoAbort!==false){this.abort();}e.timeoutId=this.handleFailure.defer(this.timeout,this,[e]);var a=document.createElement("script");a.setAttribute("src",h);a.setAttribute("type","text/javascript");a.setAttribute("id",e.scriptId);this.head.appendChild(a);this.trans=e;}else{b.call(c||this,null,d,false);}},isLoading:function(){return this.trans?true:false;},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans);}},destroyTrans:function(c,b){this.head.removeChild(document.getElementById(c.scriptId));clearTimeout(c.timeoutId);if(b){window[c.cb]=undefined;try{delete window[c.cb];}catch(a){}}else{window[c.cb]=function(){window[c.cb]=undefined;try{delete window[c.cb];}catch(d){}};}},handleResponse:function(b,d){this.trans=false;this.destroyTrans(d,true);var c;try{c=d.reader.readRecords(b);}catch(a){this.fireEvent("loadexception",this,b,d.arg,a);d.callback.call(d.scope||window,null,d.arg,false);return;}this.fireEvent("load",this,b,d.arg);d.callback.call(d.scope||window,c,d.arg,true);},handleFailure:function(a){this.trans=false;this.destroyTrans(a,false);this.fireEvent("loadexception",this,null,a.arg);a.callback.call(a.scope||window,null,a.arg,false);}});Ext.data.JsonReader=function(a,b){a=a||{};Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields);};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(response){var json=response.responseText;var o=eval("("+json+")");if(!o){throw {message:"JsonReader.read: Json object not found"};}return this.readRecords(o);},onMetaChange:function(b,a,c){},simpleAccess:function(b,a){return b[a];},getJsonAccessor:function(){var a=/[\[\.]/;return function(c){try{return(a.test(c))?new Function("obj","return obj."+c):function(d){return d[c];};}catch(b){}return Ext.emptyFn;};}(),readRecords:function(x){this.jsonData=x;if(x.metaData){delete this.ef;this.meta=x.metaData;this.recordType=Ext.data.Record.create(x.metaData.fields);this.onMetaChange(this.meta,this.recordType,x);}var m=this.meta,a=this.recordType,q=a.prototype.fields,k=q.items,h=q.length;if(!this.ef){if(m.totalProperty){this.getTotal=this.getJsonAccessor(m.totalProperty);}if(m.successProperty){this.getSuccess=this.getJsonAccessor(m.successProperty);}this.getRoot=m.root?this.getJsonAccessor(m.root):function(c){return c;};if(m.id||m.idProperty){var C=this.getJsonAccessor(m.id||m.idProperty);this.getId=function(g){var c=C(g);return(c===undefined||c==="")?null:c;};}else{this.getId=function(){return null;};}this.ef=[];for(var A=0;A<h;A++){q=k[A];var r=(q.mapping!==undefined&&q.mapping!==null)?q.mapping:q.name;this.ef[A]=this.getJsonAccessor(r);}}var y=this.getRoot(x),t=y.length,p=t,e=true;if(m.totalProperty){var l=parseInt(this.getTotal(x),10);if(!isNaN(l)){p=l;}}if(m.successProperty){var l=this.getSuccess(x);if(l===false||l==="false"){e=false;}}var B=[];for(var A=0;A<t;A++){var w=y[A];var b={};var u=this.getId(w);for(var z=0;z<h;z++){q=k[z];var l=this.ef[z](w);b[q.name]=q.convert((l!==undefined)?l:q.defaultValue,w);}var d=new a(b,u);d.json=w;B[A]=d;}return{success:e,records:B,totalRecords:p};}});Ext.data.XmlReader=function(a,b){a=a||{};Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields);};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){var b=a.responseXML;if(!b){throw {message:"XmlReader.read: XML Document not available"};}return this.readRecords(b);},readRecords:function(A){this.xmlData=A;var u=A.documentElement||A;var l=Ext.DomQuery;var b=this.recordType,p=b.prototype.fields;var d=this.meta.idPath||this.meta.id;var h=0,e=true;if(this.meta.totalRecords){h=l.selectNumber(this.meta.totalRecords,u,0);}if(this.meta.success){var o=l.selectValue(this.meta.success,u,true);e=o!==false&&o!=="false";}var r=[];var s=l.select(this.meta.record,u);for(var x=0,y=s.length;x<y;x++){var t=s[x];var a={};var m=d?l.selectValue(d,t):undefined;for(var w=0,k=p.length;w<k;w++){var z=p.items[w];var g=l.selectValue(z.mapping||z.name,t,z.defaultValue);g=z.convert(g,t);a[z.name]=g;}var c=new b(a,m);c.node=t;r[r.length]=c;}return{success:e,records:r,totalRecords:h||r.length};}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(t){this.arrayData=t;var l=this.meta;var d=l?(l.idIndex||l.id):null;var b=this.recordType,r=b.prototype.fields;var y=[];if(!this.getRoot){this.getRoot=l.root?this.getJsonAccessor(l.root):function(i){return i;};if(l.totalProperty){this.getTotal=this.getJsonAccessor(l.totalProperty);}}var h=this.getRoot(t);for(var x=0;x<h.length;x++){var u=h[x];var a={};var q=((d||d===0)&&u[d]!==undefined&&u[d]!==""?u[d]:null);for(var w=0,m=r.length;w<m;w++){var z=r.items[w];var p=z.mapping!==undefined&&z.mapping!==null?z.mapping:w;var e=u[p]!==undefined?u[p]:z.defaultValue;e=z.convert(e,u);a[z.name]=e;}var c=new b(a,q);c.json=u;y[y.length]=c;}var g=y.length;if(l.totalProperty){var e=parseInt(this.getTotal(t),10);if(!isNaN(e)){g=e;}}return{records:y,totalRecords:g};}});Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={};},addProvider:function(e){var c=arguments;if(c.length>1){for(var d=0,b=c.length;d<b;d++){this.addProvider(c[d]);}return;}if(!e.events){e=new Ext.Direct.PROVIDERS[e.type](e);}e.id=e.id||Ext.id;this.providers[e.id]=e;e.on("data",this.onProviderData,this);e.on("exception",this.onProviderException,this);if(!e.isConnected()){e.connect();}return e;},getProvider:function(a){return this.providers[a];},removeProvider:function(b){var a=b.id?b:providers[b.id];a.un("data",this.onProviderData,this);a.un("exception",this.onProviderException,this);delete this.providers[a.id];return a;},addTransaction:function(a){this.transactions[a.tid]=a;return a;},removeTransaction:function(a){delete this.transactions[a.tid||a];return a;},getTransaction:function(a){return this.transactions[a.tid||a];},onProviderData:function(b,a){if(Ext.isArray(a)){for(var d=0,c=a.length;d<c;d++){this.onProviderData(b,a[d]);}return;}if(a.name&&a.name!="event"&&a.name!="exception"){this.fireEvent(a.name,a);}else{if(a.type=="exception"){this.fireEvent("exception",a);}}this.fireEvent("event",a,b);},createEvent:function(a,b){return new Ext.Direct.eventTypes[a.type](Ext.apply(a,b));}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(a){Ext.apply(this,a);this.tid=++Ext.Direct.TID;this.retryCount=0;};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this);},retry:function(){this.retryCount++;this.send();},getProvider:function(){return this.provider;}};Ext.Direct.Event=function(a){Ext.apply(this,a);};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data;}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid);}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(a){Ext.apply(this,a);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,a);},isConnected:function(){return false;},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(typeof a.responseText=="object"){return a.responseText;}return Ext.decode(a.responseText);}return null;},getEvents:function(b){var k=null;try{k=this.parseResponse(b);}catch(a){var h=new Ext.Direct.ExceptionEvent({data:a,xhr:b,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+k});return[h];}var g=[];if(Ext.isArray(k)){for(var d=0,c=k.length;d<c;d++){g.push(Ext.Direct.createEvent(k[d]));}}else{g.push(Ext.Direct.createEvent(k));}return g;}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(a){Ext.direct.PollingProvider.superclass.constructor.call(this,a);this.addEvents("beforepoll","poll");},isConnected:function(){return !!this.pollTask;},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams);}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams});}}},interval:this.interval,scope:this});this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing PollingProvider, no url configured.";}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this);}},onData:function(h,b,a){if(b){var g=this.getEvents(a);for(var d=0,c=g.length;d<c;d++){var k=g[d];this.fireEvent("data",this,k);}}else{var k=new Ext.Direct.ExceptionEvent({data:k,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:a});this.fireEvent("data",this,k);}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:1,enableBuffer:10,maxRetries:1,constructor:function(a){Ext.direct.RemotingProvider.superclass.constructor.call(this,a);this.addEvents("beforecall","call");this.namespace=this.namespace||window;this.transactions={};this.callBuffer=[];},initAPI:function(){var a=this.actions;for(var b in a){var e=this.namespace[b]||(this.namespace[b]={});var g=a[b];for(var k=0,h=g.length;k<h;k++){var d=g[k];e[d.name]=this.createMethod(b,d);}}},isConnected:function(){return !!this.connected;},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this);}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured.";}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this);}},onData:function(l,d,g){if(d){var h=this.getEvents(g);for(var m=0,a=h.length;m<a;m++){var b=h[m];var k=b.getTransaction();this.fireEvent("data",this,b);if(k){this.doCallback(k,b,true);Ext.Direct.removeTransaction(k);}}}else{var c=[].concat(l.ts);for(var m=0,a=c.length;m<a;m++){var k=this.getTransaction(l.ts[m]);if(k&&k.retryCount<this.maxRetries){k.retry();}else{var b=new Ext.Direct.ExceptionEvent({data:b,transaction:k,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:g});this.fireEvent("data",this,b);if(k){this.doCallback(k,b,false);Ext.Direct.removeTransaction(k);}}}}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.tid};},doSend:function(a){var c={url:this.url,callback:this.onData,scope:this};var e;if(Ext.isArray(a)){e=[];for(var g=0,d=a.length;g<d;g++){e.push(this.getCallData(a[g]));}}else{e=this.getCallData(a);}if(this.enableUrlEncode){var b={};b[typeof this.enableUrlEncode=="string"?this.enableUrlEncode:"data"]=Ext.encode(e);c.params=b;}else{c.jsonData=e;}Ext.Ajax.request(c);},combineAndSend:function(){var a=this.callBuffer.length;if(a>0){this.doSend(a==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[];}},queueTransaction:function(a){this.callBuffer.push(a);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this);}this.callTask.delay(typeof this.enableBuffer=="number"?this.enableBuffer:10);}else{this.combineAndSend();}},doCall:function(b,d,i){var a=null,g=i[d.len],h=i[d.len+1];if(d.len!==0){a=i.slice(0,d.len);}var e=new Ext.Direct.Transaction({provider:this,args:i,action:b,method:d.name,data:a,cb:h&&typeof g=="function"?g.createDelegate(h):g});if(this.fireEvent("beforecall",this,e)!==false){Ext.Direct.addTransaction(e);this.queueTransaction(e);this.fireEvent("call",this,e);}},doForm:function(a,k,g,i,e){var d=new Ext.Direct.Transaction({provider:this,action:a,method:k.name,args:[g,i,e],cb:e&&typeof i=="function"?i.createDelegate(e):i});if(this.fireEvent("beforecall",this,d)!==false){Ext.Direct.addTransaction(d);g=Ext.getDom(g);var b=String(g.getAttribute("enctype")).toLowerCase()=="multipart/form-data";var h={extTID:d.tid,extAction:a,extMethod:k.name,extUpload:String(b)};if(i&&typeof i=="object"){Ext.apply(h,i.params);}Ext.Ajax.request({url:this.url,params:h,callback:this.onData,scope:this,form:g,isUpload:b,ts:d});}},createMethod:function(a,b){var d;if(!b.formHandler){d=function(){this.doCall(a,b,Array.prototype.slice.call(arguments,0));}.createDelegate(this);}else{d=function(c,e,g){this.doForm(a,b,c,e,g);}.createDelegate(this);}d.directCfg={action:a,method:b};return d;},getTransaction:function(a){return a&&a.tid?Ext.Direct.getTransaction(a.tid):null;},doCallback:function(a,c){var b=c.status?"success":"failure";if(a&&a.cb){var g=a.cb;var d=c.result||c.data;if(typeof g=="function"){g(d,c);}else{Ext.callback(g[b],g.scope,[d,c]);Ext.callback(g.callback,g.scope,[d,c]);}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.data.DirectProxy=function(a){Ext.apply(this,a);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/);}Ext.data.DirectProxy.superclass.constructor.call(this);};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,load:function(a,e,d,k,c){if(this.fireEvent("beforeload",this,a)!==false){var g=[];if(this.paramOrder){for(var h=0,b=this.paramOrder.length;h<b;h++){g.push(a[this.paramOrder[h]]);}}else{if(this.paramsAsHash){g.push(a);}}g.push({callback:function(n,m){if(!m.status){this.fireEvent("loadexception",this,m,n);d.call(k,null,c,false);return;}var i;try{i=e.readRecords(n);}catch(l){this.fireEvent("loadexception",this,m,n,l);d.call(k,null,c,false);return;}this.fireEvent("load",this,m,c);d.call(k,i,c,true);},scope:this});this.directFn.apply(window,g);}else{d.call(k||this,null,c,false);}}});Ext.data.DirectStore=function(b){var a=Ext.copyTo({},b,"paramOrder,paramsAsHash,directFn");Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(b,{proxy:new Ext.data.DirectProxy(a),reader:new Ext.data.JsonReader(b,b.fields)}));};Ext.extend(Ext.data.DirectStore,Ext.data.Store);Ext.data.Tree=function(a){this.nodeHash={};this.root=null;if(a){this.setRootNode(a);}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this);};Ext.extend(Ext.data.Tree,Ext.util.Observable,{pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments);},getRootNode:function(){return this.root;},setRootNode:function(a){this.root=a;a.ownerTree=this;a.isRoot=true;this.registerNode(a);return a;},getNodeById:function(a){return this.nodeHash[a];},registerNode:function(a){this.nodeHash[a.id]=a;},unregisterNode:function(a){delete this.nodeHash[a.id];},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";}});Ext.data.Node=function(a){this.attributes=a||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"ynode-");this.attributes.id=this.id;}this.childNodes=[];if(!this.childNodes.indexOf){this.childNodes.indexOf=function(d){for(var c=0,b=this.length;c<b;c++){if(this[c]==d){return c;}}return -1;};}this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this);};Ext.extend(Ext.data.Node,Ext.util.Observable,{fireEvent:function(b){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false;}var a=this.getOwnerTree();if(a){if(a.proxyNodeEvent.apply(a,arguments)===false){return false;}}return true;},isLeaf:function(){return this.leaf===true;},setFirstChild:function(a){this.firstChild=a;},setLastChild:function(a){this.lastChild=a;},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this);},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this);},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0;},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes();},appendChild:function(h){var a=false;if(Ext.isArray(h)){a=h;}else{if(arguments.length>1){a=arguments;}}if(a){for(var g=0,c=a.length;g<c;g++){this.appendChild(a[g]);}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,h)===false){return false;}var d=this.childNodes.length;var e=h.parentNode;if(e){if(h.fireEvent("beforemove",h.getOwnerTree(),h,e,this,d)===false){return false;}e.removeChild(h);}d=this.childNodes.length;if(d==0){this.setFirstChild(h);}this.childNodes.push(h);h.parentNode=this;var b=this.childNodes[d-1];if(b){h.previousSibling=b;b.nextSibling=h;}else{h.previousSibling=null;}h.nextSibling=null;this.setLastChild(h);h.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,h,d);if(e){h.fireEvent("move",this.ownerTree,h,e,this,d);}return h;}},removeChild:function(b){var a=this.childNodes.indexOf(b);if(a==-1){return false;}if(this.fireEvent("beforeremove",this.ownerTree,this,b)===false){return false;}this.childNodes.splice(a,1);if(b.previousSibling){b.previousSibling.nextSibling=b.nextSibling;}if(b.nextSibling){b.nextSibling.previousSibling=b.previousSibling;}if(this.firstChild==b){this.setFirstChild(b.nextSibling);}if(this.lastChild==b){this.setLastChild(b.previousSibling);}b.setOwnerTree(null);b.parentNode=null;b.previousSibling=null;b.nextSibling=null;this.fireEvent("remove",this.ownerTree,this,b);return b;},insertBefore:function(a,d){if(!d){return this.appendChild(a);}if(a==d){return false;}if(this.fireEvent("beforeinsert",this.ownerTree,this,a,d)===false){return false;}var e=this.childNodes.indexOf(d);var g=a.parentNode;var b=e;if(g==this&&this.childNodes.indexOf(a)<e){b--;}if(g){if(a.fireEvent("beforemove",a.getOwnerTree(),a,g,this,e,d)===false){return false;}g.removeChild(a);}if(b==0){this.setFirstChild(a);}this.childNodes.splice(b,0,a);a.parentNode=this;var c=this.childNodes[b-1];if(c){a.previousSibling=c;c.nextSibling=a;}else{a.previousSibling=null;}a.nextSibling=d;d.previousSibling=a;a.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,a,d);if(g){a.fireEvent("move",this.ownerTree,a,g,this,b,d);}return a;},remove:function(){this.parentNode.removeChild(this);return this;},item:function(a){return this.childNodes[a];},replaceChild:function(a,b){this.insertBefore(a,b);this.removeChild(b);return b;},indexOf:function(a){return this.childNodes.indexOf(a);},getOwnerTree:function(){if(!this.ownerTree){var a=this;while(a){if(a.ownerTree){this.ownerTree=a.ownerTree;break;}a=a.parentNode;}}return this.ownerTree;},getDepth:function(){var b=0;var a=this;while(a.parentNode){++b;a=a.parentNode;}return b;},setOwnerTree:function(d){if(d!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this);}this.ownerTree=d;var b=this.childNodes;for(var a=0,c=b.length;a<c;a++){b[a].setOwnerTree(d);}if(d){d.registerNode(this);}}},getPath:function(c){c=c||"id";var e=this.parentNode;var a=[this.attributes[c]];while(e){a.unshift(e.attributes[c]);e=e.parentNode;}var d=this.getOwnerTree().pathSeparator;return d+a.join(d);},bubble:function(a,d,c){var b=this;while(b){if(a.apply(d||b,c||[b])===false){break;}b=b.parentNode;}},cascade:function(c,b,e){if(c.apply(b||this,e||[this])!==false){var a=this.childNodes;for(var g=0,d=a.length;g<d;g++){a[g].cascade(c,b,e);}}},eachChild:function(c,b,e){var a=this.childNodes;for(var g=0,d=a.length;g<d;g++){if(c.apply(b||this,e||[a[g]])===false){break;}}},findChild:function(b,c){var a=this.childNodes;for(var e=0,d=a.length;e<d;e++){if(a[e].attributes[b]==c){return a[e];}}return null;},findChildBy:function(c,b){var a=this.childNodes;for(var e=0,d=a.length;e<d;e++){if(c.call(b||a[e],a[e])===true){return a[e];}}return null;},sort:function(h,g){var e=this.childNodes;var c=e.length;if(c>0){var a=g?function(){h.apply(g,arguments);}:h;e.sort(a);for(var d=0;d<c;d++){var b=e[d];b.previousSibling=e[d-1];b.nextSibling=e[d+1];if(d==0){this.setFirstChild(b);}if(d==c-1){this.setLastChild(b);}}}},contains:function(a){return a.isAncestor(this);},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true;}b=b.parentNode;}return false;},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]";}});Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{remoteGroup:false,groupOnSort:false,clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;}this.reload();}else{this.applySort();this.fireEvent("datachanged",this);}},groupBy:function(a,c){if(this.groupField==a&&!c){return;}this.groupField=a;if(this.remoteGroup){if(!this.baseParams){this.baseParams={};}this.baseParams.groupBy=a;}if(this.groupOnSort){this.sort(a);return;}if(this.remoteGroup){this.reload();}else{var b=this.sortInfo||{};if(b.field!=a){this.applySort();}else{this.sortData(a);}this.fireEvent("datachanged",this);}},applySort:function(){Ext.data.GroupingStore.superclass.applySort.call(this);if(!this.groupOnSort&&!this.remoteGroup){var a=this.getGroupState();if(a&&a!=this.sortInfo.field){this.sortData(this.groupField);}}},applyGrouping:function(a){if(this.groupField!==false){this.groupBy(this.groupField,true);return true;}else{if(a===true){this.fireEvent("datachanged",this);}return false;}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField;}});Ext.Component=function(c){c=c||{};if(c.initialConfig){if(c.isAction){this.baseAction=c;}c=c.initialConfig;}else{if(c.tagName||c.dom||typeof c=="string"){c={applyTo:c,id:c.id||c};}}this.initialConfig=c;Ext.apply(this,c);this.addEvents("disable","enable","beforeshow","show","beforehide","hide","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this);}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var a=0,b=this.plugins.length;a<b;a++){this.plugins[a]=this.initPlugin(this.plugins[a]);}}else{this.plugins=this.initPlugin(this.plugins);}}if(this.stateful!==false){this.initState(c);}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo;}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo;}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,hidden:false,disabled:false,rendered:false,ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode];},initPlugin:function(a){if(a.ptype&&typeof a.init!="function"){a=Ext.ComponentMgr.createPlugin(a);}else{if(typeof a=="string"){a=Ext.ComponentMgr.createPlugin({ptype:a});}}a.init(this);return a;},initComponent:Ext.emptyFn,render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!b&&this.el){this.el=Ext.get(this.el);b=this.el.dom.parentNode;this.allowDomMove=false;}this.container=Ext.get(b);if(this.ctCls){this.container.addClass(this.ctCls);}this.rendered=true;if(a!==undefined){if(typeof a=="number"){a=this.container.dom.childNodes[a];}else{a=Ext.getDom(a);}}this.onRender(this.container,a||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode]);}if(this.cls){this.el.addClass(this.cls);delete this.cls;}if(this.style){this.el.applyStyles(this.style);delete this.style;}this.fireEvent("render",this);this.afterRender(this.container);if(this.hidden){this.hide();}if(this.disabled){this.disable();}if(this.stateful!==false){this.initStateEvents();}this.initRef();this.fireEvent("afterrender",this);}return this;},initRef:function(){if(this.ref){var b=this.ref.split("/");var a=b.length,d=0;var c=this;while(d<a){if(c.ownerCt){c=c.ownerCt;}d++;}c[b[--d]]=this;}},initState:function(b){if(Ext.state.Manager){var a=this.getStateId();if(a){var c=Ext.state.Manager.get(a);if(c){if(this.fireEvent("beforestaterestore",this,c)!==false){this.applyState(c);this.fireEvent("staterestore",this,c);}}}}},getStateId:function(){return this.stateId||((this.id.indexOf("ext-comp-")==0||this.id.indexOf("ext-gen")==0)?null:this.id);},initStateEvents:function(){if(this.stateEvents){for(var a=0,b;b=this.stateEvents[a];a++){this.on(b,this.saveState,this,{delay:100});}}},applyState:function(b,a){if(b){Ext.apply(this,b);}},getState:function(){return null;},saveState:function(){if(Ext.state.Manager){var b=this.getStateId();if(b){var a=this.getState();if(this.fireEvent("beforestatesave",this,a)!==false){Ext.state.Manager.set(b,a);this.fireEvent("statesave",this,a);}}}},applyToMarkup:function(a){this.allowDomMove=false;this.el=Ext.get(a);this.render(this.el.dom.parentNode);},addClass:function(a){if(this.el){this.el.addClass(a);}else{this.cls=this.cls?this.cls+" "+a:a;}},removeClass:function(a){if(this.el){this.el.removeClass(a);}else{if(this.cls){this.cls=this.cls.split(" ").remove(a).join(" ");}}},onRender:function(c,b){if(this.autoEl){if(typeof this.autoEl=="string"){this.el=document.createElement(this.autoEl);}else{var a=document.createElement("div");Ext.DomHelper.overwrite(a,this.autoEl);this.el=a.firstChild;}if(!this.el.id){this.el.id=this.getId();}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){c.dom.insertBefore(this.el.dom,b);}if(this.overCls){this.el.addClassOnOver(this.overCls);}}},getAutoCreate:function(){var a=typeof this.autoCreate=="object"?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!a.id){a.id=this.id;}return a;},afterRender:Ext.emptyFn,destroy:function(){if(this.fireEvent("beforedestroy",this)!==false){this.beforeDestroy();if(this.rendered){this.el.removeAllListeners();this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove();}}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el;},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID));},getItemId:function(){return this.itemId||this.getId();},focus:function(b,a){if(a){this.focus.defer(typeof a=="number"?a:10,this,[b,false]);return;}if(this.rendered){this.el.focus();if(b===true){this.el.dom.select();}}return this;},blur:function(){if(this.rendered){this.el.blur();}return this;},disable:function(){if(this.rendered){this.onDisable();}this.disabled=true;this.fireEvent("disable",this);return this;},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true;},enable:function(){if(this.rendered){this.onEnable();}this.disabled=false;this.fireEvent("enable",this);return this;},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false;},setDisabled:function(a){this[a?"disable":"enable"]();},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(typeof this.autoRender=="boolean"?Ext.getBody():this.autoRender);}if(this.rendered){this.onShow();}this.fireEvent("show",this);}return this;},onShow:function(){if(this.hideParent){this.container.removeClass("x-hide-"+this.hideMode);}else{this.getActionEl().removeClass("x-hide-"+this.hideMode);}},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.hidden=true;if(this.rendered){this.onHide();}this.fireEvent("hide",this);}return this;},onHide:function(){if(this.hideParent){this.container.addClass("x-hide-"+this.hideMode);}else{this.getActionEl().addClass("x-hide-"+this.hideMode);}},setVisible:function(a){if(a){this.show();}else{this.hide();}return this;},isVisible:function(){return this.rendered&&this.getActionEl().isVisible();},cloneConfig:function(c){c=c||{};var a=c.id||Ext.id();var b=Ext.applyIf(c,this.initialConfig);b.id=a;return new this.constructor(b);},getXType:function(){return this.constructor.xtype;},isXType:function(b,a){return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b;},getXTypes:function(){var b=this.constructor;if(!b.xtypes){var a=[],d=this;while(d&&d.constructor.xtype){a.unshift(d.constructor.xtype);d=d.constructor.superclass;}b.xtypeChain=a;b.xtypes=a.join("/");}return b.xtypes;},findParentBy:function(a){for(var b=this.ownerCt;(b!=null)&&!a(b,this);b=b.ownerCt){}return b||null;},findParentByType:function(a){return typeof a=="function"?this.findParentBy(function(b){return b.constructor===a;}):this.findParentBy(function(b){return b.constructor.xtype===a;});},getDomPositionEl:function(){return this.getPositionEl?this.getPositionEl():this.getEl();},mon:function(c,e,b,a,d){if(!this.mons){this.mons=[];this.on("beforedestroy",function(){for(var h=0,g=this.mons.length;h<g;h++){var i=this.mons[h];i.item.un(i.ename,i.fn,i.scope);}},this);}this.mons.push({item:c,ename:e,fn:b,scope:a});c.on(e,b,a,d);},nextSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a!=-1&&a+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(a+1);}}return null;},previousSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a>0){return this.ownerCt.items.itemAt(a-1);}}return null;},getBubbleTarget:function(){return this.ownerCt;}});Ext.reg("component",Ext.Component);Ext.Action=function(a){this.initialConfig=a;this.itemId=a.itemId=(a.itemId||a.id||Ext.id());this.items=[];};Ext.Action.prototype={isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a]);},getText:function(){return this.initialConfig.text;},setIconClass:function(a){this.initialConfig.iconCls=a;this.callEach("setIconClass",[a]);},getIconClass:function(){return this.initialConfig.iconCls;},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a]);},enable:function(){this.setDisabled(false);},disable:function(){this.setDisabled(true);},isDisabled:function(){return this.initialConfig.disabled;},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a]);},show:function(){this.setHidden(false);},hide:function(){this.setHidden(true);},isHidden:function(){return this.initialConfig.hidden;},setHandler:function(b,a){this.initialConfig.handler=b;this.initialConfig.scope=a;this.callEach("setHandler",[b,a]);},each:function(b,a){Ext.each(this.items,b,a);},callEach:function(c,e){var b=this.items;for(var a=0,d=b.length;a<d;a++){b[a][c].apply(b[a],e);}},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this);},removeComponent:function(a){this.items.remove(a);},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments);}};(function(){Ext.Layer=function(d,i){d=d||{};var g=Ext.DomHelper;var c=d.parentEl,h=c?Ext.getDom(c):document.body;if(i){this.dom=Ext.getDom(i);}if(!this.dom){var e=d.dh||{tag:"div",cls:"x-layer"};this.dom=g.append(h,e);}if(d.cls){this.addClass(d.cls);}this.constrain=d.constrain!==false;this.visibilityMode=Ext.Element.VISIBILITY;if(d.id){this.id=this.dom.id=d.id;}else{this.id=Ext.id(this.dom);}this.zindex=d.zindex||this.getZIndex();this.position("absolute",this.zindex);if(d.shadow){this.shadowOffset=d.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:d.shadow});}else{this.shadowOffset=0;}this.useShim=d.shim!==false&&Ext.useShims;this.useDisplay=d.useDisplay;this.hide();};var a=Ext.Element.prototype;var b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt(this.getStyle("z-index"),10)||11000;},getShim:function(){if(!this.useShim){return null;}if(this.shim){return this.shim;}var d=b.shift();if(!d){d=this.createShim();d.enableDisplayMode("block");d.dom.style.display="none";d.dom.style.visibility="visible";}var c=this.dom.parentNode;if(d.dom.parentNode!=c){c.insertBefore(d.dom,this.dom);}d.setStyle("z-index",this.getZIndex()-2);this.shim=d;return d;},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);b.push(this.shim);delete this.shim;}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0;}},enableShadow:function(c){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(c){this.sync(true);}}},sync:function(n){var i=this.shadow;if(!this.updating&&this.isVisible()&&(i||this.useShim)){var d=this.getShim();var g=this.getWidth(),c=this.getHeight();var o=this.getLeft(true),k=this.getTop(true);if(i&&!this.shadowDisabled){if(n&&!i.isVisible()){i.show(this);}else{i.realign(o,k,g,c);}if(d){if(n){d.show();}var e=i.adjusts,m=d.dom.style;m.left=(Math.min(o,o+e.l))+"px";m.top=(Math.min(k,k+e.t))+"px";m.width=(g+e.w)+"px";m.height=(c+e.h)+"px";}}else{if(d){if(n){d.show();}d.setSize(g,c);d.setLeftTop(o,k);}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide();}this.removeAllListeners();Ext.removeNode(this.dom);Ext.Element.uncache(this.id);},remove:function(){this.destroy();},beginUpdate:function(){this.updating=true;},endUpdate:function(){this.updating=false;this.sync(true);},hideUnders:function(c){if(this.shadow){this.shadow.hide();}this.hideShim();},constrainXY:function(){if(this.constrain){var p=Ext.lib.Dom.getViewWidth(),l=Ext.lib.Dom.getViewHeight();var i=Ext.getDoc().getScroll();var g=this.getXY();var c=g[0],o=g[1];var k=this.shadowOffset;var d=this.dom.offsetWidth+k,m=this.dom.offsetHeight+k;var n=false;if((c+d)>p+i.left){c=p-d-k;n=true;}if((o+m)>l+i.top){o=l-m-k;n=true;}if(c<i.left){c=i.left;n=true;}if(o<i.top){o=i.top;n=true;}if(n){if(this.avoidY){var e=this.avoidY;if(o<=e&&(o+m)>=e){o=e-m-5;}}g=[c,o];this.storeXY(g);a.setXY.call(this,g);this.sync();}}},isVisible:function(){return this.visible;},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("");}else{if(this.lastXY){a.setXY.call(this,this.lastXY);}else{if(this.lastLT){a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1]);}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false);}else{this.setLeftTop(-10000,-10000);}},setVisible:function(k,i,c,d,h){if(k){this.showAction();}if(i&&k){var g=function(){this.sync(true);if(d){d();}}.createDelegate(this);a.setVisible.call(this,true,true,c,g,h);}else{if(!k){this.hideUnders(true);}var g=d;if(i){g=function(){this.hideAction();if(d){d();}}.createDelegate(this);}a.setVisible.call(this,k,i,c,g,h);if(k){this.sync(true);}else{if(!i){this.hideAction();}}}},storeXY:function(c){delete this.lastLT;this.lastXY=c;},storeLeftTop:function(d,c){delete this.lastXY;this.lastLT=[d,c];},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments);},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible());},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide();}},setLeft:function(c){this.storeLeftTop(c,this.getTop(true));a.setLeft.apply(this,arguments);this.sync();},setTop:function(c){this.storeLeftTop(this.getLeft(true),c);a.setTop.apply(this,arguments);this.sync();},setLeftTop:function(d,c){this.storeLeftTop(d,c);a.setLeftTop.apply(this,arguments);this.sync();},setXY:function(h,i,c,d,k){this.fixDisplay();this.beforeAction();this.storeXY(h);var g=this.createCB(d);a.setXY.call(this,h,i,c,g,k);if(!i){g();}},createCB:function(d){var c=this;return function(){c.constrainXY();c.sync(true);if(d){d();}};},setX:function(i,d,c,g,h){this.setXY([i,this.getY()],d,c,g,h);},setY:function(g,i,h,d,c){this.setXY([this.getX(),g],i,h,d,c);},setSize:function(m,c,g,i,k,d){this.beforeAction();var l=this.createCB(k);a.setSize.call(this,m,c,g,i,l,d);if(!g){l();}},setWidth:function(k,i,c,d,h){this.beforeAction();var g=this.createCB(d);a.setWidth.call(this,k,i,c,g,h);if(!i){g();}},setHeight:function(k,g,d,i,c){this.beforeAction();var l=this.createCB(i);a.setHeight.call(this,k,g,d,l,c);if(!g){l();}},setBounds:function(i,d,k,m,g,o,c,n){this.beforeAction();var l=this.createCB(c);if(!g){this.storeXY([i,d]);a.setXY.call(this,[i,d]);a.setSize.call(this,k,m,g,o,l,n);l();}else{a.setBounds.call(this,i,d,k,m,g,o,l,n);}return this;},setZIndex:function(c){this.zindex=c;this.setStyle("z-index",c+2);if(this.shadow){this.shadow.setZIndex(c+1);}if(this.shim){this.shim.setStyle("z-index",c);}}});})();Ext.Shadow=function(d){Ext.apply(this,d);if(typeof this.mode!="string"){this.mode=this.defaultMode;}var e=this.offset,c={h:0};var b=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":c.w=0;c.l=c.t=e;c.t-=1;if(Ext.isIE){c.l-=this.offset+b;c.t-=this.offset+b;c.w-=b;c.h-=b;c.t+=1;}break;case"sides":c.w=(e*2);c.l=-e;c.t=e-1;if(Ext.isIE){c.l-=(this.offset-b);c.t-=this.offset+b;c.l+=1;c.w-=(this.offset-b)*2;c.w-=b+1;c.h-=1;}break;case"frame":c.w=c.h=(e*2);c.l=c.t=-e;c.t+=1;c.h-=2;if(Ext.isIE){c.l-=(this.offset-b);c.t-=(this.offset-b);c.l+=1;c.w-=(this.offset+b+1);c.h-=(this.offset+b);c.h+=1;}break;}this.adjusts=c;};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=a.dom){this.el.insertBefore(a);}}this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")";}this.realign(a.getLeft(true),a.getTop(true),a.getWidth(),a.getHeight());this.el.dom.style.display="block";},isVisible:function(){return this.el?true:false;},realign:function(e,b,p,o){if(!this.el){return;}var i=this.adjusts,u=this.el.dom,c=u.style;var q=0;c.left=(e+i.l)+"px";c.top=(b+i.t)+"px";var m=(p+i.w),n=(o+i.h),r=m+"px",k=n+"px";if(c.width!=r||c.height!=k){c.width=r;c.height=k;if(!Ext.isIE){var v=u.childNodes;var g=Math.max(0,(m-12))+"px";v[0].childNodes[1].style.width=g;v[1].childNodes[1].style.width=g;v[2].childNodes[1].style.width=g;v[1].style.height=Math.max(0,(n-12))+"px";}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el;}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a);}}};Ext.Shadow.Pool=function(){var b=[];var a=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=b.shift();if(!c){c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,a));c.autoBoxAdjust=false;}return c;},push:function(c){b.push(c);}};}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move");},boxReady:false,deferHeight:false,setSize:function(e,a){if(typeof e=="object"){a=e.height;e=e.width;}if(!this.boxReady){this.width=e;this.height=a;return this;}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==e&&this.lastSize.height==a){return this;}this.lastSize={width:e,height:a};var g=this.adjustSize(e,a);var c=g.width,d=g.height;if(c!==undefined||d!==undefined){var b=this.getResizeEl();if(!this.deferHeight&&c!==undefined&&d!==undefined){b.setSize(c,d);}else{if(!this.deferHeight&&d!==undefined){b.setHeight(d);}else{if(c!==undefined){b.setWidth(c);}}}this.onResize(c,d,e,a);this.fireEvent("resize",this,c,d,e,a);}return this;},setWidth:function(a){return this.setSize(a);},setHeight:function(a){return this.setSize(undefined,a);},getSize:function(){return this.getResizeEl().getSize();},getWidth:function(){return this.getResizeEl().getWidth();},getHeight:function(){return this.getResizeEl().getHeight();},getOuterSize:function(){var a=this.getResizeEl();return{width:a.getWidth()+a.getMargins("lr"),height:a.getHeight()+a.getMargins("tb")};},getPosition:function(a){var b=this.getPositionEl();if(a===true){return[b.getLeft(true),b.getTop(true)];}return this.xy||b.getXY();},getBox:function(b){var a=this.getPosition(b);var c=this.getSize();c.x=a[0];c.y=a[1];return c;},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this;},getResizeEl:function(){return this.resizeEl||this.el;},getPositionEl:function(){return this.positionEl||this.el;},setPosition:function(d,c){if(d&&typeof d[1]=="number"){c=d[1];d=d[0];}this.x=d;this.y=c;if(!this.boxReady){return this;}var e=this.adjustPosition(d,c);var b=e.x,a=e.y;var g=this.getPositionEl();if(b!==undefined||a!==undefined){if(b!==undefined&&a!==undefined){g.setLeftTop(b,a);}else{if(b!==undefined){g.setLeft(b);}else{if(a!==undefined){g.setTop(a);}}}this.onPosition(b,a);this.fireEvent("move",this,b,a);}return this;},setPagePosition:function(b,a){if(b&&typeof b[1]=="number"){a=b[1];b=b[0];}this.pageX=b;this.pageY=a;if(!this.boxReady){return;}if(b===undefined||a===undefined){return;}var c=this.getPositionEl().translatePoints(b,a);this.setPosition(c.left,c.top);return this;},onRender:function(b,a){Ext.BoxComponent.superclass.onRender.call(this,b,a);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl);}if(this.positionEl){this.positionEl=Ext.get(this.positionEl);}},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);this.boxReady=true;this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y);}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY);}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this;},onResize:function(b,d,c,a){},onPosition:function(a,b){},adjustSize:function(a,b){if(this.autoWidth){a="auto";}if(this.autoHeight){b="auto";}return{width:a,height:b};},adjustPosition:function(a,b){return{x:a,y:b};}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(a,c,e,b,d){this.el=Ext.get(a,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(c,true);this.orientation=e||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!d){this.proxy=Ext.SplitBar.createProxy(this.orientation);}else{this.proxy=Ext.get(d).dom;}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=b||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h");}else{this.placement=b||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v");}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this);};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(d,c){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var a=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var b=a-this.activeMinSize;var e=Math.max(this.activeMaxSize-a,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?b:e,this.placement==Ext.SplitBar.LEFT?e:b);this.dd.setYConstraint(0,0);}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?b:e,this.placement==Ext.SplitBar.TOP?e:b);}this.dragSpecs.startSize=a;this.dragSpecs.startPoint=[d,c];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,d,c);},onEndProxyDrag:function(a){Ext.get(this.proxy).setDisplayed(false);var c=Ext.lib.Event.getXY(a);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay;}var b;if(this.orientation==Ext.SplitBar.HORIZONTAL){b=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?c[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-c[0]);}else{b=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?c[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-c[1]);}b=Math.min(Math.max(b,this.activeMinSize),this.activeMaxSize);if(b!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,b)!==false){this.adapter.setElementSize(this,b);this.fireEvent("moved",this,b);this.fireEvent("resize",this,b);}}},getAdapter:function(){return this.adapter;},setAdapter:function(a){this.adapter=a;this.adapter.init(this);},getMinimumSize:function(){return this.minSize;},setMinimumSize:function(a){this.minSize=a;},getMaximumSize:function(){return this.maxSize;},setMaximumSize:function(a){this.maxSize=a;},setCurrentSize:function(b){var a=this.animate;this.animate=false;this.adapter.setElementSize(this,b);this.animate=a;},destroy:function(a){if(this.shim){this.shim.remove();}this.dd.unreg();Ext.destroy(Ext.get(this.proxy));if(a){this.el.remove();}}});Ext.SplitBar.createProxy=function(c){var a=new Ext.Element(document.createElement("div"));a.unselectable();var b="x-splitbar-proxy";a.addClass(b+" "+(c==Ext.SplitBar.HORIZONTAL?b+"-h":b+"-v"));document.body.appendChild(a.dom);return a.dom;};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(a){},getElementSize:function(a){if(a.orientation==Ext.SplitBar.HORIZONTAL){return a.resizingEl.getWidth();}else{return a.resizingEl.getHeight();}},setElementSize:function(c,b,a){if(c.orientation==Ext.SplitBar.HORIZONTAL){if(!c.animate){c.resizingEl.setWidth(b);if(a){a(c,b);}}else{c.resizingEl.setWidth(b,true,0.1,a,"easeOut");}}else{if(!c.animate){c.resizingEl.setHeight(b);if(a){a(c,b);}}else{c.resizingEl.setHeight(b,true,0.1,a,"easeOut");}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(a);};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a);},getElementSize:function(a){return this.basic.getElementSize(a);},setElementSize:function(c,b,a){this.basic.setElementSize(c,b,this.moveSplitter.createDelegate(this,[c]));},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",(this.container.getWidth()-a.resizingEl.getLeft())+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight());break;}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{autoDestroy:true,defaultType:"panel",initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var a=this.items;if(a){delete this.items;if(Ext.isArray(a)){this.add.apply(this,a);}else{this.add(a);}}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout();}},setLayout:function(a){if(this.layout&&this.layout!=a){this.layout.setContainer(null);}this.initItems();this.layout=a;a.setContainer(this);},render:function(){Ext.Container.superclass.render.apply(this,arguments);if(this.layout){if(typeof this.layout=="object"&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type;}if(typeof this.layout=="string"){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig);}this.setLayout(this.layout);if(this.activeItem!==undefined){var a=this.activeItem;delete this.activeItem;this.layout.setActiveItem(a);return;}}if(!this.ownerCt){this.doLayout();}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false]);}},getLayoutTarget:function(){return this.el;},getComponentId:function(a){return a.itemId||a.id;},add:function(b){if(!this.items){this.initItems();}var k=arguments,e=k.length;if(e>1){for(var d=0;d<e;d++){Ext.Container.prototype.add.call(this,k[d]);}return;}var h=this.lookupComponent(this.applyDefaults(b));var g=this.items.length;if(this.fireEvent("beforeadd",this,h,g)!==false&&this.onBeforeAdd(h)!==false){this.items.add(h);h.ownerCt=this;this.fireEvent(true,"add",this,h,g);}return h;},insert:function(e,b){if(!this.items){this.initItems();}var k=arguments,d=k.length;if(d>2){for(var g=d-1;g>=1;--g){this.insert(e,k[g]);}return;}var h=this.lookupComponent(this.applyDefaults(b));if(h.ownerCt==this&&this.items.indexOf(h)<e){--e;}if(this.fireEvent("beforeadd",this,h,e)!==false&&this.onBeforeAdd(h)!==false){this.items.insert(e,h);h.ownerCt=this;this.fireEvent(true,"add",this,h,e);}return h;},applyDefaults:function(a){if(this.defaults){if(typeof a=="string"){a=Ext.ComponentMgr.get(a);Ext.apply(a,this.defaults);}else{if(!a.events){Ext.applyIf(a,this.defaults);}else{Ext.apply(a,this.defaults);}}}return a;},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false);}if(this.hideBorders===true){a.border=(a.border===true);}},remove:function(b,d){var a=this.getComponent(b);if(a&&this.fireEvent("beforeremove",this,a)!==false){this.items.remove(a);delete a.ownerCt;if(d===true||(d!==false&&this.autoDestroy)){a.destroy();}if(this.layout&&this.layout.activeItem==a){delete this.layout.activeItem;}this.fireEvent(true,"remove",this,a);}return a;},getComponent:function(a){if(typeof a=="object"){return a;}return this.items.get(a);},lookupComponent:function(a){if(typeof a=="string"){return Ext.ComponentMgr.get(a);}else{if(!a.events){return this.createComponent(a);}}return a;},createComponent:function(a){return Ext.create(a,this.defaultType);},doLayout:function(b){if(this.rendered&&this.layout){this.layout.layout();}if(b!==false&&this.items){var a=this.items.items;for(var g=0,e=a.length;g<e;g++){var d=a[g];if(d.doLayout){d.doLayout();}}}},getLayout:function(){if(!this.layout){var a=new Ext.layout.ContainerLayout(this.layoutConfig);this.setLayout(a);}return this.layout;},beforeDestroy:function(){if(this.items){Ext.destroy.apply(Ext,this.items.items);}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this);}if(this.layout&&this.layout.destroy){this.layout.destroy();}Ext.Container.superclass.beforeDestroy.call(this);},bubble:function(a,d,c){var b=this;while(b){if(a.apply(d||b,c||[b])===false){break;}b=b.ownerCt;}},cascade:function(c,b,e){if(c.apply(b||this,e||[this])!==false){if(this.items){var a=this.items.items;for(var g=0,d=a.length;g<d;g++){if(a[g].cascade){a[g].cascade(c,b,e);}else{c.apply(b||a[g],e||[a[g]]);}}}}},findById:function(a){var b,c=this;this.cascade(function(d){if(c!=d&&d.id===a){b=d;return false;}});return b||null;},findByType:function(a){return typeof a=="function"?this.findBy(function(b){return b.constructor===a;}):this.findBy(function(b){return b.constructor.xtype===a;});},find:function(b,a){return this.findBy(function(c){return c[b]===a;});},findBy:function(b,a){var c=[],d=this;this.cascade(function(e){if(d!=e&&b.call(a||e,e,d)===true){c.push(e);}});return c;},get:function(a){return this.items.get(a);}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=function(a){Ext.apply(this,a);};Ext.layout.ContainerLayout.prototype={monitorResize:false,activeItem:null,layout:function(){var a=this.container.getLayoutTarget();this.onLayout(this.container,a);this.container.fireEvent("afterlayout",this.container,this);},onLayout:function(a,b){this.renderAll(a,b);},isValidParent:function(b,a){return a&&b.getDomPositionEl().dom.parentNode==(a.dom||a);},renderAll:function(a,b){var h=a.items.items;for(var g=0,e=h.length;g<e;g++){var d=h[g];if(d&&(!d.rendered||!this.isValidParent(d,b))){this.renderItem(d,g,b);}}},renderItem:function(b,d,a){if(b&&!b.rendered){b.render(a,d);if(this.extraCls){var e=b.getPositionEl?b.getPositionEl():b;e.addClass(this.extraCls);}if(this.renderHidden&&b!=this.activeItem){b.hide();}}else{if(b&&!this.isValidParent(b,a)){if(this.extraCls){var e=b.getPositionEl?b.getPositionEl():b;e.addClass(this.extraCls);}if(typeof d=="number"){d=a.dom.childNodes[d];}a.dom.insertBefore(b.getDomPositionEl().dom,d||null);b.container=a;if(this.renderHidden&&b!=this.activeItem){b.hide();}}}},onResize:function(){if(this.container.collapsed){return;}var a=this.container.bufferResize;if(a){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.layout,this);this.resizeBuffer=typeof a=="number"?a:100;}this.resizeTask.delay(this.resizeBuffer);}else{this.layout();}},setContainer:function(a){if(this.monitorResize&&a!=this.container){if(this.container){this.container.un("resize",this.onResize,this);}if(a){a.on("resize",this.onResize,this);}}this.container=a;},parseMargins:function(c){if(typeof c=="number"){c=c.toString();}var a=c.split(" ");var b=a.length;if(b==1){a[1]=a[0];a[2]=a[0];a[3]=a[0];}if(b==2){a[2]=a[0];a[3]=a[1];}if(b==3){a[3]=a[1];}return{top:parseInt(a[0],10)||0,right:parseInt(a[1],10)||0,bottom:parseInt(a[2],10)||0,left:parseInt(a[3],10)||0};},destroy:Ext.emptyFn};Ext.Container.LAYOUTS.auto=Ext.layout.ContainerLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,onLayout:function(a,b){Ext.layout.FitLayout.superclass.onLayout.call(this,a,b);if(!this.container.collapsed){this.setItemSize(this.activeItem||a.items.itemAt(0),b.getStyleSize());}},setItemSize:function(b,a){if(b&&a.height>0){b.setSize(a);}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,renderHidden:true,setActiveItem:function(a){a=this.container.getComponent(a);if(this.activeItem!=a){if(this.activeItem){this.activeItem.hide();}this.activeItem=a;a.show();this.container.doLayout();}},renderAll:function(a,b){if(this.deferredRender){this.renderItem(this.activeItem,undefined,b);}else{Ext.layout.CardLayout.superclass.renderAll.call(this,a,b);}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,getAnchorViewSize:function(a,b){return b.dom==document.body?b.getViewSize():b.getStyleSize();},onLayout:function(q,k){Ext.layout.AnchorLayout.superclass.onLayout.call(this,q,k);var b=this.getAnchorViewSize(q,k);var t=b.width,o=b.height;if(t<20&&o<20){return;}var e,n;if(q.anchorSize){if(typeof q.anchorSize=="number"){e=q.anchorSize;}else{e=q.anchorSize.width;n=q.anchorSize.height;}}else{e=q.initialConfig.width;n=q.initialConfig.height;}var s=q.items.items,r=s.length,m,l,p,g,d;for(m=0;m<r;m++){l=s[m];if(l.anchor){p=l.anchorSpec;if(!p){var u=l.anchor.split(" ");l.anchorSpec=p={right:this.parseAnchor(u[0],l.initialConfig.width,e),bottom:this.parseAnchor(u[1],l.initialConfig.height,n)};}g=p.right?this.adjustWidthAnchor(p.right(t),l):undefined;d=p.bottom?this.adjustHeightAnchor(p.bottom(o),l):undefined;if(g||d){l.setSize(g||undefined,d||undefined);}}}},parseAnchor:function(h,g,d){if(h&&h!="none"){var c;if(/^(r|right|b|bottom)$/i.test(h)){var e=d-g;return function(a){if(a!==c){c=a;return a-e;}};}else{if(h.indexOf("%")!=-1){var b=parseFloat(h.replace("%",""))*0.01;return function(a){if(a!==c){c=a;return Math.floor(a*b);}};}else{h=parseInt(h,10);if(!isNaN(h)){return function(a){if(a!==c){c=a;return a+h;}};}}}}return false;},adjustWidthAnchor:function(b,a){return b;},adjustHeightAnchor:function(b,a){return b;}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,extraCls:"x-column",scrollOffset:0,isValidParent:function(b,a){return(b.getPositionEl?b.getPositionEl():b.getEl()).dom.parentNode==this.innerCt.dom;},onLayout:function(n,b){var o=n.items.items,a=o.length,d,l;if(!this.innerCt){b.addClass("x-column-layout-ct");this.innerCt=b.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"});}this.renderAll(n,this.innerCt);var k=Ext.isIE&&b.dom!=Ext.getBody().dom?b.getStyleSize():b.getViewSize();if(k.width<1&&k.height<1){return;}var e=k.width-b.getPadding("lr")-this.scrollOffset,m=k.height-b.getPadding("tb"),g=e;this.innerCt.setWidth(e);for(l=0;l<a;l++){d=o[l];if(!d.columnWidth){g-=(d.getSize().width+d.getEl().getMargins("lr"));}}g=g<0?0:g;for(l=0;l<a;l++){d=o[l];if(d.columnWidth){d.setSize(Math.floor(d.columnWidth*g)-d.getEl().getMargins("lr"));}}}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,onLayout:function(d,G){var g;if(!this.rendered){G.position();G.addClass("x-border-layout-ct");var F=d.items.items;g=[];for(var t=0,v=F.length;t<v;t++){var B=F[t];var o=B.region;if(B.collapsed){g.push(B);}B.collapsed=false;if(!B.rendered){B.cls=B.cls?B.cls+" x-border-panel":"x-border-panel";B.render(G,t);}this[o]=o!="center"&&B.split?new Ext.layout.BorderLayout.SplitRegion(this,B.initialConfig,o):new Ext.layout.BorderLayout.Region(this,B.initialConfig,o);this[o].render(G,B);}this.rendered=true;}var C=G.getViewSize();if(C.width<20||C.height<20){if(g){this.restoreCollapsed=g;}return;}else{if(this.restoreCollapsed){g=this.restoreCollapsed;delete this.restoreCollapsed;}}var y=C.width,x=C.height;var u=y,q=x,p=0,r=0;var H=this.north,A=this.south,l=this.west,z=this.east,B=this.center;if(!B&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+d.id;}if(H&&H.isVisible()){var E=H.getSize();var I=H.getMargins();E.width=y-(I.left+I.right);E.x=I.left;E.y=I.top;p=E.height+E.y+I.bottom;q-=p;H.applyLayout(E);}if(A&&A.isVisible()){var E=A.getSize();var I=A.getMargins();E.width=y-(I.left+I.right);E.x=I.left;var D=(E.height+I.top+I.bottom);E.y=x-D+I.top;q-=D;A.applyLayout(E);}if(l&&l.isVisible()){var E=l.getSize();var I=l.getMargins();E.height=q-(I.top+I.bottom);E.x=I.left;E.y=p+I.top;var a=(E.width+I.left+I.right);r+=a;u-=a;l.applyLayout(E);}if(z&&z.isVisible()){var E=z.getSize();var I=z.getMargins();E.height=q-(I.top+I.bottom);var a=(E.width+I.left+I.right);E.x=y-a+I.left;E.y=p+I.top;u-=a;z.applyLayout(E);}if(B){var I=B.getMargins();var k={x:r+I.left,y:p+I.top,width:u-(I.left+I.right),height:q-(I.top+I.bottom)};B.applyLayout(k);}if(g){for(var t=0,v=g.length;t<v;t++){g[t].collapse(false);}}if(Ext.isIE&&Ext.isStrict){G.repaint();}},destroy:function(){var c=["north","south","east","west"];for(var b=0;b<c.length;b++){var a=this[c[b]];if(a){if(a.destroy){a.destroy();}else{if(a.split){a.split.destroy(true);}}}}Ext.layout.BorderLayout.superclass.destroy.call(this);}});Ext.layout.BorderLayout.Region=function(c,b,a){Ext.apply(this,b);this.layout=c;this.position=a;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins);}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins);}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0};}else{this.cmargins=Ext.applyIf(this.cmargins||{},a=="north"||a=="south"?this.defaultNSCMargins:this.defaultEWCMargins);}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(d,a){this.panel=a;a.el.enableDisplayMode();this.targetEl=d;this.el=a.el;var c=a.getState,b=this.position;a.getState=function(){return Ext.apply(c.call(a)||{},this.state);}.createDelegate(this);if(b!="center"){a.allowQueuedExpand=false;a.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible){a.collapseEl="el";a.slideAnchor=this.getSlideAnchor();}if(a.tools&&a.tools.toggle){a.tools.toggle.addClass("x-tool-collapse-"+b);a.tools.toggle.addClassOnOver("x-tool-collapse-"+b+"-over");}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var b=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');b.disableFormats=true;b.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=b;}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true});}else{var a=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);a.addClassOnOver("x-tool-expand-"+this.position+"-over");a.on("click",this.onExpandClick,this,{stopEvent:true});if(this.floatable!==false){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.collapseClick,this);}}}return this.collapsedEl;},onExpandClick:function(a){if(this.isSlid){this.afterSlideIn();this.panel.expand(false);}else{this.panel.expand();}},onCollapseClick:function(a){this.panel.collapse();},beforeCollapse:function(b,a){this.lastAnim=a;if(this.splitEl){this.splitEl.hide();}this.getCollapsedEl().show();this.panel.el.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout();},onCollapse:function(a){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible";}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2});}this.state.collapsed=true;this.panel.saveState();},beforeExpand:function(a){var b=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,b.getHeight());}else{this.panel.setSize(b.getWidth(),undefined);}b.hide();b.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex);},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show();}this.layout.layout();this.panel.el.setStyle("z-index",1);this.state.collapsed=false;this.panel.saveState();},collapseClick:function(a){if(this.isSlid){a.stopPropagation();this.slideIn();}else{a.stopPropagation();this.slideOut();}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide();}else{if(this.splitEl){this.splitEl.hide();}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show();}else{if(this.splitEl){this.splitEl.show();}}},isVisible:function(){return !this.panel.hidden;},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins;},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize();},setPanel:function(a){this.panel=a;},getMinWidth:function(){return this.minWidth;},getMinHeight:function(){return this.minHeight;},applyLayoutCollapsed:function(a){var b=this.getCollapsedEl();b.setLeftTop(a.x,a.y);b.setSize(a.width,a.height);},applyLayout:function(a){if(this.isCollapsed){this.applyLayoutCollapsed(a);}else{this.panel.setPosition(a.x,a.y);this.panel.setSize(a.width,a.height);}},beforeSlide:function(){this.panel.beforeEffect();},afterSlide:function(){this.panel.afterEffect();},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){var a=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(b){if(!b.within(this.el,true)){a.delay(500);}},mouseover:function(b){a.cancel();},scope:this};}this.el.on(this.autoHideHd);}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this);},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return;}this.isSlid=true;var a=this.panel.tools;if(a&&a.toggle){a.toggle.hide();}this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,this.collapsedEl.getHeight());}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined);}this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);},scope:this,block:true});}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this);}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var a=this.panel.tools;if(a&&a.toggle){a.toggle.show();}},slideIn:function(a){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(a);return;}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(a);},scope:this,block:true});}else{this.el.hide();this.afterSlideIn();}},slideInIf:function(a){if(!a.within(this.el)){this.slideIn();}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position];},getCollapseAnchor:function(){return this.canchors[this.position];},getSlideAnchor:function(){return this.sanchors[this.position];},getAlignAdj:function(){var a=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break;}},getExpandAdj:function(){var b=this.collapsedEl,a=this.cmargins;switch(this.position){case"west":return[-(a.right+b.getWidth()+a.left),0];break;case"east":return[a.right+b.getWidth()+a.left,0];break;case"north":return[0,-(a.top+a.bottom+b.getHeight())];break;case"south":return[0,a.top+a.bottom+b.getHeight()];break;}}};Ext.layout.BorderLayout.SplitRegion=function(c,b,a){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,c,b,a);this.applyLayout=this.applyFns[a];};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(a){if(this.isCollapsed){return this.applyLayoutCollapsed(a);}var b=this.splitEl.dom,d=b.style;this.panel.setPosition(a.x,a.y);var c=b.offsetWidth;d.left=(a.x+a.width-c)+"px";d.top=(a.y)+"px";d.height=Math.max(0,a.height)+"px";this.panel.setSize(a.width-c,a.height);},east:function(a){if(this.isCollapsed){return this.applyLayoutCollapsed(a);}var b=this.splitEl.dom,d=b.style;var c=b.offsetWidth;this.panel.setPosition(a.x+c,a.y);d.left=(a.x)+"px";d.top=(a.y)+"px";d.height=Math.max(0,a.height)+"px";this.panel.setSize(a.width-c,a.height);},north:function(a){if(this.isCollapsed){return this.applyLayoutCollapsed(a);}var b=this.splitEl.dom,d=b.style;var c=b.offsetHeight;this.panel.setPosition(a.x,a.y);d.left=(a.x)+"px";d.top=(a.y+a.height-c)+"px";d.width=Math.max(0,a.width)+"px";this.panel.setSize(a.width,a.height-c);},south:function(a){if(this.isCollapsed){return this.applyLayoutCollapsed(a);}var b=this.splitEl.dom,d=b.style;var c=b.offsetHeight;this.panel.setPosition(a.x,a.y+c);d.left=(a.x)+"px";d.top=(a.y)+"px";d.width=Math.max(0,a.width)+"px";this.panel.setSize(a.width,a.height-c);}},render:function(c,a){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,c,a);var b=this.position;this.splitEl=c.createChild({cls:"x-layout-split x-layout-split-"+b,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+b,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true});}var d=this.splitSettings[b];this.split=new Ext.SplitBar(this.splitEl.dom,a.el,d.orientation);this.split.placement=d.placement;this.split.getMaximumSize=this[d.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[d.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[d.maxProp];if(a.hidden){this.splitEl.hide();}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip;}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this);}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize();}var a=this.panel.getSize();if(this.position=="north"||this.position=="south"){a.height+=this.splitEl.dom.offsetHeight;}else{a.width+=this.splitEl.dom.offsetWidth;}return a;},getHMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getWidth()+a.el.getWidth())-a.getMinWidth());},getVMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getHeight()+a.el.getHeight())-a.getMinHeight());},onSplitMove:function(c,b){var a=this.panel.getSize();this.lastSplitSize=b;if(this.position=="north"||this.position=="south"){this.panel.setSize(a.width,b);this.state.height=b;}else{this.panel.setSize(b,a.height);this.state.width=b;}this.layout.layout();this.panel.saveState();return false;},getSplitBar:function(){return this.split;},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",getAnchorViewSize:function(a,b){return(a.body||a.el).getStyleSize();},setContainer:function(c){Ext.layout.FormLayout.superclass.setContainer.call(this,c);if(c.labelAlign){c.addClass("x-form-label-"+c.labelAlign);}if(c.hideLabels){this.labelStyle="display:none";this.elementStyle="padding-left:0;";this.labelAdjust=0;}else{this.labelSeparator=c.labelSeparator||this.labelSeparator;c.labelWidth=c.labelWidth||100;if(typeof c.labelWidth=="number"){var a=(typeof c.labelPad=="number"?c.labelPad:5);this.labelAdjust=c.labelWidth+a;this.labelStyle="width:"+c.labelWidth+"px;";this.elementStyle="padding-left:"+(c.labelWidth+a)+"px";}if(c.labelAlign=="top"){this.labelStyle="width:auto;";this.labelAdjust=0;this.elementStyle="padding-left:0;";}}if(!this.fieldTpl){var b=new Ext.Template('<div class="x-form-item {5}" tabIndex="-1">','<label for="{0}" style="{2}" class="x-form-item-label">{1}{4}</label>','<div class="x-form-element" id="x-form-el-{0}" style="{3}">','</div><div class="{6}"></div>',"</div>");b.disableFormats=true;b.compile();Ext.layout.FormLayout.prototype.fieldTpl=b;}},renderItem:function(b,d,a){if(b&&!b.rendered&&(b.isFormField||b.fieldLabel)&&b.inputType!="hidden"){var e=[b.id,b.fieldLabel,b.labelStyle||this.labelStyle||"",this.elementStyle||"",typeof b.labelSeparator=="undefined"?this.labelSeparator:b.labelSeparator,(b.itemCls||this.container.itemCls||"")+(b.hideLabel?" x-hide-label":""),b.clearCls||"x-form-clear-left"];if(typeof d=="number"){d=a.dom.childNodes[d]||null;}if(d){this.fieldTpl.insertBefore(d,e);}else{this.fieldTpl.append(a,e);}b.render("x-form-el-"+b.id);}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments);}},adjustWidthAnchor:function(b,a){return b-(a.isFormField||a.fieldLabel?(a.hideLabel?0:this.labelAdjust):0);},isValidParent:function(b,a){return true;}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.Accordion=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,renderItem:function(a){if(this.animate===false){a.animCollapse=false;}a.collapsible=true;if(this.autoWidth){a.autoWidth=true;}if(this.titleCollapse){a.titleCollapse=true;}if(this.hideCollapseTool){a.hideCollapseTool=true;}if(this.collapseFirst!==undefined){a.collapseFirst=this.collapseFirst;}if(!this.activeItem&&!a.collapsed){this.activeItem=a;}else{if(this.activeItem&&this.activeItem!=a){a.collapsed=true;}}Ext.layout.Accordion.superclass.renderItem.apply(this,arguments);a.header.addClass("x-accordion-hd");a.on("beforeexpand",this.beforeExpand,this);},beforeExpand:function(a,c){var b=this.activeItem;if(b){if(this.sequence){delete this.activeItem;if(!b.collapsed){b.collapse({callback:function(){a.expand(c||true);},scope:this});return false;}}else{b.collapse(this.animate);}}this.activeItem=a;if(this.activeOnTop){a.el.dom.parentNode.insertBefore(a.el.dom,a.el.dom.parentNode.firstChild);}this.layout();},setItemSize:function(a,h){if(this.fill&&a){var d=this.container.items.items;var g=0;for(var e=0,c=d.length;e<c;e++){var b=d[e];if(b!=a){g+=(b.getSize().height-b.bwrap.getHeight());}}h.height-=g;a.setSize(h);}},setActiveItem:function(a){a=this.container.getComponent(a);this.activeItem=a;if(a){a.expand();}}});Ext.Container.LAYOUTS.accordion=Ext.layout.Accordion;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,tableAttrs:null,setContainer:function(a){Ext.layout.TableLayout.superclass.setContainer.call(this,a);this.currentRow=0;this.currentColumn=0;this.cells=[];},onLayout:function(h,b){var a=h.items.items,e=a.length,d,g;if(!this.table){b.addClass("x-table-layout-ct");this.table=b.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true);this.renderAll(h,b);}},getRow:function(a){var b=this.table.tBodies[0].childNodes[a];if(!b){b=document.createElement("tr");this.table.tBodies[0].appendChild(b);}return b;},getNextCell:function(a){var b=this.getNextNonSpan(this.currentColumn,this.currentRow);var g=this.currentColumn=b[0],e=this.currentRow=b[1];for(var k=e;k<e+(a.rowspan||1);k++){if(!this.cells[k]){this.cells[k]=[];}for(var d=g;d<g+(a.colspan||1);d++){this.cells[k][d]=true;}}var h=document.createElement("td");if(a.cellId){h.id=a.cellId;}var i="x-table-layout-cell";if(a.cellCls){i+=" "+a.cellCls;}h.className=i;if(a.colspan){h.colSpan=a.colspan;}if(a.rowspan){h.rowSpan=a.rowspan;}this.getRow(e).appendChild(h);return h;},getNextNonSpan:function(b,a){var c=this.columns;while((c&&b>=c)||(this.cells[a]&&this.cells[a][b])){if(c&&b>=c){a++;b=0;}else{b++;}}return[b,a];},renderItem:function(a,b,d){if(a&&!a.rendered){a.render(this.getNextCell(a));}},isValidParent:function(b,a){return true;}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",isForm:false,setContainer:function(a){Ext.layout.AbsoluteLayout.superclass.setContainer.call(this,a);if(a.isXType("form")){this.isForm=true;}},onLayout:function(a,b){if(this.isForm){a.body.position();this.paddingLeft=a.body.getPadding("r");this.paddingTop=a.body.getPadding("t");}else{b.position();this.paddingLeft=b.getPadding("r");this.paddingTop=b.getPadding("t");}Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,a,b);},getAnchorViewSize:function(a,b){return this.isForm?a.body.getStyleSize():Ext.layout.AbsoluteLayout.superclass.getAnchorViewSize.call(this,a,b);},isValidParent:function(b,a){return this.isForm?true:Ext.layout.AbsoluteLayout.superclass.isValidParent.call(this,b,a);},adjustWidthAnchor:function(b,a){return b?b-a.getPosition(true)[0]+this.paddingLeft:b;},adjustHeightAnchor:function(b,a){return b?b-a.getPosition(true)[1]+this.paddingTop:b;}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el;},fireResize:function(a,b){this.fireEvent("resize",this,a,b,a,b);}});Ext.reg("viewport",Ext.Viewport);Ext.layout.Box=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,scrollOffset:0,extraCls:"x-box-item",ctCls:"x-box-layout-ct",innerCls:"x-box-inner",defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",isValidParent:function(b,a){return b.getEl().dom.parentNode==this.innerCt.dom;},onLayout:function(e,l){var g=e.items.items,k=g.length,a,d,h=k-1,b;if(!this.innerCt){l.addClass(this.ctCls);this.innerCt=l.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding);}this.renderAll(e,this.innerCt);},renderItem:function(a){if(typeof a.margins=="string"){a.margins=this.parseMargins(a.margins);}else{if(!a.margins){a.margins=this.defaultMargins;}}Ext.layout.Box.superclass.renderItem.apply(this,arguments);},getTargetSize:function(a){return Ext.isIE&&a.dom!=Ext.getBody().dom?a.getStyleSize():a.getViewSize();}});Ext.layout.VBox=Ext.extend(Ext.layout.Box,{align:"left",pack:"start",onLayout:function(a,B){Ext.layout.VBox.superclass.onLayout.call(this,a,B);var b=a.items.items,p=b.length,y,o,k=p-1,e;var D=this.getTargetSize(B);if(D.width<1&&D.height<1){return;}var n=D.width-B.getPadding("lr")-this.scrollOffset,r=D.height-B.getPadding("tb"),F=this.padding.left,v=this.padding.top;var x=n-(this.padding.left+this.padding.right);var m=0;var A=0;var u=0;for(o=0;o<p;o++){y=b[o];e=y.margins;m+=y.flex||0;A+=y.getHeight()+e.top+e.bottom;u=Math.max(u,y.getWidth()+e.left+e.top);}var E=u+this.padding.left+this.padding.right;switch(this.align){case"stretch":this.innerCt.setSize(n,r);break;case"stretchmax":case"left":case"center":this.innerCt.setSize(n=Math.max(n,E),r);break;}var z=r-A-this.padding.top-this.padding.bottom;var I=0;var H,q,g,G=n-this.padding.left-this.padding.right;if(this.pack=="center"){v+=z?z/2:0;}else{if(this.pack=="end"){v+=z;}}for(o=0;o<p;o++){y=b[o];e=y.margins;H=y.getWidth();q=y.getHeight();v+=e.top;if(this.align!="center"){g=F+e.left;}else{var s=G-(H+e.left+e.right);if(s==0){g=F+e.left;}else{g=F+e.left+(s/2);}}y.setPosition(g,v);if(this.pack=="start"&&y.flex){var d=y.flex/m;var C=Math.floor(z*d);I+=C;if(o==k){C+=(z-I);}q+=C;y.setHeight(q);}if(this.align=="stretch"){y.setWidth((x-(e.left+e.right)).constrain(y.minWidth||0,y.maxWidth||1000000));}else{if(this.align=="stretchmax"){y.setWidth((u-(e.left+e.right)).constrain(y.minWidth||0,y.maxWidth||1000000));}}v+=q+e.bottom;}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBox;Ext.layout.HBox=Ext.extend(Ext.layout.Box,{align:"top",pack:"start",onLayout:function(d,C){Ext.layout.HBox.superclass.onLayout.call(this,d,C);var e=d.items.items,u=e.length,A,s,m=u-1,k;var D=this.getTargetSize(C);if(D.width<1&&D.height<1){return;}var n=D.width-C.getPadding("lr")-this.scrollOffset,x=D.height-C.getPadding("tb"),F=this.padding.left,y=this.padding.top;var r=x-(this.padding.top+this.padding.bottom);var o=0;var b=0;var E=0;for(s=0;s<u;s++){A=e[s];k=A.margins;o+=A.flex||0;b+=A.getWidth()+k.left+k.right;E=Math.max(E,A.getHeight()+k.top+k.bottom);}var p=E+this.padding.top+this.padding.bottom;switch(this.align){case"stretch":this.innerCt.setSize(n,x);break;case"stretchmax":case"top":this.innerCt.setSize(n,p);break;case"middle":this.innerCt.setSize(n,x=Math.max(x,p));break;}var z=n-b-this.padding.left-this.padding.right;var a=0;var H,q,d,G=x-this.padding.top-this.padding.bottom;if(this.pack=="center"){F+=z?z/2:0;}else{if(this.pack=="end"){F+=z;}}for(s=0;s<u;s++){A=e[s];k=A.margins;H=A.getWidth();q=A.getHeight();F+=k.left;if(this.align!="middle"){d=y+k.top;}else{var v=G-(q+k.top+k.bottom);if(v==0){d=y+k.top;}else{d=y+k.top+(v/2);}}A.setPosition(F,d);if(this.pack=="start"&&A.flex){var g=A.flex/o;var B=Math.floor(z*g);a+=B;if(s==m){B+=(z-a);}H+=B;A.setWidth(H);}if(this.align=="stretch"){A.setHeight((r-(k.top+k.bottom)).constrain(A.minHeight||0,A.maxHeight||1000000));}else{if(this.align=="stretchmax"){A.setHeight((E-(k.top+k.bottom)).constrain(A.minHeight||0,A.maxHeight||1000000));}}F+=H+k.right;}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBox;Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain";}if(this.tbar){this.elements+=",tbar";if(typeof this.tbar=="object"){this.topToolbar=this.tbar;}delete this.tbar;}if(this.bbar){this.elements+=",bbar";if(typeof this.bbar=="object"){this.bottomToolbar=this.bbar;}delete this.bbar;}if(this.header===true){this.elements+=",header";delete this.header;}else{if(this.title&&this.header!==false){this.elements+=",header";}}if(this.footer===true){this.elements+=",footer";delete this.footer;}if(this.buttons){this.elements+=",footer";var a=this.buttons;this.buttons=[];for(var c=0,b=a.length;c<b;c++){if(a[c].render){this.buttons.push(a[c]);}else{if(a[c].xtype){this.buttons.push(Ext.create(a[c],"button"));}else{this.addButton(a[c]);}}}}if(this.fbar){this.elements+=",footer";if(this.buttonAlign=="right"&&this.initialConfig.buttonAlign===undefined){this.buttonAlign="left";}}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10});}},createElement:function(b,a){if(this[b]){a.appendChild(this[b].dom);return;}if(b==="bwrap"||this.elements.indexOf(b)!=-1){if(this[b+"Cfg"]){this[b]=Ext.fly(a).createChild(this[b+"Cfg"]);}else{var c=document.createElement("div");c.className=this[b+"Cls"];this[b]=Ext.get(a.appendChild(c));}if(this[b+"CssClass"]){this[b].addClass(this[b+"CssClass"]);}if(this[b+"Style"]){this[b].applyStyles(this[b+"Style"]);}}},onRender:function(m,l){Ext.Panel.superclass.onRender.call(this,m,l);this.createClasses();if(this.el){this.el.addClass(this.baseCls);this.header=this.el.down("."+this.headerCls);this.bwrap=this.el.down("."+this.bwrapCls);var b=this.bwrap?this.bwrap:this.el;this.tbar=b.down("."+this.tbarCls);this.body=b.down("."+this.bodyCls);this.bbar=b.down("."+this.bbarCls);this.footer=b.down("."+this.footerCls);this.fromMarkup=true;}else{this.el=m.createChild({id:this.id,cls:this.baseCls},l);}var h=this.el,a=h.dom;if(this.cls){this.el.addClass(this.cls);}if(this.buttons){this.elements+=",footer";}if(this.frame){h.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",a.firstChild.firstChild.firstChild);this.createElement("bwrap",a);var c=this.bwrap.dom;var k=a.childNodes[1],i=a.childNodes[2];c.appendChild(k);c.appendChild(i);var e=c.firstChild.firstChild.firstChild;this.createElement("tbar",e);this.createElement("body",e);this.createElement("bbar",e);this.createElement("footer",c.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter";}}else{this.createElement("header",a);this.createElement("bwrap",a);var c=this.bwrap.dom;this.createElement("tbar",c);this.createElement("body",c);this.createElement("bbar",c);this.createElement("footer",c);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader");}}}if(this.padding!==undefined){this.body.setStyle("padding",this.body.addUnits(this.padding));}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder");}if(this.footer){this.footer.addClass(this.footerCls+"-noborder");}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder");}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder");}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder");}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls);}}}if(this.floating){this.makeFloating(this.floating);}if(this.collapsible){this.tools=this.tools?this.tools.slice(0):[];if(!this.hideCollapseTool){this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this});}if(this.titleCollapse&&this.header){this.header.on("click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer");}}if(this.tools){var n=this.tools;this.tools={};this.addTool.apply(this,n);}else{this.tools={};}if(this.buttons&&this.buttons.length>0){this.fbar=new Ext.Toolbar({items:this.buttons,toolbarCls:"x-panel-fbar"});}if(this.fbar){this.fbar=Ext.create(this.fbar,"toolbar");this.fbar.enableOverflow=false;if(this.fbar.items){this.fbar.items.each(function(d){d.minWidth=this.minButtonWidth;},this);}this.fbar.toolbarCls="x-panel-fbar";var g=this.footer.createChild({cls:"x-panel-btns x-panel-btns-"+this.buttonAlign});this.fbar.ownerCt=this;this.fbar.render(g);g.createChild({cls:"x-clear"});}if(this.tbar&&this.topToolbar){if(Ext.isArray(this.topToolbar)){this.topToolbar=new Ext.Toolbar(this.topToolbar);}else{if(!this.topToolbar.events){this.topToolbar=Ext.create(this.topToolbar,"toolbar");}}this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar);}if(this.bbar&&this.bottomToolbar){if(Ext.isArray(this.bottomToolbar)){this.bottomToolbar=new Ext.Toolbar(this.bottomToolbar);}else{if(!this.bottomToolbar.events){this.bottomToolbar=Ext.create(this.bottomToolbar,"toolbar");}}this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar);}},setIconClass:function(d){var c=this.iconCls;this.iconCls=d;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(c,this.iconCls);}else{var b=this.header.dom;var a=b.firstChild&&String(b.firstChild.tagName).toLowerCase()=="img"?b.firstChild:null;if(a){Ext.fly(a).replaceClass(c,this.iconCls);}else{Ext.DomHelper.insertBefore(b.firstChild,{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls});}}}},makeFloating:function(a){this.floating=true;this.el=new Ext.Layer(typeof a=="object"?a:{shadow:this.shadow!==undefined?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined},this.el);},getTopToolbar:function(){return this.topToolbar;},getBottomToolbar:function(){return this.bottomToolbar;},addButton:function(d,b,a){var c={handler:b,scope:a,minWidth:this.minButtonWidth,hideParent:true};if(typeof d=="string"){c.text=d;}else{Ext.apply(c,d);}var e=new Ext.Button(c);if(!this.buttons){this.buttons=[];}this.buttons.push(e);return e;},addTool:function(){if(!this[this.toolTarget]){return;}if(!this.toolTemplate){var d=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');d.disableFormats=true;d.compile();Ext.Panel.prototype.toolTemplate=d;}for(var b=0,h=arguments,g=h.length;b<g;b++){var c=h[b];if(!this.tools[c.id]){var e="x-tool-"+c.id+"-over";var k=this.toolTemplate.insertFirst((c.align!=="left")?this[this.toolTarget]:this[this.toolTarget].child("span"),c,true);this.tools[c.id]=k;k.enableDisplayMode("block");k.on("click",this.createToolHandler(k,c,e,this));if(c.on){k.on(c.on);}if(c.hidden){k.hide();}if(c.qtip){if(typeof c.qtip=="object"){Ext.QuickTips.register(Ext.apply({target:k.id},c.qtip));}else{k.dom.qtip=c.qtip;}}k.addClassOnOver(e);}}},doLayout:function(a){Ext.Panel.superclass.doLayout.call(this,a);if(this.topToolbar){this.topToolbar.doLayout();}if(this.bottomToolbar){this.bottomToolbar.doLayout();}if(this.fbar){this.fbar.doLayout();}},onShow:function(){if(this.floating){return this.el.show();}Ext.Panel.superclass.onShow.call(this);},onHide:function(){if(this.floating){return this.el.hide();}Ext.Panel.superclass.onHide.call(this);},createToolHandler:function(a,c,b,d){return function(e){a.removeClass(b);e.stopEvent();if(c.handler){c.handler.call(c.scope||a,e,a,d);}};},afterRender:function(){if(this.floating&&!this.hidden&&!this.initHidden){this.el.show();}if(this.title){this.setTitle(this.title);}this.setAutoScroll();if(this.html){this.body.update(typeof this.html=="object"?Ext.DomHelper.markup(this.html):this.html);delete this.html;}if(this.contentEl){var a=Ext.getDom(this.contentEl);Ext.fly(a).removeClass(["x-hidden","x-hide-display"]);this.body.dom.appendChild(a);}if(this.collapsed){this.collapsed=false;this.collapse(false);}Ext.Panel.superclass.afterRender.call(this);this.initEvents();},setAutoScroll:function(){if(this.rendered&&this.autoScroll){var a=this.body||this.el;if(a){a.setOverflow("auto");}}},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys);}return this.keyMap;},initEvents:function(){if(this.keys){this.getKeyMap();}if(this.draggable){this.initDraggable();}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,typeof this.draggable=="boolean"?null:this.draggable);},beforeEffect:function(){if(this.floating){this.el.beforeAction();}this.el.addClass("x-panel-animated");},afterEffect:function(){this.syncShadow();this.el.removeClass("x-panel-animated");},createEffect:function(c,b,d){var e={scope:d,block:true};if(c===true){e.callback=b;return e;}else{if(!c.callback){e.callback=b;}else{e.callback=function(){b.call(d);Ext.callback(c.callback,c.scope);};}}return Ext.applyIf(e,c);},collapse:function(b){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,b)===false){return;}var a=b===true||(b!==false&&this.animCollapse);this.beforeEffect();this.onCollapse(a,b);return this;},onCollapse:function(a,b){if(a){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterCollapse,this),this.collapseDefaults));}else{this[this.collapseEl].hide();this.afterCollapse();}},afterCollapse:function(){this.collapsed=true;this.el.addClass(this.collapsedCls);this.afterEffect();this.fireEvent("collapse",this);},expand:function(b){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,b)===false){return;}var a=b===true||(b!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect();this.onExpand(a,b);return this;},onExpand:function(a,b){if(a){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterExpand,this),this.expandDefaults));}else{this[this.collapseEl].show();this.afterExpand();}},afterExpand:function(){this.collapsed=false;this.afterEffect();this.fireEvent("expand",this);},toggleCollapse:function(a){this[this.collapsed?"expand":"collapse"](a);return this;},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask();}Ext.Panel.superclass.onDisable.call(this);},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask();}Ext.Panel.superclass.onEnable.call(this);},onResize:function(a,b){if(a!==undefined||b!==undefined){if(!this.collapsed){if(typeof a=="number"){a=this.adjustBodyWidth(a-this.getFrameWidth());if(this.tbar){this.tbar.setWidth(a);if(this.topToolbar){this.topToolbar.setSize(a);}}if(this.bbar){this.bbar.setWidth(a);if(this.bottomToolbar){this.bottomToolbar.setSize(a);}}if(this.fbar&&this.buttonAlign!="center"){this.fbar.setSize(a-this.fbar.container.getFrameWidth("lr"));}this.body.setWidth(a);}else{if(a=="auto"){this.body.setWidth(a);}}if(typeof b=="number"){b=this.adjustBodyHeight(b-this.getFrameHeight());this.body.setHeight(b);}else{if(b=="auto"){this.body.setHeight(b);}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight());}}else{this.queuedBodySize={width:a,height:b};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height);this.doLayout();},this,{single:true});}}this.fireEvent("bodyresize",this,a,b);}this.syncShadow();},adjustBodyHeight:function(a){return a;},adjustBodyWidth:function(a){return a;},onPosition:function(){this.syncShadow();},getFrameWidth:function(){var c=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var b=this.bwrap.dom.firstChild;c+=(Ext.fly(b).getFrameWidth("l")+Ext.fly(b.firstChild).getFrameWidth("r"));var a=this.bwrap.dom.firstChild.firstChild.firstChild;c+=Ext.fly(a).getFrameWidth("lr");}return c;},getFrameHeight:function(){var c=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");c+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){var a=this.el.dom.firstChild;var b=this.bwrap.dom.lastChild;c+=(a.offsetHeight+b.offsetHeight);var d=this.bwrap.dom.firstChild.firstChild.firstChild;c+=Ext.fly(d).getFrameWidth("tb");}else{c+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0);}return c;},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth();},getInnerHeight:function(){return this.getSize().height-this.getFrameHeight();},syncShadow:function(){if(this.floating){this.el.sync(true);}},getLayoutTarget:function(){return this.body;},setTitle:function(b,a){this.title=b;if(this.header&&this.headerAsText){this.header.child("span").update(b);}if(a){this.setIconClass(a);}this.fireEvent("titlechange",this,b);return this;},getUpdater:function(){return this.body.getUpdater();},load:function(){var a=this.body.getUpdater();a.update.apply(a,arguments);return this;},beforeDestroy:function(){if(this.header){this.header.removeAllListeners();if(this.headerAsText){Ext.Element.uncache(this.header.child("span"));}}Ext.Element.uncache(this.header,this.tbar,this.bbar,this.footer,this.body,this.bwrap);if(this.tools){for(var c in this.tools){Ext.destroy(this.tools[c]);}}if(this.buttons){for(var a in this.buttons){Ext.destroy(this.buttons[a]);}}Ext.destroy(this.topToolbar,this.bottomToolbar,this.fbar);Ext.Panel.superclass.beforeDestroy.call(this);},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer";},createGhost:function(d,c,e){var b=document.createElement("div");b.className="x-panel-ghost "+(d?d:"");if(this.header){b.appendChild(this.el.dom.firstChild.cloneNode(true));}Ext.fly(b.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());b.style.width=this.el.dom.offsetWidth+"px";if(!e){this.container.dom.appendChild(b);}else{Ext.getDom(e).appendChild(b);}if(c!==false&&this.el.useShim!==false){var a=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},b);a.show();return a;}else{return new Ext.Element(b);}},doAutoLoad:function(){this.body.load(typeof this.autoLoad=="object"?this.autoLoad:{url:this.autoLoad});}});Ext.reg("panel",Ext.Panel);Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,closeAction:"close",collapsible:false,initHidden:true,monitorResize:true,elements:"header,body",frame:true,floating:true,initComponent:function(){Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox());},onRender:function(b,a){Ext.Window.superclass.onRender.call(this,b,a);if(this.plain){this.el.addClass("x-window-plain");}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mask.on("click",this.focus,this);}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget);}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction});this.resizer.window=this;this.resizer.on("beforeresize",this.beforeResize,this);}if(this.draggable){this.header.addClass("x-window-draggable");}this.initTools();this.el.on("mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);this.hidden=true;if(this.maximized){this.maximized=false;this.maximize();}if(this.closable){var a=this.getKeyMap();a.on(27,this.onEsc,this);a.disable();}},initDraggable:function(){this.dd=new Ext.Window.DD(this);},onEsc:function(){this[this.closeAction]();},beforeDestroy:function(){this.hide();if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);}Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask);Ext.Window.superclass.beforeDestroy.call(this);},onDestroy:function(){if(this.manager){this.manager.unregister(this);}Ext.Window.superclass.onDestroy.call(this);},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])});}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true});this.header.on("dblclick",this.toggleMaximize,this);}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])});}},resizerAction:function(){var a=this.proxy.getBox();this.proxy.hide();this.window.handleResize(a);return a;},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox();},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint();}},handleResize:function(b){var a=this.resizeBox;if(a.x!=b.x||a.y!=b.y){this.updateBox(b);}else{this.setSize(b);}this.focus();this.updateHandles();this.saveState();if(this.layout){this.doLayout();}this.fireEvent("resize",this,b.width,b.height);},focus:function(){var a=this.focusEl,b=this.defaultButton,c=typeof b;if(c!="undefined"){if(c=="number"&&this.fbar){a=this.fbar.items.get(b);}else{if(c=="string"){a=Ext.getCmp(b);}else{a=b;}}}a=a||this.focusEl;a.focus.defer(10,a);},setAnimateTarget:function(a){a=Ext.get(a);this.animateTarget=a;},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var a=this.el.getAlignToXY(this.container,"c-c");var b=this.el.translatePoints(a[0],a[1]);this.x=this.x===undefined?b.left:this.x;this.y=this.y===undefined?b.top:this.y;}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false);}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show();}},show:function(a,b,c){if(!this.rendered){this.render(Ext.getBody());}if(this.hidden===false){this.toFront();return;}if(this.fireEvent("beforeshow",this)===false){return;}if(b){this.on("show",b,c,{single:true});}this.hidden=false;if(a!==undefined){this.setAnimateTarget(a);}this.beforeShow();if(this.animateTarget){this.animShow();}else{this.afterShow();}},afterShow:function(){this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer();}if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll);}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this);}this.doConstrain();if(this.layout){this.doLayout();}if(this.keyMap){this.keyMap.enable();}this.toFront();this.updateHandles();this.fireEvent("show",this);},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var a=this.getBox(false);a.callback=this.afterShow;a.scope=this;a.duration=0.25;a.easing="easeNone";a.opacity=0.5;a.block=true;this.el.setStyle("display","none");this.proxy.shift(a);},hide:function(a,b,c){if(this.hidden||this.fireEvent("beforehide",this)===false){return;}if(b){this.on("hide",b,c,{single:true});}this.hidden=true;if(a!==undefined){this.setAnimateTarget(a);}if(this.animateTarget){this.animHide();}else{this.el.hide();this.afterHide();}},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this);}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked");}if(this.keyMap){this.keyMap.disable();}this.fireEvent("hide",this);},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var c=this.getBox(false);this.proxy.setBox(c);this.el.hide();var a=this.animateTarget.getBox();a.callback=this.afterHide;a.scope=this;a.duration=0.25;a.easing="easeNone";a.block=true;a.opacity=0;this.proxy.shift(a);},onWindowResize:function(){if(this.maximized){this.fitContainer();}if(this.modal){this.mask.setSize("100%","100%");var a=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));}this.doConstrain();},doConstrain:function(){if(this.constrain||this.constrainHeader){var c;if(this.constrain){c={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset};}else{var b=this.getSize();c={right:-(b.width-100),bottom:-(b.height-25)};}var a=this.el.getConstrainToXY(this.container,true,c);if(a){this.setPosition(a[0],a[1]);}}},ghost:function(b){var a=this.createGhost(b);var c=this.getBox(true);a.setLeftTop(c.x,c.y);a.setWidth(c.width);this.el.hide();this.activeGhost=a;return a;},unghost:function(b,a){if(b!==false){this.el.show();this.focus();if(Ext.isMac&&Ext.isGecko){this.cascade(this.setAutoScroll);}}if(a!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true));}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost;},minimize:function(){this.fireEvent("minimize",this);},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.hide(null,function(){this.fireEvent("close",this);this.destroy();},this);}},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show();}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock();}if(this.collapsible){this.tools.toggle.hide();}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this);}},restore:function(){if(this.maximized){this.el.removeClass("x-window-maximized");this.tools.restore.hide();this.tools.maximize.show();this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock();}if(this.collapsible){this.tools.toggle.show();}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this);}},toggleMaximize:function(){this[this.maximized?"restore":"maximize"]();},fitContainer:function(){var a=this.container.getViewSize();this.setSize(a.width,a.height);},setZIndex:function(a){if(this.modal){this.mask.setStyle("z-index",a);}this.el.setZIndex(++a);a+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++a);}this.lastZIndex=a;},alignTo:function(d,c,a){var b=this.el.getAlignToXY(d,c,a);this.setPagePosition(b[0],b[1]);return this;},anchorTo:function(a,c,b,e){if(this.doAnchor){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);}this.doAnchor=function(){this.alignTo(a,c,b);};Ext.EventManager.onWindowResize(this.doAnchor,this);var d=typeof e;if(d!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:d=="number"?e:50});}this.doAnchor();return this;},toFront:function(a){if(this.manager.bringToFront(this)){if(!a||!a.getTarget().focus){this.focus();}}return this;},setActive:function(a){if(a){if(!this.maximized){this.el.enableShadow(true);}this.fireEvent("activate",this);}else{this.el.disableShadow();this.fireEvent("deactivate",this);}},toBack:function(){this.manager.sendToBack(this);return this;},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a[0],a[1]);return this;}});Ext.reg("window",Ext.Window);Ext.Window.DD=function(a){this.win=a;Ext.Window.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id);this.setHandleElId(a.header.id);this.scroll=false;};Ext.extend(Ext.Window.DD,Ext.dd.DD,{moveOnly:true,headerOffsets:[100,25],startDrag:function(){var b=this.win;this.proxy=b.ghost();if(b.constrain!==false){var a=b.el.shadowOffset;this.constrainTo(b.container,{right:a,left:a,bottom:a});}else{if(b.constrainHeader!==false){var c=this.proxy.getSize();this.constrainTo(b.container,{right:-(c.width-this.headerOffsets[0]),bottom:-(c.height-this.headerOffsets[1])});}}},b4Drag:Ext.emptyFn,onDrag:function(a){this.alignElWithMouse(this.proxy,a.getPageX(),a.getPageY());},endDrag:function(a){this.win.unghost();this.win.saveState();}});Ext.WindowGroup=function(){var a={};var g=[];var h=null;var e=function(k,i){return(!k._lastAccess||k._lastAccess<i._lastAccess)?-1:1;};var b=function(){var k=g,n=k.length;if(n>0){k.sort(e);var i=k[0].manager.zseed;for(var l=0;l<n;l++){var m=k[l];if(m&&!m.hidden){m.setZIndex(i+(l*10));}}}c();};var d=function(i){if(i!=h){if(h){h.setActive(false);}h=i;if(i){i.setActive(true);}}};var c=function(){for(var i=g.length-1;i>=0;--i){if(!g[i].hidden){d(g[i]);return;}}d(null);};return{zseed:9000,register:function(i){a[i.id]=i;g.push(i);i.on("hide",c);},unregister:function(i){delete a[i.id];i.un("hide",c);g.remove(i);},get:function(i){return typeof i=="object"?i:a[i];},bringToFront:function(i){i=this.get(i);if(i!=h){i._lastAccess=new Date().getTime();b();return true;}return false;},sendToBack:function(i){i=this.get(i);i._lastAccess=-(new Date().getTime());b();return i;},hideAll:function(){for(var i in a){if(a[i]&&typeof a[i]!="function"&&a[i].isVisible()){a[i].hide();}}},getActive:function(){return h;},getBy:function(k,i){var l=[];for(var n=g.length-1;n>=0;--n){var m=g[n];if(k.call(i||m,m)!==false){l.push(m);}}return l;},each:function(i,l){for(var k in a){if(a[k]&&typeof a[k]!="function"){if(i.call(l||a[k],a[k])===false){return;}}}}};};Ext.WindowMgr=new Ext.WindowGroup();Ext.dd.PanelProxy=function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b);};Ext.dd.PanelProxy.prototype={insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost;},getGhost:function(){return this.ghost;},getProxy:function(){return this.proxy;},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy;}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost;}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(undefined,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize());}this.panel.el.dom.style.display="none";}},repair:function(c,a,b){this.hide();if(typeof a=="function"){a.call(b||this);}},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b);}}};Ext.Panel.DD=function(c,b){this.panel=c;this.dragData={panel:c};this.proxy=new Ext.dd.PanelProxy(c,b);Ext.Panel.DD.superclass.constructor.call(this,c.el,b);var a=c.header;if(a){this.setHandleElId(a.id);}(a?a:this.panel.body).setStyle("cursor","move");this.scroll=false;};Ext.extend(Ext.Panel.DD,Ext.dd.DragSource,{showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.proxy.show();},b4MouseDown:function(c){var b=c.getPageX();var a=c.getPageY();this.autoOffset(b,a);},onInitDrag:function(a,b){this.onStartDrag(a,b);return true;},createFrame:Ext.emptyFn,getDragEl:function(a){return this.proxy.ghost.dom;},endDrag:function(a){this.proxy.hide();this.panel.saveState();},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b);}});Ext.state.Provider=function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this);};Ext.extend(Ext.state.Provider,Ext.util.Observable,{get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b];},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null);},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b);},decodeValue:function(h){var g=/^(a|n|d|b|s|o)\:(.*)$/;var l=g.exec(unescape(h));if(!l||!l[1]){return;}var b=l[1];var d=l[2];switch(b){case"n":return parseFloat(d);case"d":return new Date(Date.parse(d));case"b":return(d=="1");case"a":var c=[];var e=d.split("^");for(var k=0,m=e.length;k<m;k++){c.push(this.decodeValue(e[k]));}return c;case"o":var c={};var e=d.split("^");for(var k=0,m=e.length;k<m;k++){var a=e[k].split("=");c[a[0]]=this.decodeValue(a[1]);}return c;default:return d;}},encodeValue:function(g){var e;if(typeof g=="number"){e="n:"+g;}else{if(typeof g=="boolean"){e="b:"+(g?"1":"0");}else{if(Ext.isDate(g)){e="d:"+g.toGMTString();}else{if(Ext.isArray(g)){var c="";for(var b=0,d=g.length;b<d;b++){c+=this.encodeValue(g[b]);if(b!=d-1){c+="^";}}e="a:"+c;}else{if(typeof g=="object"){var c="";for(var a in g){if(typeof g[a]!="function"&&g[a]!==undefined){c+=a+"="+this.encodeValue(g[a])+"^";}}e="o:"+c.substring(0,c.length-1);}else{e="s:"+g;}}}}}return escape(e);}});Ext.state.Manager=function(){var a=new Ext.state.Provider();return{setProvider:function(b){a=b;},get:function(c,b){return a.get(c,b);},set:function(b,c){a.set(b,c);},clear:function(b){a.clear(b);},getProvider:function(){return a;}};}();Ext.state.CookieProvider=function(a){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,a);this.state=this.readCookies();};Ext.extend(Ext.state.CookieProvider,Ext.state.Provider,{set:function(a,b){if(typeof b=="undefined"||b===null){this.clear(a);return;}this.setCookie(a,b);Ext.state.CookieProvider.superclass.set.call(this,a,b);},clear:function(a){this.clearCookie(a);Ext.state.CookieProvider.superclass.clear.call(this,a);},readCookies:function(){var h={};var d=document.cookie+";";var g=/\s?(.*?)=(.*?);/g;var b;while((b=g.exec(d))!=null){var e=b[1];var a=b[2];if(e&&e.substring(0,3)=="ys-"){h[e.substr(3)]=this.decodeValue(a);}}return h;},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"");}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(typeof this.tpl=="string"){this.tpl=new Ext.XTemplate(this.tpl);}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","selectionchange","beforeselect");this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite();},onRender:function(){if(!this.el){this.el=document.createElement("div");this.el.id=this.id;}Ext.DataView.superclass.onRender.apply(this,arguments);},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.getTemplateTarget().on({click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.getTemplateTarget().on({mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this});}if(this.store){this.setStore(this.store,true);}},refresh:function(){this.clearSelections(false,true);var b=this.getTemplateTarget();b.update("");var a=this.store.getRange();if(a.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){b.update(this.emptyText);}this.hasSkippedEmptyText=true;this.all.clear();return;}this.tpl.overwrite(b,this.collectData(a,0));this.all.fill(Ext.query(this.itemSelector,b.dom));this.updateIndexes(0);},getTemplateTarget:function(){return this.el;},prepareData:function(a){return a;},collectData:function(e,c){var b=[];for(var a=0,d=e.length;a<d;a++){b[b.length]=this.prepareData(e[a].data,c+a,e[a]);}return b;},bufferRender:function(a){var b=document.createElement("div");this.tpl.overwrite(b,this.collectData(a));return Ext.query(this.itemSelector,b);},onUpdate:function(c,d){var e=this.store.indexOf(d);var b=this.isSelected(e);var g=this.all.elements[e];var a=this.bufferRender([d],e)[0];this.all.replaceElement(e,a,true);if(b){this.selected.replaceElement(g,a);this.all.item(e).addClass(this.selectedClass);}this.updateIndexes(e,e);},onAdd:function(e,b,d){if(this.all.getCount()==0){this.refresh();return;}var h=this.bufferRender(b,d),g,c=this.all.elements;if(d<this.all.getCount()){g=this.all.item(d).insertSibling(h,"before",true);c.splice.apply(c,[d,0].concat(h));}else{g=this.all.last().insertSibling(h,"after",true);c.push.apply(c,h);}this.updateIndexes(d);},onRemove:function(a,b,c){this.deselect(c);this.all.removeElement(c,true);this.updateIndexes(c);},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a));},updateIndexes:function(b,a){var d=this.all.elements;b=b||0;a=a||((a===0)?0:(d.length-1));for(var c=b;c<=a;c++){d[c].viewIndex=c;}},setStore:function(a,b){if(!b&&this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.refresh,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this);}if(a){a=Ext.StoreMgr.lookup(a);a.on("beforeload",this.onBeforeLoad,this);a.on("datachanged",this.refresh,this);a.on("add",this.onAdd,this);a.on("remove",this.onRemove,this);a.on("update",this.onUpdate,this);a.on("clear",this.refresh,this);}this.store=a;if(a){this.refresh();}},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget());},onClick:function(a){var c=a.getTarget(this.itemSelector,this.getTemplateTarget());if(c){var b=this.indexOf(c);if(this.onItemClick(c,b,a)!==false){this.fireEvent("click",this,b,c,a);}}else{if(this.fireEvent("containerclick",this,a)!==false){this.onContainerClick(a);}}},onContainerClick:function(a){this.clearSelections();},onContextMenu:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("contextmenu",this,this.indexOf(a),a,b);}},onDblClick:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("dblclick",this,this.indexOf(a),a,b);}},onMouseOver:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a&&a!==this.lastItem){this.lastItem=a;Ext.fly(a).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(a),a,b);}},onMouseOut:function(a){if(this.lastItem){if(!a.within(this.lastItem,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,a);delete this.lastItem;}}},onItemClick:function(c,b,a){if(this.fireEvent("beforeclick",this,b,c,a)===false){return false;}if(this.multiSelect){this.doMultiSelection(c,b,a);a.preventDefault();}else{if(this.singleSelect){this.doSingleSelection(c,b,a);a.preventDefault();}}return true;},doSingleSelection:function(c,b,a){if(a.ctrlKey&&this.isSelected(b)){this.deselect(b);}else{this.select(b,false);}},doMultiSelection:function(a,c,b){if(b.shiftKey&&this.last!==false){var d=this.last;this.selectRange(d,c,b.ctrlKey);this.last=d;}else{if((b.ctrlKey||this.simpleSelect)&&this.isSelected(c)){this.deselect(c);}else{this.select(c,b.ctrlKey||b.shiftKey||this.simpleSelect);}}},getSelectionCount:function(){return this.selected.getCount();},getSelectedNodes:function(){return this.selected.elements;},getSelectedIndexes:function(){var d=[],b=this.selected.elements;for(var a=0,c=b.length;a<c;a++){d.push(b[a].viewIndex);}return d;},getSelectedRecords:function(){var b=[],a=this.selected.elements;for(var d=0,c=a.length;d<c;d++){b[b.length]=this.store.getAt(a[d].viewIndex);}return b;},getRecords:function(e){var c=[],b=e;for(var a=0,d=b.length;a<d;a++){c[c.length]=this.store.getAt(b[a].viewIndex);}return c;},getRecord:function(a){return this.store.getAt(a.viewIndex);},clearSelections:function(a,b){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!b){this.selected.removeClass(this.selectedClass);}this.selected.clear();this.last=false;if(!a){this.fireEvent("selectionchange",this,this.selected.elements);}}},isSelected:function(a){return this.selected.contains(this.getNode(a));},deselect:function(a){if(this.isSelected(a)){a=this.getNode(a);this.selected.removeElement(a);if(this.last==a.viewIndex){this.last=false;}Ext.fly(a).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements);}},select:function(a,c,e){if(Ext.isArray(a)){if(!c){this.clearSelections(true);}for(var g=0,d=a.length;g<d;g++){this.select(a[g],true,true);}if(!e){this.fireEvent("selectionchange",this,this.selected.elements);}}else{var b=this.getNode(a);if(!c){this.clearSelections(true);}if(b&&!this.isSelected(b)){if(this.fireEvent("beforeselect",this,b,this.selected.elements)!==false){Ext.fly(b).addClass(this.selectedClass);this.selected.add(b);this.last=b.viewIndex;if(!e){this.fireEvent("selectionchange",this,this.selected.elements);}}}}},selectRange:function(a,b,c){if(!c){this.clearSelections(true);}this.select(this.getNodes(a,b),true);},getNode:function(a){if(typeof a=="string"){return document.getElementById(a);}else{if(typeof a=="number"){return this.all.elements[a];}}return a;},getNodes:function(c,d){var b=this.all.elements;c=c||0;d=typeof d=="undefined"?Math.max(b.length-1,0):d;var e=[],a;if(c<=d){for(a=c;a<=d&&b[a];a++){e.push(b[a]);}}else{for(a=c;a>=d&&b[a];a--){e.push(b[a]);}}return e;},indexOf:function(a){a=this.getNode(a);if(typeof a.viewIndex=="number"){return a.viewIndex;}return this.all.indexOf(a);},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear();}},onDestroy:function(){Ext.DataView.superclass.onDestroy.call(this);this.setStore(null);}});Ext.reg("dataview",Ext.DataView);Ext.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:19,columnResize:true,columnSort:true,hideHeaders:false,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.ListView.ColumnResizer(this.colResizer);this.colResizer.init(this);}if(this.columnSort){this.colSorter=new Ext.ListView.Sorter(this.columnSort);this.colSorter.init(this);}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{width}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>");}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{width}%;text-align:{align};"><em unselectable="on">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>");}var g=this.columns,d=0,e=0,h=g.length;for(var b=0;b<h;b++){var k=g[b];if(!k.tpl){k.tpl=new Ext.XTemplate("{"+k.dataIndex+"}");}else{if(typeof k.tpl=="string"){k.tpl=new Ext.XTemplate(k.tpl);}}k.align=k.align||"left";if(typeof k.width=="number"){k.width*=100;d+=k.width;e++;}}if(e<h){var m=h-e;if(d<100){var l=((100-d)/m);for(var a=0;a<h;a++){var k=g[a];if(typeof k.width!="number"){k.width=l;}}}}Ext.ListView.superclass.initComponent.call(this);},onRender:function(){if(!this.el){this.el=document.createElement("div");this.el.id=this.id;this.internalTpl.overwrite(this.el,{columns:this.columns});}Ext.DataView.superclass.onRender.apply(this,arguments);this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none";}},getTemplateTarget:function(){return this.innerBody;},collectData:function(){var a=Ext.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:a};},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height);}},onResize:function(e,a){var b=this.innerBody.dom;var c=this.innerHd.dom;if(!b){return;}var g=b.parentNode;if(typeof e=="number"){var d=e-this.scrollOffset;if(this.reserveScrollOffset||((g.offsetWidth-g.clientWidth)>10)){b.style.width=d+"px";c.style.width=d+"px";}else{b.style.width=e+"px";c.style.width=e+"px";setTimeout(function(){if((g.offsetWidth-g.clientWidth)>10){b.style.width=d+"px";c.style.width=d+"px";}},10);}}if(typeof a=="number"){g.style.height=(a-c.parentNode.offsetHeight)+"px";}},updateIndexes:function(){Ext.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize();},findHeaderIndex:function(b){b=b.dom||b;var e=b.parentNode,a=e.parentNode.childNodes;for(var g=0,d;d=a[g];g++){if(d==e){return g;}}return -1;},setHdWidths:function(){var a=this.innerHd.dom.getElementsByTagName("div");for(var d=0,b=this.columns,c=b.length;d<c;d++){a[d].style.width=b[d].width+"%";}}});Ext.reg("listview",Ext.ListView);Ext.ListView.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(a){Ext.apply(this,a);Ext.ListView.ColumnResizer.superclass.constructor.call(this);},init:function(a){this.view=a;a.on("render",this.initEvents,this);},initEvents:function(a){a.mon(a.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a.innerHd);a.on("beforedestroy",this.tracker.destroy,this.tracker);},handleHdMove:function(a,h){var g=5;var b=a.getPageX();var k=a.getTarget("em",3,true);if(k){var i=k.getRegion();var d=k.dom.style;var c=k.dom.parentNode;if(b-i.left<=g&&c!=c.parentNode.firstChild){this.activeHd=Ext.get(c.previousSibling.firstChild);if(Ext.isSafari){d.cursor="e-resize";}else{d.cursor="col-resize";}}else{if(i.right-b<=g&&c!=c.parentNode.lastChild.previousSibling){this.activeHd=k;if(Ext.isSafari){d.cursor="w-resize";}else{d.cursor="col-resize";}}else{delete this.activeHd;d.cursor="";}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;return !!this.dragHd;},onStart:function(a){this.view.disableHeaders=true;this.proxy=this.view.el.createChild({cls:"x-list-resizer"});this.proxy.setHeight(this.view.el.getHeight());var b=this.tracker.getXY()[0];var c=this.view.innerHd.getWidth();this.hdX=this.dragHd.getX();this.hdIndex=this.view.findHeaderIndex(this.dragHd);this.proxy.setX(this.hdX);this.proxy.setWidth(b-this.hdX);this.minWidth=c*this.minPct;this.maxWidth=c-(this.minWidth*(this.view.columns.length-1-this.hdIndex));},onDrag:function(b){var a=this.tracker.getXY()[0];this.proxy.setWidth((a-this.hdX).constrain(this.minWidth,this.maxWidth));},onEnd:function(n){var l=this.proxy.getWidth();this.proxy.remove();var k=this.hdIndex;var r=this.view,d=r.columns,m=d.length;var h=this.view.innerHd.getWidth(),c=this.minPct*100;var q=Math.ceil((l*100)/h);var g=d[k].width-q;var p=Math.floor(g/(m-1-k));var o=g-(p*(m-1-k));for(var b=k+1;b<m;b++){var a=d[b].width+p;var s=Math.max(c,a);if(a!=s){o+=a-s;}d[b].width=s;}d[k].width=q;d[k+1].width+=o;delete this.dragHd;this.view.setHdWidths();this.view.refresh();setTimeout(function(){r.disableHeaders=false;},100);}});Ext.ListView.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(a){Ext.apply(this,a);Ext.ListView.Sorter.superclass.constructor.call(this);},init:function(a){this.view=a;a.on("render",this.initEvents,this);},initEvents:function(a){a.mon(a.innerHd,"click",this.onHdClick,this);a.innerHd.setStyle("cursor","pointer");a.mon(a.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[a.store]);},updateSortState:function(e){var a=e.getSortState();if(!a){return;}this.sortState=a;var h=this.view.columns,b=-1;for(var g=0,c=h.length;g<c;g++){if(h[g].dataIndex==a.field){b=g;break;}}if(b!=-1){var d=a.direction;this.updateSortIcon(b,d);}},updateSortIcon:function(d,c){var b=this.sortClasses;var a=this.view.innerHd.select("em").removeClass(b);a.item(d).addClass(b[c=="DESC"?1:0]);},onHdClick:function(a){var c=a.getTarget("em",3);if(c&&!this.view.disableHeaders){var b=this.view.findHeaderIndex(c);this.view.store.sort(this.view.columns[b].dataIndex);}}});Ext.ColorPalette=function(a){Ext.ColorPalette.superclass.constructor.call(this,a);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true);}};Ext.extend(Ext.ColorPalette,Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],onRender:function(d,c){var a=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');var b=document.createElement("div");b.id=this.getId();b.className=this.itemCls;a.overwrite(b,this.colors);d.dom.insertBefore(b,c);this.el=Ext.get(b);this.el.on(this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.el.on("click",Ext.emptyFn,this,{delegate:"a",preventDefault:true});}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var a=this.value;this.value=null;this.select(a);}},handleClick:function(d,b){d.preventDefault();if(!this.disabled){var a=b.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(a.toUpperCase());}},select:function(a){a=a.replace("#","");if(a!=this.value||this.allowReselect){var b=this.el;if(this.value){b.child("a.color-"+this.value).removeClass("x-color-palette-sel");}b.child("a.color-"+a).addClass("x-color-palette-sel");this.value=a;this.fireEvent("select",this,a);}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.Component,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",constrainToViewport:true,monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime():new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this);}this.initDisabledDays();},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var b=this.disabledDates;var a="(?:";for(var c=0;c<b.length;c++){a+=b[c];if(c!=b.length-1){a+="|";}}this.disabledDatesRE=new RegExp(a+")");}},setDisabledDates:function(a){if(Ext.isArray(a)){this.disabledDates=a;this.disabledDatesRE=null;}else{this.disabledDatesRE=a;}this.initDisabledDays();this.update(this.value,true);},setDisabledDays:function(a){this.disabledDays=a;this.update(this.value,true);},setMinDate:function(a){this.minDate=a;this.update(this.value,true);},setMaxDate:function(a){this.maxDate=a;this.update(this.value,true);},setValue:function(b){var a=this.value;this.value=b.clearTime(true);if(this.el){this.update(this.value);}},getValue:function(){return this.value;},focus:function(){if(this.el){this.update(this.activeDate);}},onRender:function(l,e){var a=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'];var c=this.dayNames;for(var b=0;b<7;b++){var g=this.startDay+b;if(g>6){g=g-7;}a.push("<th><span>",c[g].substr(0,1),"</span></th>");}a[a.length]="</tr></thead><tbody><tr>";for(var b=0;b<42;b++){if(b%7==0&&b!=0){a[a.length]="</tr><tr>";}a[a.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>';}a.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var n=document.createElement("div");n.className="x-date-picker";n.innerHTML=a.join("");l.dom.insertBefore(n,e);this.el=Ext.get(n);this.eventEl=Ext.get(n.firstChild);new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.eventEl.on("mousewheel",this.handleMouseWheel,this);this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");var k=new Ext.KeyNav(this.eventEl,{left:function(d){d.ctrlKey?this.showPrevMonth():this.update(this.activeDate.add("d",-1));},right:function(d){d.ctrlKey?this.showNextMonth():this.update(this.activeDate.add("d",1));},up:function(d){d.ctrlKey?this.showNextYear():this.update(this.activeDate.add("d",-7));},down:function(d){d.ctrlKey?this.showPrevYear():this.update(this.activeDate.add("d",7));},pageUp:function(d){this.showNextMonth();},pageDown:function(d){this.showPrevMonth();},enter:function(d){d.stopPropagation();return true;},scope:this});this.eventEl.on("click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.on("click",this.showMonthPicker,this);this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var h=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,h),tooltip:String.format(this.todayTip,h),handler:this.selectToday,scope:this});}if(Ext.isIE){this.el.repaint();}this.update(this.value);},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var a=['<table border="0" cellspacing="0">'];for(var b=0;b<6;b++){a.push('<tr><td class="x-date-mp-month"><a href="#">',this.monthNames[b].substr(0,3),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',this.monthNames[b+6].substr(0,3),"</a></td>",b==0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>');}a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(a.join(""));this.monthPicker.on("click",this.onMonthClick,this);this.monthPicker.on("dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(e,c,d){d+=1;if((d%2)==0){e.dom.xmonth=5+Math.round(d*0.5);}else{e.dom.xmonth=Math.round((d-1)*0.5);}});}},showMonthPicker:function(){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a);this.monthPicker.child("table").setSize(a);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2});},updateMPYear:function(c){this.mpyear=c;var a=this.mpYears.elements;for(var e=1;e<=10;e++){var b=a[e-1],d;if((e%2)==0){d=c+Math.round(e*0.5);b.firstChild.innerHTML=d;b.xyear=d;}else{d=c-(5-Math.round(e*0.5));b.firstChild.innerHTML=d;b.xyear=d;}this.mpYears.item(e-1)[d==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel");}},updateMPMonth:function(a){this.mpMonths.each(function(b,c,d){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel");});},selectMPMonth:function(a){},onMonthClick:function(b,h){b.stopEvent();var a=new Ext.Element(h),g;if(a.is("button.x-date-mp-cancel")){this.hideMonthPicker();}else{if(a.is("button.x-date-mp-ok")){var c=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(c.getMonth()!=this.mpSelMonth){c=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth();}this.update(c);this.hideMonthPicker();}else{if(g=a.up("td.x-date-mp-month",2)){this.mpMonths.removeClass("x-date-mp-sel");g.addClass("x-date-mp-sel");this.mpSelMonth=g.dom.xmonth;}else{if(g=a.up("td.x-date-mp-year",2)){this.mpYears.removeClass("x-date-mp-sel");g.addClass("x-date-mp-sel");this.mpSelYear=g.dom.xyear;}else{if(a.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10);}else{if(a.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10);}}}}}}},onMonthDblClick:function(b,d){b.stopEvent();var a=new Ext.Element(d),c;if(c=a.up("td.x-date-mp-month",2)){this.update(new Date(this.mpSelYear,c.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker();}else{if(c=a.up("td.x-date-mp-year",2)){this.update(new Date(c.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker();}}},hideMonthPicker:function(a){if(this.monthPicker){if(a===true){this.monthPicker.hide();}else{this.monthPicker.slideOut("t",{duration:0.2});}}},showPrevMonth:function(a){this.update(this.activeDate.add("mo",-1));},showNextMonth:function(a){this.update(this.activeDate.add("mo",1));},showPrevYear:function(){this.update(this.activeDate.add("y",-1));},showNextYear:function(){this.update(this.activeDate.add("y",1));},handleMouseWheel:function(a){var b=a.getWheelDelta();if(b>0){this.showPrevMonth();a.stopEvent();}else{if(b<0){this.showNextMonth();a.stopEvent();}}},handleDateClick:function(b,a){b.stopEvent();if(a.dateValue&&!Ext.fly(a.parentNode).hasClass("x-date-disabled")){this.setValue(new Date(a.dateValue));this.fireEvent("select",this,this.value);}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value);}},update:function(s,g){var z=this.activeDate;this.activeDate=s;if(!g&&z&&this.el){var b=s.getTime();if(z.getMonth()==s.getMonth()&&z.getFullYear()==s.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(d){if(d.dom.firstChild.dateValue==b){d.addClass("x-date-selected");setTimeout(function(){try{d.dom.firstChild.focus();}catch(i){}},50);return false;}});return;}}var H=s.getDaysInMonth();var e=s.getFirstDateOfMonth();var D=e.getDay()-this.startDay;if(D<=this.startDay){D+=7;}var k=s.add("mo",-1);var E=k.getDaysInMonth()-D;var C=this.cells.elements;var h=this.textNodes;H+=D;var x=86400000;var n=(new Date(k.getFullYear(),k.getMonth(),E)).clearTime();var l=new Date().clearTime().getTime();var q=s.clearTime().getTime();var o=this.minDate?this.minDate.clearTime():Number.NEGATIVE_INFINITY;var F=this.maxDate?this.maxDate.clearTime():Number.POSITIVE_INFINITY;var r=this.disabledDatesRE;var m=this.disabledDatesText;var y=this.disabledDays?this.disabledDays.join(""):false;var p=this.disabledDaysText;var c=this.format;if(this.showToday){var J=new Date().clearTime();var B=(J<o||J>F||(r&&c&&r.test(J.dateFormat(c)))||(y&&y.indexOf(J.getDay())!=-1));this.todayBtn.setDisabled(B);this.todayKeyListener[B?"disable":"enable"]();}var I=function(d,t){t.title="";var w=n.getTime();t.firstChild.dateValue=w;if(w==l){t.className+=" x-date-today";t.title=d.todayText;}if(w==q){t.className+=" x-date-selected";setTimeout(function(){try{t.firstChild.focus();}catch(K){}},50);}if(w<o){t.className=" x-date-disabled";t.title=d.minText;return;}if(w>F){t.className=" x-date-disabled";t.title=d.maxText;return;}if(y){if(y.indexOf(n.getDay())!=-1){t.title=p;t.className=" x-date-disabled";}}if(r&&c){var i=n.dateFormat(c);if(r.test(i)){t.title=m.replace("%0",i);t.className=" x-date-disabled";}}};var u=0;for(;u<D;u++){h[u].innerHTML=(++E);n.setDate(n.getDate()+1);C[u].className="x-date-prevday";I(this,C[u]);}for(;u<H;u++){var A=u-D+1;h[u].innerHTML=(A);n.setDate(n.getDate()+1);C[u].className="x-date-active";I(this,C[u]);}var v=0;for(;u<42;u++){h[u].innerHTML=(++v);n.setDate(n.getDate()+1);C[u].className="x-date-nextday";I(this,C[u]);}this.mbtn.setText(this.monthNames[s.getMonth()]+" "+s.getFullYear());if(!this.internalRender){var G=this.el.dom.firstChild;var a=G.offsetWidth;this.el.setWidth(a+this.el.getBorderWidth("lr"));Ext.fly(G).setWidth(a);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){G.rows[0].cells[1].style.width=(a-(G.rows[0].cells[0].offsetWidth+G.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[s]);}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.leftClickRpt,this.rightClickRpt,this.monthPicker,this.eventEl,this.mbtn,this.todayBtn);}}});Ext.reg("datepicker",Ext.DatePicker);Ext.TabPanel=Ext.extend(Ext.Panel,{monitorResize:true,deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:null,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout({deferredRender:this.deferredRender}));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header";}else{this.elements+=",footer";this.stripTarget="footer";}if(!this.stack){this.stack=Ext.TabPanel.AccessStack();}this.initItems();if(this.activeTab!==undefined&&typeof this.activeTab!="object"){this.activeTab=this.items.get(this.activeTab);}},render:function(){Ext.TabPanel.superclass.render.apply(this,arguments);if(this.activeTab!==undefined){var a=this.activeTab;delete this.activeTab;this.setActiveTab(a);}},onRender:function(g,d){Ext.TabPanel.superclass.onRender.call(this,g,d);if(this.plain){var c=this.tabPosition=="top"?"header":"footer";this[c].addClass("x-tab-panel-"+c+"-plain");}var e=this[this.stripTarget];this.stripWrap=e.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var b=(this.tabPosition=="bottom"?this.stripWrap:null);this.stripSpacer=e.createChild({cls:"x-tab-strip-spacer"},b);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge"});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var a=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close" onclick="return false;"></a>','<a class="x-tab-right" href="#" onclick="return false;"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");a.disableFormats=true;a.compile();Ext.TabPanel.prototype.itemTpl=a;}this.items.each(this.initTab,this);},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false);}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.on("add",this.onAdd,this,{target:this});this.on("remove",this.onRemove,this,{target:this});this.strip.on("mousedown",this.onStripMouseDown,this);this.strip.on("contextmenu",this.onStripContextMenu,this);if(this.enableTabScroll){this.strip.on("mousewheel",this.onWheel,this);}},findTargets:function(a){var c=null;var b=a.getTarget("li",this.strip);if(b){c=this.getComponent(b.id.split(this.idDelimiter)[1]);if(c.disabled){return{close:null,item:null,el:null};}}return{close:a.getTarget(".x-tab-strip-close",this.strip),item:c,el:b};},onStripMouseDown:function(b){if(b.button!=0){return;}b.preventDefault();var a=this.findTargets(b);if(a.close){if(a.item.fireEvent("close",a.item)!==false){this.remove(a.item);}return;}if(a.item&&a.item!=this.activeTab){this.setActiveTab(a.item);}},onStripContextMenu:function(b){b.preventDefault();var a=this.findTargets(b);if(a.item){this.fireEvent("contextmenu",this,a.item,b);}},readTabs:function(a){if(a===true){this.items.each(function(h){this.remove(h);},this);}var g=this.el.query(this.autoTabSelector);for(var e=0,d=g.length;e<d;e++){var b=g[e];var c=b.getAttribute("title");b.removeAttribute("title");this.add({title:c,el:b});}},initTab:function(a,e){var b=this.strip.dom.childNodes[e];var d=a.closable?"x-tab-strip-closable":"";if(a.disabled){d+=" x-item-disabled";}if(a.iconCls){d+=" x-tab-with-icon";}if(a.tabCls){d+=" "+a.tabCls;}var c={id:this.id+this.idDelimiter+a.getItemId(),text:a.title,cls:d,iconCls:a.iconCls||""};var g=b?this.itemTpl.insertBefore(b,c):this.itemTpl.append(this.strip,c);Ext.fly(g).addClassOnOver("x-tab-strip-over");if(a.tabTip){Ext.fly(g).child("span.x-tab-strip-text",true).qtip=a.tabTip;}a.tabEl=g;a.on("disable",this.onItemDisabled,this);a.on("enable",this.onItemEnabled,this);a.on("titlechange",this.onItemTitleChanged,this);a.on("beforeshow",this.onBeforeShowItem,this);},onAdd:function(a,c,b){this.initTab(c,b);if(this.items.getCount()==1){this.syncSize();}this.delegateUpdates();},onBeforeAdd:function(c){var b=c.events?(this.items.containsKey(c.getItemId())?c:null):this.items.get(c);if(b){this.setActiveTab(c);return false;}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var a=c.elements;c.elements=a?a.replace(",header",""):a;c.border=(c.border===true);},onRemove:function(a,c){Ext.destroy(Ext.get(this.getTabEl(c)));this.stack.remove(c);c.un("disable",this.onItemDisabled,this);c.un("enable",this.onItemEnabled,this);c.un("titlechange",this.onItemTitleChanged,this);c.un("beforeshow",this.onBeforeShowItem,this);if(c==this.activeTab){var b=this.stack.next();if(b){this.setActiveTab(b);}else{this.setActiveTab(0);}}this.delegateUpdates();},onBeforeShowItem:function(a){if(a!=this.activeTab){this.setActiveTab(a);return false;}},onItemDisabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).addClass("x-item-disabled");}this.stack.remove(b);},onItemEnabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).removeClass("x-item-disabled");}},onItemTitleChanged:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).child("span.x-tab-strip-text",true).innerHTML=b.title;}},getTabEl:function(a){var b=(typeof a==="number")?this.items.items[a].getItemId():a.getItemId();return document.getElementById(this.id+this.idDelimiter+b);},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates();},beginUpdate:function(){this.suspendUpdates=true;},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates();},hideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="none";this.delegateUpdates();}this.stack.remove(b);},unhideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="";this.delegateUpdates();}},delegateUpdates:function(){if(this.suspendUpdates){return;}if(this.resizeTabs&&this.rendered){this.autoSizeTabs();}if(this.enableTabScroll&&this.rendered){this.autoScrollTabs();}},autoSizeTabs:function(){var n=this.items.length;var g=this.tabPosition!="bottom"?"header":"footer";var h=this[g].dom.offsetWidth;var e=this[g].dom.clientWidth;if(!this.resizeTabs||n<1||!e){return;}var a=Math.max(Math.min(Math.floor((e-4)/n)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=a;var c=this.stripWrap.dom.getElementsByTagName("li");for(var l=0,o=c.length-1;l<o;l++){var b=c[l];var d=b.childNodes[1].firstChild.firstChild;var m=b.offsetWidth;var k=d.offsetWidth;d.style.width=(a-(m-k))+"px";}},adjustBodyWidth:function(a){if(this.header){this.header.setWidth(a);}if(this.footer){this.footer.setWidth(a);}return a;},setActiveTab:function(a){a=this.getComponent(a);if(!a||this.fireEvent("beforetabchange",this,a,this.activeTab)===false){return;}if(!this.rendered){this.activeTab=a;return;}if(this.activeTab!=a){if(this.activeTab){var b=this.getTabEl(this.activeTab);if(b){Ext.fly(b).removeClass("x-tab-strip-active");}this.activeTab.fireEvent("deactivate",this.activeTab);}var c=this.getTabEl(a);Ext.fly(c).addClass("x-tab-strip-active");this.activeTab=a;this.stack.add(a);this.layout.setActiveItem(a);if(this.layoutOnTabChange&&a.doLayout){a.doLayout();}if(this.scrolling){this.scrollToTab(a,this.animScroll);}a.fireEvent("activate",a);this.fireEvent("tabchange",this,a);}},getActiveTab:function(){return this.activeTab||null;},getItem:function(a){return this.getComponent(a);},autoScrollTabs:function(){var i=this.items.length;var e=this.header.dom.offsetWidth;var d=this.header.dom.clientWidth;var h=this.stripWrap;var g=h.dom;var c=g.offsetWidth;var a=this.getScrollPos();var b=this.edge.getOffsetsTo(this.stripWrap)[0]+a;if(!this.enableTabScroll||i<1||c<20){return;}if(b<=d){g.scrollLeft=0;h.setWidth(d);if(this.scrolling){this.scrolling=false;this.header.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir){g.style.marginLeft="";g.style.marginRight="";}}}else{if(!this.scrolling){this.header.addClass("x-tab-scrolling");if(Ext.isAir){g.style.marginLeft="18px";g.style.marginRight="18px";}}d-=h.getMargins("lr");h.setWidth(d>20?d:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers();}else{this.scrollLeft.show();this.scrollRight.show();}}this.scrolling=true;if(a>(b-d)){g.scrollLeft=b-d;}else{this.scrollToTab(this.activeTab,false);}this.updateScrollButtons();}},createScrollers:function(){var a=this.stripWrap.dom.offsetHeight;var b=this.header.insertFirst({cls:"x-tab-scroller-left"});b.setHeight(a);b.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=b;var c=this.header.insertFirst({cls:"x-tab-scroller-right"});c.setHeight(a);c.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(c,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=c;},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos();},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0;},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0;},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this};},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100);},scrollToTab:function(h,c){if(!h){return;}var e=this.getTabEl(h);var b=this.getScrollPos(),g=this.getScrollArea();var a=Ext.fly(e).getOffsetsTo(this.stripWrap)[0]+b;var d=a+e.offsetWidth;if(a<b){this.scrollTo(a,c);}else{if(d>(b+g)){this.scrollTo(d-g,c);}}},scrollTo:function(b,a){this.stripWrap.scrollTo("left",b,a?this.getScrollAnim():false);if(!a){this.updateScrollButtons();}},onWheel:function(a){var b=a.getWheelDelta()*this.wheelIncrement*-1;a.stopEvent();var c=this.getScrollPos();var i=c+b;var g=this.getScrollWidth()-this.getScrollArea();var h=Math.max(0,Math.min(g,i));if(h!=c){this.scrollTo(h,false);}},onScrollRight:function(){var b=this.getScrollWidth()-this.getScrollArea();var a=this.getScrollPos();var c=Math.min(b,a+this.getScrollIncrement());if(c!=a){this.scrollTo(c,this.animScroll);}},onScrollLeft:function(){var b=this.getScrollPos();var a=Math.max(0,b-this.getScrollIncrement());if(a!=b){this.scrollTo(a,this.animScroll);}},updateScrollButtons:function(){var a=this.getScrollPos();this.scrollLeft[a==0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[a>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled");},beforeDestroy:function(){if(this.items){this.items.each(function(a){if(a&&a.tabEl){Ext.get(a.tabEl).removeAllListeners();a.tabEl=null;}},this);}if(this.strip){this.strip.removeAllListeners();}Ext.TabPanel.superclass.beforeDestroy.apply(this);}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var a=[];return{add:function(b){a.push(b);if(a.length>10){a.shift();}},remove:function(e){var d=[];for(var c=0,b=a.length;c<b;c++){if(a[c]!=e){d.push(a[c]);}}a=d;},next:function(){return a.pop();}};};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);}if(typeof this.toggleGroup==="string"){this.enableToggle=true;}},getTemplateArgs:function(){var a=(this.cls||"");a+=this.iconCls?(this.text?" x-btn-text-icon":" x-btn-icon"):" x-btn-noicon";if(this.pressed){a+=" x-btn-pressed";}return[this.text||"&#160;",this.type,this.iconCls||"",a,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass()];},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):"";},onRender:function(a,d){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table cellspacing="0" class="x-btn {3}"><tbody class="{4}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{5}" unselectable="on"><button class="x-btn-text {2}" type="{1}">{0}</button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile();}this.template=Ext.Button.buttonTemplate;}var e,c=this.getTemplateArgs();if(d){e=this.template.insertBefore(d,c,true);}else{e=this.template.append(a,c,true);}var b=e.child(this.buttonSelector);b.on("focus",this.onFocus,this);b.on("blur",this.onBlur,this);this.initButtonEl(e,b);Ext.ButtonToggleMgr.register(this);},initButtonEl:function(c,a){this.el=c;if(this.id){this.el.dom.id=this.el.id=this.id;}if(this.icon){a.setStyle("background-image","url("+this.icon+")");}if(this.tabIndex!==undefined){a.dom.tabIndex=this.tabIndex;}if(this.tooltip){if(typeof this.tooltip=="object"){Ext.QuickTips.register(Ext.apply({target:a.id},this.tooltip));}else{a.dom[this.tooltipType]=this.tooltip;}}if(this.handleMouseEvents){c.on("mouseover",this.onMouseOver,this);c.on("mousedown",this.onMouseDown,this);}if(this.menu){this.menu.on("show",this.onMenuShow,this);this.menu.on("hide",this.onMenuHide,this);}if(this.repeat){var b=new Ext.util.ClickRepeater(c,typeof this.repeat=="object"?this.repeat:{});b.on("click",this.onClick,this);}c.on(this.clickEvent,this.onClick,this);},afterRender:function(){Ext.Button.superclass.afterRender.call(this);if(Ext.isIE6){this.doAutoWidth.defer(1,this);}else{this.doAutoWidth();}},setIconClass:function(a){if(this.el){this.el.child(this.buttonSelector).replaceClass(this.iconCls,a);}this.iconCls=a;},beforeDestroy:function(){if(this.rendered){var a=this.el.child(this.buttonSelector);if(a){if(this.tooltip){Ext.QuickTips.unregister(a);}a.removeAllListeners();}}if(this.menu){Ext.destroy(this.menu);}},onDestroy:function(){if(this.rendered){Ext.ButtonToggleMgr.unregister(this);}},doAutoWidth:function(){if(this.el&&this.text&&typeof this.width=="undefined"){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var a=this.el.child(this.buttonSelector);if(a&&a.getWidth()>20){a.clip();a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr"));}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth);}}}},setHandler:function(b,a){this.handler=b;this.scope=a;},setText:function(a){this.text=a;if(this.el){this.el.child("td.x-btn-mc "+this.buttonSelector).update(a);}this.doAutoWidth();},getText:function(){return this.text;},toggle:function(a){a=a===undefined?!this.pressed:a;if(a!=this.pressed){if(a){this.el.addClass("x-btn-pressed");this.pressed=true;this.fireEvent("toggle",this,true);}else{this.el.removeClass("x-btn-pressed");this.pressed=false;this.fireEvent("toggle",this,false);}if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,a);}}},focus:function(){this.el.child(this.buttonSelector).focus();},onDisable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.addClass(this.disabledClass);}this.el.dom.disabled=true;}this.disabled=true;},onEnable:function(){if(this.el){if(!Ext.isIE6||!this.text){this.el.removeClass(this.disabledClass);}this.el.dom.disabled=false;}this.disabled=false;},showMenu:function(){if(this.menu){this.menu.show(this.el,this.menuAlign);}return this;},hideMenu:function(){if(this.menu){this.menu.hide();}return this;},hasVisibleMenu:function(){return this.menu&&this.menu.isVisible();},onClick:function(a){if(a){a.preventDefault();}if(a.button!=0){return;}if(!this.disabled){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle();}if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu();}this.fireEvent("click",this,a);if(this.handler){this.handler.call(this.scope||this,this,a);}}},isMenuTriggerOver:function(b,a){return this.menu&&!a;},isMenuTriggerOut:function(b,a){return this.menu&&!a;},onMouseOver:function(b){if(!this.disabled){var a=b.within(this.el,true);if(!a){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){Ext.getDoc().on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true;}this.fireEvent("mouseover",this,b);}if(this.isMenuTriggerOver(b,a)){this.fireEvent("menutriggerover",this,this.menu,b);}}},monitorMouseOver:function(a){if(a.target!=this.el.dom&&!a.within(this.el)){if(this.monitoringMouseOver){Ext.getDoc().un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false;}this.onMouseOut(a);}},onMouseOut:function(b){var a=b.within(this.el)&&b.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,b);if(this.isMenuTriggerOut(b,a)){this.fireEvent("menutriggerout",this,this.menu,b);}},onFocus:function(a){if(!this.disabled){this.el.addClass("x-btn-focus");}},onBlur:function(a){this.el.removeClass("x-btn-focus");},getClickEl:function(b,a){return this.el;},onMouseDown:function(a){if(!this.disabled&&a.button==0){this.getClickEl(a).addClass("x-btn-click");Ext.getDoc().on("mouseup",this.onMouseUp,this);}},onMouseUp:function(a){if(a.button==0){this.getClickEl(a,true).removeClass("x-btn-click");Ext.getDoc().un("mouseup",this.onMouseUp,this);}},onMenuShow:function(a){this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu);},onMenuHide:function(a){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);},restoreClick:function(){this.ignoreNextClick=0;}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var a={};function b(k,e){if(e){var c=a[k.toggleGroup];for(var h=0,d=c.length;h<d;h++){if(c[h]!=k){c[h].toggle(false);}}}}return{register:function(c){if(!c.toggleGroup){return;}var d=a[c.toggleGroup];if(!d){d=a[c.toggleGroup]=[];}d.push(c);c.on("toggle",b);},unregister:function(c){if(!c.toggleGroup){return;}var d=a[c.toggleGroup];if(d){d.remove(c);c.un("toggle",b);}},getPressed:function(d){var c=a[d];if(c){for(var h=0,e=c.length;h<e;h++){if(c[h].pressed===true){return c[h];}}}return null;}};}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick");},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){btn.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip;}},setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a;},getMenuClass:function(){return this.menu&&this.arrowAlign!="bottom"?"x-btn-split":"x-btn-split-bottom";},isClickOnArrow:function(a){return this.arrowAlign!="bottom"?a.getPageX()>this.el.child(this.buttonSelector).getRegion().right:a.getPageY()>this.el.child(this.buttonSelector).getRegion().bottom;},onClick:function(b,a){b.preventDefault();if(!this.disabled){if(this.isClickOnArrow(b)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu();}this.fireEvent("arrowclick",this,b);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,b);}}else{if(this.enableToggle){this.toggle();}this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b);}}}},isMenuTriggerOver:function(a){return this.menu&&a.target.tagName=="em";},isMenuTriggerOut:function(b,a){return this.menu&&b.target.tagName!="em";}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(a){if(a&&this.showText===true){var b="";if(this.prependText){b+=this.prependText;}b+=a.text;return b;}return undefined;},setActiveItem:function(a,b){if(typeof a!="object"){a=this.menu.items.get(a);}if(a){if(!this.rendered){this.text=this.getItemText(a);this.iconCls=a.iconCls;}else{var c=this.getItemText(a);if(c){this.setText(c);}this.setIconClass(a.iconCls);}this.activeItem=a;if(!a.checked){a.setChecked(true,true);}if(this.forceIcon){this.setIconClass(this.forceIcon);}if(!b){this.fireEvent("change",this,a);}}},getActiveItem:function(){return this.activeItem;},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler;}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var b;for(var d=0,c=this.itemCount;d<c;d++){var a=this.items[d];a.group=a.group||this.id;a.itemIndex=d;a.checkHandler=this.checkHandler;a.scope=this;a.checked=a.checked||false;this.menu.items.push(a);if(a.checked){b=a;}}this.setActiveItem(b,true);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);},checkHandler:function(a,b){if(b){this.setActiveItem(a);}},toggleSelected:function(){this.menu.render();var a,b;for(var c=1;c<this.itemCount;c++){a=(this.activeItem.itemIndex+c)%this.itemCount;b=this.menu.items.itemAt(a);if(!b.disabled){b.setChecked(true);break;}}}});Ext.reg("cycle",Ext.CycleButton);Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,triggerWidth:16,lastOverflow:false,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',onLayout:function(a,d){if(!this.leftTr){d.addClass("x-toolbar-layout-ct");d.insertHtml("beforeEnd",'<table cellspacing="0" class="x-toolbar-ct"><tbody><tr><td class="x-toolbar-left" align="left"><table cellspacing="0"><tbody><tr class="x-toolbar-left-row"></tr></tbody></table></td><td class="x-toolbar-right" align="right"><table cellspacing="0" class="x-toolbar-right-ct"><tbody><tr><td><table cellspacing="0"><tbody><tr class="x-toolbar-right-row"></tr></tbody></table></td><td><table cellspacing="0"><tbody><tr class="x-toolbar-extras-row"></tr></tbody></table></td></tr></tbody></td></tr></tbody></table>');this.leftTr=d.child("tr.x-toolbar-left-row",true);this.rightTr=d.child("tr.x-toolbar-right-row",true);this.extrasTr=d.child("tr.x-toolbar-extras-row",true);}var e=this.leftTr;var k=0;var g=a.items.items;for(var m=0,b=g.length,h;m<b;m++,k++){h=g[m];if(h.isFill){e=this.rightTr;k=0;}else{if(!h.rendered){h.render(this.insertCell(h,e,k));}else{if(!h.xtbHidden&&!this.isValidParent(h,e.childNodes[k])){var l=this.insertCell(h,e,k);l.appendChild(h.getDomPositionEl().dom);h.container=Ext.get(l);}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(d);},cleanup:function(e){var b=e.childNodes;for(var d=b.length-1,a;d>=0&&(a=b[d]);d--){if(!a.firstChild){e.removeChild(a);}}},insertCell:function(b,d,a){var e=document.createElement("td");e.className="x-toolbar-cell";d.insertBefore(e,d.childNodes[a]||null);return e;},hideItem:function(b){var a=(this.hiddens=this.hiddens||[]);a.push(b);b.xtbHidden=true;b.xtbWidth=b.getDomPositionEl().dom.parentNode.offsetWidth;b.hide();},unhideItem:function(a){a.show();a.xtbHidden=false;this.hiddens.remove(a);if(this.hiddens.length<1){delete this.hiddens;}},getItemWidth:function(a){return a.hidden?(a.xtbWidth||0):a.getDomPositionEl().dom.parentNode.offsetWidth;},fitToSize:function(g){if(this.container.enableOverflow===false){return;}var e=g.dom.clientWidth;var k=this.lastWidth||0;this.lastWidth=e;var l=g.dom.firstChild.offsetWidth;var d=e-this.triggerWidth;var b=-1;if(l>e||(this.hiddens&&e>k)){var m,o=this.container.items.items,n=o.length,a;var h=0;for(m=0;m<n;m++){a=o[m];if(!a.isFill){h+=this.getItemWidth(a);if(h>d){if(!a.xtbHidden){this.hideItem(a);}}else{if(a.xtbHidden){this.unhideItem(a);}}}}}if(this.hiddens){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true;}}else{if(this.more){this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false;}}}},createMenuConfig:function(a,d){var b=Ext.apply({},a.initialConfig);b.hideOnClick=d;delete b.xtype;return b;},addComponentToMenu:function(a,b){if(b instanceof Ext.Toolbar.Separator){a.add("-");}else{if(typeof b.isXType=="function"){if(b.isXType("splitbutton")){a.add(this.createMenuConfig(b,true));}else{if(b.isXType("button")){a.add(this.createMenuConfig(b,!b.menu));}else{if(b.isXType("buttongroup")){a.add("-");b.items.each(function(c){this.addComponentToMenu(a,c);},this);a.add("-");}}}}}},beforeMoreShow:function(g){g.removeAll();for(var a=0,b=this.container.items.items,e=b.length,d;a<e;a++){d=b[a];if(d.xtbHidden){this.addComponentToMenu(g,d);}}if(g.items.length<1){g.add(this.noItemsMenuText);}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu});var a=this.insertCell(this.more,this.extrasTr,100);this.more.render(a);}}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.Toolbar=function(a){if(Ext.isArray(a)){a={items:a,layout:"toolbar"};}else{a=Ext.apply({layout:"toolbar"},a);if(a.buttons){a.items=a.buttons;}}Ext.Toolbar.superclass.constructor.call(this,a);};(function(){var a=Ext.Toolbar;Ext.extend(a,Ext.Container,{defaultType:"button",trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){a.superclass.initComponent.call(this);this.addEvents("overflowchange");},onRender:function(c,b){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"};}this.el=c.createChild(Ext.apply({id:this.id},this.autoCreate),b);}},add:function(){var c=arguments,b=c.length;for(var d=0;d<b;d++){var e=c[d];if(e.isFormField){this.addField(e);}else{if(e.render){this.addItem(e);}else{if(typeof e=="string"){if(e=="separator"||e=="-"){this.addSeparator();}else{if(e==" "){this.addSpacer();}else{if(e=="->"){this.addFill();}else{this.addText(e);}}}}else{if(e.tag){this.addDom(e);}else{if(e.tagName){this.addElement(e);}else{if(typeof e=="object"){if(e.xtype){this.addItem(Ext.create(e,"button"));}else{this.addButton(e);}}}}}}}}},addSeparator:function(){return this.addItem(new a.Separator());},addSpacer:function(){return this.addItem(new a.Spacer());},addFill:function(){this.addItem(new a.Fill());},addElement:function(b){var c=new a.Item({el:b});this.addItem(c);return c;},addItem:function(b){Ext.Toolbar.superclass.add.apply(this,arguments);return b;},addButton:function(e){if(Ext.isArray(e)){var d=[];for(var g=0,c=e.length;g<c;g++){d.push(this.addButton(e[g]));}return d;}var b=e;if(!b.events){b=e.split?new a.SplitButton(e):new a.Button(e);}this.initMenuTracking(b);this.addItem(b);return b;},initMenuTracking:function(b){if(this.trackMenus&&b.menu){b.on({menutriggerover:this.onButtonTriggerOver,menushow:this.onButtonMenuShow,menuhide:this.onButtonMenuHide,scope:this});}},addText:function(c){var b=new a.TextItem(c);this.addItem(b);return b;},insertButton:function(c,g){if(Ext.isArray(g)){var e=[];for(var d=0,b=g.length;d<b;d++){e.push(this.insertButton(c+d,g[d]));}return e;}if(!(g instanceof a.Button)){g=new a.Button(g);}Ext.Toolbar.superclass.insert.call(this,c,g);return g;},addDom:function(b){var c=new a.Item({autoEl:b});this.addItem(c);return c;},addField:function(b){this.addItem(b);return b;},applyDefaults:function(d){d=Ext.Toolbar.superclass.applyDefaults.call(this,d);var b=this.internalDefaults;if(d.events){Ext.applyIf(d.initialConfig,b);Ext.apply(d,b);}else{Ext.applyIf(d,b);}return d;},onDisable:function(){this.items.each(function(b){if(b.disable){b.disable();}});},onEnable:function(){this.items.each(function(b){if(b.enable){b.enable();}});},onButtonTriggerOver:function(b){if(this.activeMenuBtn&&this.activeMenuBtn!=b){this.activeMenuBtn.hideMenu();b.showMenu();this.activeMenuBtn=b;}},onButtonMenuShow:function(b){this.activeMenuBtn=b;},onButtonMenuHide:function(b){delete this.activeMenuBtn;}});Ext.reg("toolbar",Ext.Toolbar);a.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",a.Item);a.Separator=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"span",cls:"xtb-sep"},b);}});Ext.reg("tbseparator",a.Separator);a.Spacer=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},b);}});Ext.reg("tbspacer",a.Spacer);a.Fill=Ext.extend(a.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",a.Fill);a.TextItem=Ext.extend(a.Item,{constructor:function(b){if(typeof b=="string"){b={autoEl:{cls:"xtb-text",html:b}};}else{b.autoEl={cls:"xtb-text",html:b.text||""};}a.TextItem.superclass.constructor.call(this,b);},setText:function(b){if(this.rendered){this.el.dom.innerHTML=b;}else{this.autoEl.html=b;}}});Ext.reg("tbtext",a.TextItem);a.Button=Ext.extend(Ext.Button,{});a.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",a.Button);Ext.reg("tbsplit",a.SplitButton);})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle");}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this);},applyDefaults:function(b){b=Ext.ButtonGroup.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a);}else{Ext.applyIf(b,a);}return b;},onAfterLayout:function(){var a=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(a);this.el.setWidth(a+this.getFrameWidth());}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var a=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",paramNames:{start:"start",limit:"limit"},constructor:function(b){var d=[this.first=new a.Button({tooltip:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.onClick,scope:this}),this.prev=new a.Button({tooltip:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.onClick,scope:this}),"-",this.beforePageText,this.inputItem=new a.Item({height:18,autoEl:{tag:"input",type:"text",size:"3",value:"1",cls:"x-tbar-page-number"}}),this.afterTextItem=new a.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new a.Button({tooltip:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.onClick,scope:this}),this.last=new a.Button({tooltip:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.onClick,scope:this}),"-",this.refresh=new a.Button({tooltip:this.refreshText,iconCls:"x-tbar-loading",handler:this.onClick,scope:this})];var c=b.items||b.buttons||[];if(b.prependButtons){b.items=c.concat(d);}else{b.items=d.concat(c);}delete b.buttons;if(b.displayInfo){b.items.push("->");b.items.push(this.displayItem=new a.TextItem({}));}Ext.PagingToolbar.superclass.constructor.apply(this,arguments);this.addEvents("change","beforechange");this.cursor=0;this.bind(this.store);this.on("afterlayout",this.onFirstLayout,this,{single:true});},onFirstLayout:function(b){this.inputItem.el.on({keydown:{fn:this.onPagingKeydown,scope:this},focus:function(){this.select();}});this.field=this.inputItem.el.dom;if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded);}},updateInfo:function(){if(this.displayItem){var b=this.store.getCount();var c=b==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+b,this.store.getTotalCount());this.displayItem.setText(c);}},onLoad:function(e,b,h){if(!this.rendered){this.dsLoaded=[e,b,h];return;}this.cursor=(h.params&&h.params[this.paramNames.start])?h.params[this.paramNames.start]:0;var g=this.getPageData(),i=g.activePage,c=g.pages;this.afterTextItem.setText(String.format(this.afterPageText,g.pages));this.field.value=i;this.first.setDisabled(i==1);this.prev.setDisabled(i==1);this.next.setDisabled(i==c);this.last.setDisabled(i==c);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,g);},getPageData:function(){var b=this.store.getTotalCount();return{total:b,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:b<this.pageSize?1:Math.ceil(b/this.pageSize)};},changePage:function(b){this.doLoad(((b-1)*this.pageSize).constrain(0,this.store.getTotalCount()));},onLoadError:function(){if(!this.rendered){return;}this.refresh.enable();},readPage:function(e){var b=this.field.value,c;if(!b||isNaN(c=parseInt(b,10))){this.field.value=e.activePage;return false;}return c;},onPagingKeydown:function(h){var c=h.getKey(),i=this.getPageData(),g;if(c==h.RETURN){h.stopEvent();g=this.readPage(i);if(g!==false){g=Math.min(Math.max(1,g),i.pages)-1;this.doLoad(g*this.pageSize);}}else{if(c==h.HOME||c==h.END){h.stopEvent();g=c==h.HOME?1:i.pages;this.field.value=g;}else{if(c==h.UP||c==h.PAGEUP||c==h.DOWN||c==h.PAGEDOWN){h.stopEvent();if(g=this.readPage(i)){var b=h.shiftKey?10:1;if(c==h.DOWN||c==h.PAGEDOWN){b*=-1;}g+=b;if(g>=1&g<=i.pages){this.field.value=g;}}}}}},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable();}},doLoad:function(d){var c={},b=this.paramNames;c[b.start]=d;c[b.limit]=this.pageSize;if(this.fireEvent("beforechange",this,c)!==false){this.store.load({params:c});}},onClick:function(d){var c=this.store;switch(d){case this.first:this.doLoad(0);break;case this.prev:this.doLoad(Math.max(0,this.cursor-this.pageSize));break;case this.next:this.doLoad(this.cursor+this.pageSize);break;case this.last:var g=c.getTotalCount();var b=g%this.pageSize;var e=b?(g-b):g-this.pageSize;this.doLoad(e);break;case this.refresh:this.doLoad(this.cursor);break;}},unbind:function(b){b=Ext.StoreMgr.lookup(b);b.un("beforeload",this.beforeLoad,this);b.un("load",this.onLoad,this);b.un("loadexception",this.onLoadError,this);this.store=undefined;},bind:function(b){b=Ext.StoreMgr.lookup(b);b.on("beforeload",this.beforeLoad,this);b.on("load",this.onLoad,this);b.on("loadexception",this.onLoadError,this);this.store=b;this.paramNames.start=b.paramNames.start;this.paramNames.limit=b.paramNames.limit;},onDestroy:function(){if(this.store){this.unbind(this.store);}Ext.PagingToolbar.superclass.onDestroy.call(this);}});})();Ext.reg("paging",Ext.PagingToolbar);Ext.Resizable=function(h,k){this.el=Ext.get(h);if(k&&k.wrap){k.resizeChild=this.el;this.el=this.el.wrap(typeof k.wrap=="object"?k.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=k.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(k.resizeChild.getPositioning());k.resizeChild.clearPositioning();if(!k.width||!k.height){var l=k.resizeChild.getSize();this.el.setSize(l.width,l.height);}if(k.pinned&&!k.adjustments){k.adjustments="auto";}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,k);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned");}var o=this.el.getStyle("position");if(o!="absolute"&&o!="fixed"){this.el.setStyle("position","relative");}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w";}}if(this.handles=="all"){this.handles="n s e w ne nw se sw";}var e=this.handles.split(/\s*?[,;]\s*?| /);var g=Ext.Resizable.positions;for(var n=0,p=e.length;n<p;n++){if(e[n]&&g[e[n]]){var b=g[e[n]];this[b]=new Ext.Resizable.Handle(this,b,this.disableTrackOver,this.transparent);}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true;}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true);}else{this.resizeChild=Ext.get(this.resizeChild,true);}}if(this.adjustments=="auto"){var d=this.resizeChild;var a=this.west,m=this.east,c=this.north,e=this.south;if(d&&(a||c)){d.position("relative");d.setLeft(a?a.el.getWidth():0);d.setTop(c?c.el.getHeight():0);}this.adjustments=[(m?-m.el.getWidth():0)+(a?-a.el.getWidth():0),(c?-c.el.getHeight():0)+(e?-e.el.getHeight():0)-1];}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height);}else{this.updateChildSize();}if(Ext.isIE){this.el.dom.style.zoom=1;}Ext.Resizable.superclass.constructor.call(this);};Ext.extend(Ext.Resizable,Ext.util.Observable,{resizeChild:false,adjustments:[0,0],minWidth:5,minHeight:5,maxWidth:10000,maxHeight:10000,enabled:true,animate:false,duration:0.35,dynamic:false,handles:false,multiDirectional:false,disableTrackOver:false,easing:"easeOutStrong",widthIncrement:0,heightIncrement:0,pinned:false,width:null,height:null,preserveRatio:false,transparent:false,minX:0,minY:0,draggable:false,resizeTo:function(b,a){this.el.setSize(b,a);this.updateChildSize();this.fireEvent("resize",this,b,a,null);},startSizing:function(a,c){this.fireEvent("beforeresize",this,a);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on("mousemove",this.onMouseMove,this);this.overlay.on("mouseup",this.onMouseUp,this);}this.overlay.setStyle("cursor",c.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=a.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var b=Ext.get(this.constrainTo);this.resizeRegion=b.getRegion().adjust(b.getFrameWidth("t"),b.getFrameWidth("l"),-b.getFrameWidth("b"),-b.getFrameWidth("r"));}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible");}}},onMouseDown:function(a,b){if(this.enabled){b.stopEvent();this.activeHandle=a;this.startSizing(b,a);}},onMouseUp:function(b){var a=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,a.width,a.height,b);},updateChildSize:function(){if(this.resizeChild){var d=this.el;var e=this.resizeChild;var c=this.adjustments;if(d.dom.offsetWidth){var a=d.getSize(true);e.setSize(a.width+c[0],a.height+c[1]);}if(Ext.isIE){setTimeout(function(){if(d.dom.offsetWidth){var b=d.getSize(true);e.setSize(b.width+c[0],b.height+c[1]);}},10);}}},snap:function(a,c,e){if(!c||!a){return a;}var b=a;var d=a%c;if(d>0){if(d>(c/2)){b=a+(c-d);}else{b=a-d;}}return Math.max(e,b);},resizeElement:function(){var a=this.proxy.getBox();if(this.updateBox){this.el.setBox(a,false,this.animate,this.duration,null,this.easing);}else{this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing);}this.updateChildSize();if(!this.dynamic){this.proxy.hide();}return a;},constrain:function(d,a,c,b){if(d-a<c){a=d-c;}else{if(d-a>b){a=b-d;}}return a;},onMouseMove:function(E){if(this.enabled){try{if(this.resizeRegion&&!this.resizeRegion.contains(E.getPoint())){return;}var A=this.curSize||this.startBox;var m=this.startBox.x,l=this.startBox.y;var c=m,b=l;var n=A.width,D=A.height;var d=n,p=D;var o=this.minWidth,q=this.minHeight;var t=this.maxWidth,B=this.maxHeight;var i=this.widthIncrement;var a=this.heightIncrement;var r=E.getXY();var C=-(this.startPoint[0]-Math.max(this.minX,r[0]));var s=-(this.startPoint[1]-Math.max(this.minY,r[1]));var k=this.activeHandle.position;switch(k){case"east":n+=C;n=Math.min(Math.max(o,n),t);break;case"south":D+=s;D=Math.min(Math.max(q,D),B);break;case"southeast":n+=C;D+=s;n=Math.min(Math.max(o,n),t);D=Math.min(Math.max(q,D),B);break;case"north":s=this.constrain(D,s,q,B);l+=s;D-=s;break;case"west":C=this.constrain(n,C,o,t);m+=C;n-=C;break;case"northeast":n+=C;n=Math.min(Math.max(o,n),t);s=this.constrain(D,s,q,B);l+=s;D-=s;break;case"northwest":C=this.constrain(n,C,o,t);s=this.constrain(D,s,q,B);l+=s;D-=s;m+=C;n-=C;break;case"southwest":C=this.constrain(n,C,o,t);D+=s;D=Math.min(Math.max(q,D),B);m+=C;n-=C;break;}var v=this.snap(n,i,o);var z=this.snap(D,a,q);if(v!=n||z!=D){switch(k){case"northeast":l-=z-D;break;case"north":l-=z-D;break;case"southwest":m-=v-n;break;case"west":m-=v-n;break;case"northwest":m-=v-n;l-=z-D;break;}n=v;D=z;}if(this.preserveRatio){switch(k){case"southeast":case"east":D=p*(n/d);D=Math.min(Math.max(q,D),B);n=d*(D/p);break;case"south":n=d*(D/p);n=Math.min(Math.max(o,n),t);D=p*(n/d);break;case"northeast":n=d*(D/p);n=Math.min(Math.max(o,n),t);D=p*(n/d);break;case"north":var u=n;n=d*(D/p);n=Math.min(Math.max(o,n),t);D=p*(n/d);m+=(u-n)/2;break;case"southwest":D=p*(n/d);D=Math.min(Math.max(q,D),B);var u=n;n=d*(D/p);m+=u-n;break;case"west":var g=D;D=p*(n/d);D=Math.min(Math.max(q,D),B);l+=(g-D)/2;var u=n;n=d*(D/p);m+=u-n;break;case"northwest":var u=n;var g=D;D=p*(n/d);D=Math.min(Math.max(q,D),B);n=d*(D/p);l+=g-D;m+=u-n;break;}}this.proxy.setBounds(m,l,n,D);if(this.dynamic){this.resizeElement();}}catch(E){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over");}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over");}},getEl:function(){return this.el;},getResizeChild:function(){return this.resizeChild;},destroy:function(c){if(this.dd){this.dd.destroy();}if(this.overlay){Ext.destroy(this.overlay);this.overlay=null;}Ext.destroy(this.proxy);this.proxy=null;var a=Ext.Resizable.positions;for(var b in a){if(typeof a[b]!="function"&&this[a[b]]){this[a[b]].destroy();}}if(c){this.el.update("");Ext.destroy(this.el);this.el=null;}},syncHandleHeight:function(){var a=this.el.getHeight(true);if(this.west){this.west.el.setHeight(a);}if(this.east){this.east.el.setHeight(a);}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=function(a,c,e,b){if(!this.tpl){var d=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});d.compile();Ext.Resizable.Handle.prototype.tpl=d;}this.position=c;this.rz=a;this.el=this.tpl.append(a.el.dom,[this.position],true);this.el.unselectable();if(b){this.el.setOpacity(0);}this.el.on("mousedown",this.onMouseDown,this);if(!e){this.el.on("mouseover",this.onMouseOver,this);this.el.on("mouseout",this.onMouseOut,this);}};Ext.Resizable.Handle.prototype={afterResize:function(a){},onMouseDown:function(a){this.rz.onMouseDown(this,a);},onMouseOver:function(a){this.rz.handleOver(this,a);},onMouseOut:function(a){this.rz.handleOut(this,a);},destroy:function(){Ext.destroy(this.el);this.el=null;}};Ext.Editor=function(b,a){if(b.field){this.field=Ext.create(b.field,"textfield");a=Ext.apply({},b);delete a.field;}else{this.field=b;}Ext.Editor.superclass.constructor.call(this,a);};Ext.extend(Ext.Editor,Ext.Component,{value:"",alignment:"c-c?",shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:false,cancelOnEsc:false,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey");},onRender:function(b,a){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:b,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex);}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip";}this.field.inEditor=true;this.field.render(this.el);if(Ext.isGecko){this.field.el.dom.setAttribute("autocomplete","off");}this.field.on("specialkey",this.onSpecialKey,this);if(this.swallowKeys){this.field.el.swallowEvent(["keydown","keypress"]);}this.field.show();this.field.on("blur",this.onBlur,this);if(this.field.grow){this.field.on("autosize",this.el.sync,this.el,{delay:1});}},onSpecialKey:function(a,c){var b=c.getKey();if(this.completeOnEnter&&b==c.ENTER){c.stopEvent();this.completeEdit();}else{if(this.cancelOnEsc&&b==c.ESC){this.cancelEdit();}else{this.fireEvent("specialkey",a,c);}}if(this.field.triggerBlur&&(b==c.ENTER||b==c.ESC||b==c.TAB)){this.field.triggerBlur();}},startEdit:function(c,a){if(this.editing){this.completeEdit();}this.boundEl=Ext.get(c);var b=a!==undefined?a:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body);}if(this.fireEvent("beforestartedit",this,this.boundEl,b)===false){return;}this.startValue=b;this.field.setValue(b);this.doAutoSize();this.el.alignTo(this.boundEl,this.alignment);this.editing=true;this.show();},doAutoSize:function(){if(this.autoSize){var a=this.boundEl.getSize();switch(this.autoSize){case"width":this.setSize(a.width,"");break;case"height":this.setSize("",a.height);break;default:this.setSize(a.width,a.height);}}},setSize:function(a,b){delete this.field.lastSize;this.field.setSize(a,b);if(this.el){if(Ext.isGecko2||Ext.isOpera){this.el.setSize(a,b);}this.el.sync();}},realign:function(){this.el.alignTo(this.boundEl,this.alignment);},completeEdit:function(a){if(!this.editing){return;}var b=this.getValue();if(this.revertInvalid!==false&&!this.field.isValid()){b=this.startValue;this.cancelEdit(true);}if(String(b)===String(this.startValue)&&this.ignoreNoChange){this.editing=false;this.hide();return;}if(this.fireEvent("beforecomplete",this,b,this.startValue)!==false){this.editing=false;if(this.updateEl&&this.boundEl){this.boundEl.update(b);}if(a!==true){this.hide();}this.fireEvent("complete",this,b,this.startValue);}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide();}this.field.show();if(Ext.isIE&&!this.fixIEFocus){this.fixIEFocus=true;this.deferredFocus.defer(50,this);}else{this.field.focus();}this.fireEvent("startedit",this.boundEl,this.startValue);},deferredFocus:function(){if(this.editing){this.field.focus();}},cancelEdit:function(a){if(this.editing){var b=this.getValue();this.setValue(this.startValue);if(a!==true){this.hide();}this.fireEvent("canceledit",this,b,this.startValue);}},onBlur:function(){if(this.allowBlur!==true&&this.editing){this.completeEdit();}},onHide:function(){if(this.editing){this.completeEdit();return;}this.field.blur();if(this.field.collapse){this.field.collapse();}this.el.hide();if(this.hideEl!==false){this.boundEl.show();}},setValue:function(a){this.field.setValue(a);},getValue:function(){return this.field.getValue();},beforeDestroy:function(){Ext.destroy(this.field);this.field=null;}});Ext.reg("editor",Ext.Editor);Ext.MessageBox=function(){var k,b,t,h;var i,p,v,a,q,s,l,g;var u,m,r,c="";var d=function(w){if(k.isVisible()){k.hide();Ext.callback(b.fn,b.scope||window,[w,m.dom.value,b],1);}};var o=function(){if(b&&b.cls){k.el.removeClass(b.cls);}q.reset();};var e=function(y,w,x){if(b&&b.closable!==false){k.hide();}if(x){x.stopEvent();}};var n=function(w){var y=0;if(!w){u.ok.hide();u.cancel.hide();u.yes.hide();u.no.hide();return y;}k.footer.dom.style.display="";for(var x in u){if(typeof u[x]!="function"){if(w[x]){u[x].show();u[x].setText(typeof w[x]=="string"?w[x]:Ext.MessageBox.buttonText[x]);y+=u[x].el.getWidth()+15;}else{u[x].hide();}}}return y;};return{getDialog:function(w){if(!k){k=new Ext.Window({autoCreate:true,title:w,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(b&&b.buttons&&b.buttons.no&&!b.buttons.cancel){d("no");}else{d("cancel");}}});u={};var x=this.buttonText;u.ok=k.addButton(x.ok,d.createCallback("ok"));u.yes=k.addButton(x.yes,d.createCallback("yes"));u.no=k.addButton(x.no,d.createCallback("no"));u.cancel=k.addButton(x.cancel,d.createCallback("cancel"));u.ok.hideMode=u.yes.hideMode=u.no.hideMode=u.cancel.hideMode="offsets";k.render(document.body);k.getEl().addClass("x-window-dlg");t=k.mask;i=k.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});l=Ext.get(i.dom.firstChild);var y=i.dom.childNodes[1];p=Ext.get(y.firstChild);v=Ext.get(y.childNodes[2].firstChild);v.enableDisplayMode();v.addKeyListener([10,13],function(){if(k.isVisible()&&b&&b.buttons){if(b.buttons.ok){d("ok");}else{if(b.buttons.yes){d("yes");}}}});a=Ext.get(y.childNodes[2].childNodes[1]);a.enableDisplayMode();q=new Ext.ProgressBar({renderTo:i});i.createChild({cls:"x-clear"});}return k;},updateText:function(w){if(!k.isVisible()&&!b.width){k.setSize(this.maxWidth,100);}p.update(w||"&#160;");var y=c!=""?(l.getWidth()+l.getMargins("lr")):0;var A=p.getWidth()+p.getMargins("lr");var B=k.getFrameWidth("lr");var z=k.body.getFrameWidth("lr");if(Ext.isIE&&y>0){y+=3;}var x=Math.max(Math.min(b.width||y+A+B+z,this.maxWidth),Math.max(b.minWidth||this.minWidth,r||0));if(b.prompt===true){m.setWidth(x-y-B-z);}if(b.progress===true||b.wait===true){q.setSize(x-y-B-z);}k.setSize(x,"auto").center();return this;},updateProgress:function(x,w,y){q.updateProgress(x,w);if(y){this.updateText(y);}return this;},isVisible:function(){return k&&k.isVisible();},hide:function(){if(this.isVisible()){k.hide();o();}return this;},show:function(z){if(this.isVisible()){this.hide();}b=z;var w=this.getDialog(b.title||"&#160;");w.setTitle(b.title||"&#160;");var A=(b.closable!==false&&b.progress!==true&&b.wait!==true);w.tools.close.setDisplayed(A);m=v;b.prompt=b.prompt||(b.multiline?true:false);if(b.prompt){if(b.multiline){v.hide();a.show();a.setHeight(typeof b.multiline=="number"?b.multiline:this.defaultTextHeight);m=a;}else{v.show();a.hide();}}else{v.hide();a.hide();}m.dom.value=b.value||"";if(b.prompt){w.focusEl=m;}else{var y=b.buttons;var x=null;if(y&&y.ok){x=u.ok;}else{if(y&&y.yes){x=u.yes;}}if(x){w.focusEl=x;}}if(b.iconCls){w.setIconClass(b.iconCls);}this.setIcon(b.icon);r=n(b.buttons);q.setVisible(b.progress===true||b.wait===true);this.updateProgress(0,b.progressText);this.updateText(b.msg);if(b.cls){w.el.addClass(b.cls);}w.proxyDrag=b.proxyDrag===true;w.modal=b.modal!==false;w.mask=b.modal!==false?t:false;if(!w.isVisible()){document.body.appendChild(k.el.dom);w.setAnimateTarget(b.animEl);w.show(b.animEl);}w.on("show",function(){if(A===true){w.keyMap.enable();}else{w.keyMap.disable();}},this,{single:true});if(b.wait===true){q.wait(b.waitConfig);}return this;},setIcon:function(w){if(w&&w!=""){l.removeClass("x-hidden");l.replaceClass(c,w);c=w;}else{l.replaceClass(c,"x-hidden");c="";}return this;},progress:function(y,x,w){this.show({title:y,msg:x,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:w});return this;},wait:function(y,x,w){this.show({title:x,msg:y,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:w});return this;},alert:function(z,y,x,w){this.show({title:z,msg:y,buttons:this.OK,fn:x,scope:w});return this;},confirm:function(z,y,x,w){this.show({title:z,msg:y,buttons:this.YESNO,fn:x,scope:w,icon:this.QUESTION});return this;},prompt:function(y,w,z,x,B,A){this.show({title:y,msg:w,buttons:this.OKCANCEL,fn:z,minWidth:250,scope:x,prompt:true,multiline:B,value:A});return this;},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}};}();Ext.Msg=Ext.MessageBox;Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header";}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this});}},showAt:function(a){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth();}if(this.constrainPosition){a=this.el.adjustForConstraints(a);}this.setPagePosition(a[0],a[1]);},doAutoWidth:function(){var a=this.body.getTextWidth();if(this.title){a=Math.max(a,this.header.child("span").getTextWidth(this.title));}a+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr");this.setWidth(a.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true;}},showBy:function(a,b){if(!this.rendered){this.render(Ext.getBody());}this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign));},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable");}});Ext.Tip.DD=function(b,a){Ext.apply(this,a);this.tip=b;Ext.Tip.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false;};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow();},endDrag:function(a){this.tip.el.enableShadow(true);}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,mouseOffset:[15,18],trackMouse:false,constrainPosition:true,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget();},initTarget:function(){if(this.target){this.target=Ext.get(this.target);this.target.on("mouseover",this.onTargetOver,this);this.target.on("mouseout",this.onTargetOut,this);this.target.on("mousemove",this.onMouseMove,this);}},onMouseMove:function(a){this.targetXY=a.getXY();if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY());}},getTargetXY:function(){return[this.targetXY[0]+this.mouseOffset[0],this.targetXY[1]+this.mouseOffset[1]];},onTargetOver:function(a){if(this.disabled||a.within(this.target.dom,true)){return;}this.clearTimer("hide");this.targetXY=a.getXY();this.delayShow();},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show();}else{this.showTimer=this.show.defer(this.showDelay,this);}}else{if(!this.hidden&&this.autoHide!==false){this.show();}}},onTargetOut:function(a){if(this.disabled||a.within(this.target.dom,true)){return;}this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this);}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();Ext.ToolTip.superclass.hide.call(this);},show:function(){this.showAt(this.getTargetXY());},showAt:function(a){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,a);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this);}},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a];},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide");},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this);},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this);},onDocMouseDown:function(a){if(this.autoHide!==false&&!a.within(this.el.dom)){this.disable();this.enable.defer(100,this);}},onDisable:function(){this.clearTimers();this.hide();},adjustPosition:function(c,b){var a=this.targetXY[1],d=this.getSize().height;if(this.constrainPosition&&b<=a&&(b+d)>=a){b=a-d-5;}return{x:c,y:b};},onDestroy:function(){Ext.ToolTip.superclass.onDestroy.call(this);if(this.target){this.target.un("mouseover",this.onTargetOver,this);this.target.un("mouseout",this.onTargetOut,this);this.target.un("mousemove",this.onMouseMove,this);}}});Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this);},register:function(e){var h=Ext.isArray(e)?e:arguments;for(var g=0,a=h.length;g<a;g++){var b=h[g];var l=b.target;if(l){if(Ext.isArray(l)){for(var d=0,k=l.length;d<k;d++){this.targets[Ext.id(l[d])]=b;}}else{this.targets[Ext.id(l)]=b;}}}},unregister:function(a){delete this.targets[Ext.id(a)];},onTargetOver:function(b){if(this.disabled){return;}this.targetXY=b.getXY();var g=b.getTarget();if(!g||g.nodeType!==1||g==document||g==document.body){return;}if(this.activeTarget&&g==this.activeTarget.el){this.clearTimer("hide");this.show();return;}if(g&&this.targets[g.id]){this.activeTarget=this.targets[g.id];this.activeTarget.el=g;this.delayShow();return;}var i,a=Ext.fly(g),d=this.tagConfig;var h=d.namespace;if(this.interceptTitles&&g.title){i=g.title;g.qtip=i;g.removeAttribute("title");b.preventDefault();}else{i=g.qtip||a.getAttributeNS(h,d.attribute);}if(i){var c=a.getAttributeNS(h,d.hide);this.activeTarget={el:g,text:i,width:a.getAttributeNS(h,d.width),autoHide:c!="user"&&c!=="false",title:a.getAttributeNS(h,d.title),cls:a.getAttributeNS(h,d.cls),align:a.getAttributeNS(h,d.align)};this.delayShow();}},onTargetOut:function(a){this.clearTimer("show");if(this.autoHide!==false){this.delayHide();}},showAt:function(b){var a=this.activeTarget;if(a){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=a;}if(a.width){this.setWidth(a.width);this.body.setWidth(this.adjustBodyWidth(a.width-this.getFrameWidth()));this.measureWidth=false;}else{this.measureWidth=true;}this.setTitle(a.title||"");this.body.update(a.text);this.autoHide=a.autoHide;this.dismissDelay=a.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls;}if(a.cls){this.el.addClass(a.cls);this.lastCls=a.cls;}if(a.align){b=this.el.getAlignToXY(a.el,a.align);this.constrainPosition=false;}else{this.constrainPosition=true;}}Ext.QuickTip.superclass.showAt.call(this,b);},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this);}});Ext.QuickTips=function(){var b,a=[];return{init:function(c){if(!b){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(c);});return;}b=new Ext.QuickTip({elements:"header,body"});if(c!==false){b.render(Ext.getBody());}}},enable:function(){if(b){a.pop();if(a.length<1){b.enable();}}},disable:function(){if(b){b.disable();}a.push(1);},isEnabled:function(){return b!==undefined&&!b.disabled;},getQuickTip:function(){return b;},register:function(){b.register.apply(b,arguments);},unregister:function(){b.unregister.apply(b,arguments);},tips:function(){b.register.apply(b,arguments);}};}();Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this);}var a=this.loader;if(!a){a=new Ext.tree.TreeLoader({dataUrl:this.dataUrl});}else{if(typeof a=="object"&&!a.load){a=new Ext.tree.TreeLoader(a);}}this.loader=a;this.nodeHash={};if(this.root){this.setRootNode(this.root);}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this);}},proxyNodeEvent:function(e,d,c,b,a,h,g){if(e=="collapse"||e=="expand"||e=="beforecollapse"||e=="beforeexpand"||e=="move"||e=="beforemove"){e=e+"node";}return this.fireEvent(e,d,c,b,a,h,g);},getRootNode:function(){return this.root;},setRootNode:function(b){if(!b.render){b=this.loader.createNode(b);}this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);if(!this.rootVisible){var a=b.attributes.uiProvider;b.ui=a?new a(b):new Ext.tree.RootTreeNodeUI(b);}return b;},getNodeById:function(a){return this.nodeHash[a];},registerNode:function(a){this.nodeHash[a.id]=a;},unregisterNode:function(a){delete this.nodeHash[a.id];},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]";},restrictExpand:function(a){var b=a.parentNode;if(b){if(b.expandedChild&&b.expandedChild.parentNode==b){b.expandedChild.collapse();}b.expandedChild=a;}},getChecked:function(b,c){c=c||this.root;var d=[];var e=function(){if(this.attributes.checked){d.push(!b?this:(b=="id"?this.id:this.attributes[b]));}};c.cascade(e);return d;},getEl:function(){return this.el;},getLoader:function(){return this.loader;},expandAll:function(){this.root.expand(true);},collapseAll:function(){this.root.collapse(true);},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel();}return this.selModel;},expandPath:function(a,c,b){c=c||"id";var g=a.split(this.pathSeparator);var e=this.root;if(e.attributes[c]!=g[1]){if(b){b(false,null);}return;}var d=1;var h=function(){if(++d==g.length){if(b){b(true,e);}return;}var i=e.findChild(c,g[d]);if(!i){if(b){b(false,e);}return;}e=i;i.expand(false,false,h);};e.expand(false,false,h);},selectPath:function(b,d,c){d=d||"id";var g=b.split(this.pathSeparator);var e=g.pop();if(g.length>0){var a=function(h,k){if(h&&k){var i=k.findChild(d,e);if(i){i.select();if(c){c(true,i);}}else{if(c){c(false,i);}}}else{if(c){c(false,i);}}};this.expandPath(g.join(this.pathSeparator),d,a);}else{this.root.select();if(c){c(true,this.root);}}},getTreeEl:function(){return this.body;},onRender:function(b,a){Ext.tree.TreePanel.superclass.onRender.call(this,b,a);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")});},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body);}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true});}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll});}this.getSelectionModel().init(this);},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.root.render();if(!this.rootVisible){this.root.renderChildren();}},onDestroy:function(){if(this.rendered){this.body.removeAllListeners();Ext.dd.ScrollManager.unregister(this.body);if(this.dropZone){this.dropZone.unreg();}if(this.dragZone){this.dragZone.unreg();}}this.root.destroy();this.nodeHash=null;Ext.tree.TreePanel.superclass.onDestroy.call(this);}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(a){this.tree=a;this.tree.on("render",this.initEvents,this);};Ext.tree.TreeEventModel.prototype={initEvents:function(){var a=this.tree.getTreeEl();a.on("click",this.delegateClick,this);if(this.tree.trackMouseOver!==false){a.on("mouseover",this.delegateOver,this);a.on("mouseout",this.delegateOut,this);}a.on("dblclick",this.delegateDblClick,this);a.on("contextmenu",this.delegateContextMenu,this);},getNode:function(c){var b;if(b=c.getTarget(".x-tree-node-el",10)){var a=Ext.fly(b,"_treeEvents").getAttributeNS("ext","tree-node-id");if(a){return this.tree.getNodeById(a);}}return null;},getNodeTarget:function(b){var a=b.getTarget(".x-tree-node-icon",1);if(!a){a=b.getTarget(".x-tree-node-el",6);}return a;},delegateOut:function(c,b){if(!this.beforeEvent(c)){return;}if(c.getTarget(".x-tree-ec-icon",1)){var a=this.getNode(c);this.onIconOut(c,a);if(a==this.lastEcOver){delete this.lastEcOver;}}if((b=this.getNodeTarget(c))&&!c.within(b,true)){this.onNodeOut(c,this.getNode(c));}},delegateOver:function(b,a){if(!this.beforeEvent(b)){return;}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true;}if(this.lastEcOver){this.onIconOut(b,this.lastEcOver);delete this.lastEcOver;}if(b.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(b);this.onIconOver(b,this.lastEcOver);}if(a=this.getNodeTarget(b)){this.onNodeOver(b,this.getNode(b));}},trackExit:function(a){if(this.lastOverNode&&!a.within(this.lastOverNode.ui.getEl())){this.onNodeOut(a,this.lastOverNode);delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false;}},delegateClick:function(b,a){if(!this.beforeEvent(b)){return;}if(b.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(b,this.getNode(b));}else{if(b.getTarget(".x-tree-ec-icon",1)){this.onIconClick(b,this.getNode(b));}else{if(this.getNodeTarget(b)){this.onNodeClick(b,this.getNode(b));}}}},delegateDblClick:function(b,a){if(this.beforeEvent(b)&&this.getNodeTarget(b)){this.onNodeDblClick(b,this.getNode(b));}},delegateContextMenu:function(b,a){if(this.beforeEvent(b)&&this.getNodeTarget(b)){this.onNodeContextMenu(b,this.getNode(b));}},onNodeClick:function(b,a){a.ui.onClick(b);},onNodeOver:function(b,a){this.lastOverNode=a;a.ui.onOver(b);},onNodeOut:function(b,a){a.ui.onOut(b);},onIconOver:function(b,a){a.ui.addClass("x-tree-ec-over");},onIconOut:function(b,a){a.ui.removeClass("x-tree-ec-over");},onIconClick:function(b,a){a.ui.ecClick(b);},onCheckboxClick:function(b,a){a.ui.onCheckChange(b);},onNodeDblClick:function(b,a){a.ui.onDblClick(b);},onNodeContextMenu:function(b,a){a.ui.onContextMenu(b);},beforeEvent:function(a){if(this.disabled){a.stopEvent();return false;}return true;},disable:function(){this.disabled=true;},enable:function(){this.disabled=false;}};Ext.tree.DefaultSelectionModel=function(a){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,a);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.tree.DefaultSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a;a.getTreeEl().on("keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this);},onNodeClick:function(a,b){this.select(a);},select:function(b){var a=this.selNode;if(a!=b&&this.fireEvent("beforeselect",this,b,a)!==false){if(a){a.ui.onSelectedChange(false);}this.selNode=b;b.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,b,a);}return b;},unselect:function(a){if(this.selNode==a){this.clearSelections();}},clearSelections:function(){var a=this.selNode;if(a){a.ui.onSelectedChange(false);this.selNode=null;this.fireEvent("selectionchange",this,null);}return a;},getSelectedNode:function(){return this.selNode;},isSelected:function(a){return this.selNode==a;},selectPrevious:function(){var b=this.selNode||this.lastSelNode;if(!b){return null;}var a=b.previousSibling;if(a){if(!a.isExpanded()||a.childNodes.length<1){return this.select(a);}else{var c=a.lastChild;while(c&&c.isExpanded()&&c.childNodes.length>0){c=c.lastChild;}return this.select(c);}}else{if(b.parentNode&&(this.tree.rootVisible||!b.parentNode.isRoot)){return this.select(b.parentNode);}}return null;},selectNext:function(){var b=this.selNode||this.lastSelNode;if(!b){return null;}if(b.firstChild&&b.isExpanded()){return this.select(b.firstChild);}else{if(b.nextSibling){return this.select(b.nextSibling);}else{if(b.parentNode){var a=null;b.parentNode.bubble(function(){if(this.nextSibling){a=this.getOwnerTree().selModel.select(this.nextSibling);return false;}});return a;}}}return null;},onKeyDown:function(a){var d=this.selNode||this.lastSelNode;var b=this;if(!d){return;}var c=a.getKey();switch(c){case a.DOWN:a.stopEvent();this.selectNext();break;case a.UP:a.stopEvent();this.selectPrevious();break;case a.RIGHT:a.preventDefault();if(d.hasChildNodes()){if(!d.isExpanded()){d.expand();}else{if(d.firstChild){this.select(d.firstChild,a);}}}break;case a.LEFT:a.preventDefault();if(d.hasChildNodes()&&d.isExpanded()){d.collapse();}else{if(d.parentNode&&(this.tree.rootVisible||d.parentNode!=this.tree.getRootNode())){this.select(d.parentNode,a);}}break;}}});Ext.tree.MultiSelectionModel=function(a){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,a);Ext.tree.MultiSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.tree.MultiSelectionModel,Ext.util.Observable,{init:function(a){this.tree=a;a.getTreeEl().on("keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this);},onNodeClick:function(a,b){this.select(a,b,b.ctrlKey);},select:function(b,a,c){if(c!==true){this.clearSelections(true);}if(this.isSelected(b)){this.lastSelNode=b;return b;}this.selNodes.push(b);this.selMap[b.id]=b;this.lastSelNode=b;b.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return b;},unselect:function(c){if(this.selMap[c.id]){c.ui.onSelectedChange(false);var a=this.selNodes;var b=a.indexOf(c);if(b!=-1){this.selNodes.splice(b,1);}delete this.selMap[c.id];this.fireEvent("selectionchange",this,this.selNodes);}},clearSelections:function(d){var b=this.selNodes;if(b.length>0){for(var a=0,c=b.length;a<c;a++){b[a].ui.onSelectedChange(false);}this.selNodes=[];this.selMap={};if(d!==true){this.fireEvent("selectionchange",this,this.selNodes);}}},isSelected:function(a){return this.selMap[a.id]?true:false;},getSelectedNodes:function(){return this.selNodes;},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.tree.TreeNode=function(a){a=a||{};if(typeof a=="string"){a={text:a};}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,a);this.expanded=a.expanded===true;this.isTarget=a.isTarget!==false;this.draggable=a.draggable!==false&&a.allowDrag!==false;this.allowChildren=a.allowChildren!==false&&a.allowDrop!==false;this.text=a.text;this.disabled=a.disabled===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","dblclick","contextmenu","beforechildrenrendered");var b=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new b(this);};Ext.extend(Ext.tree.TreeNode,Ext.data.Node,{preventHScroll:true,isExpanded:function(){return this.expanded;},getUI:function(){return this.ui;},getLoader:function(){var a;return this.loader||((a=this.getOwnerTree())&&a.loader?a.loader:new Ext.tree.TreeLoader());},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a);if(this.childrenRendered&&b&&a!=b){b.renderIndent(true,true);}if(this.rendered){this.renderIndent(true,true);}},setLastChild:function(b){var a=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,b);if(this.childrenRendered&&a&&b!=a){a.renderIndent(true,true);}if(this.rendered){this.renderIndent(true,true);}},appendChild:function(b){if(!b.render&&!Ext.isArray(b)){b=this.getLoader().createNode(b);}var a=Ext.tree.TreeNode.superclass.appendChild.call(this,b);if(a&&this.childrenRendered){a.render();}this.ui.updateExpandIcon();return a;},removeChild:function(a){this.ownerTree.getSelectionModel().unselect(a);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(this.childrenRendered){a.ui.remove();}if(this.childNodes.length<1){this.collapse(false,false);}else{this.ui.updateExpandIcon();}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false;}return a;},insertBefore:function(a,b){if(!a.render){a=this.getLoader().createNode(a);}var c=Ext.tree.TreeNode.superclass.insertBefore.call(this,a,b);if(c&&b&&this.childrenRendered){a.render();}this.ui.updateExpandIcon();return c;},setText:function(b){var a=this.text;this.text=b;this.attributes.text=b;if(this.rendered){this.ui.onTextChange(this,b,a);}this.fireEvent("textchange",this,b,a);},select:function(){this.getOwnerTree().getSelectionModel().select(this);},unselect:function(){this.getOwnerTree().getSelectionModel().unselect(this);},isSelected:function(){return this.getOwnerTree().getSelectionModel().isSelected(this);},expand:function(b,c,a){if(!this.expanded){if(this.fireEvent("beforeexpand",this,b,c)===false){return;}if(!this.childrenRendered){this.renderChildren();}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&c!==false)||c){this.ui.animExpand(function(){this.fireEvent("expand",this);if(typeof a=="function"){a(this);}if(b===true){this.expandChildNodes(true);}}.createDelegate(this));return;}else{this.ui.expand();this.fireEvent("expand",this);if(typeof a=="function"){a(this);}}}else{if(typeof a=="function"){a(this);}}if(b===true){this.expandChildNodes(true);}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible;},collapse:function(e,c){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,e,c)===false){return;}this.expanded=false;if((this.getOwnerTree().animate&&c!==false)||c){this.ui.animCollapse(function(){this.fireEvent("collapse",this);if(e===true){this.collapseChildNodes(true);}}.createDelegate(this));return;}else{this.ui.collapse();this.fireEvent("collapse",this);}}if(e===true){var b=this.childNodes;for(var a=0,d=b.length;a<d;a++){b[a].collapse(true,false);}}},delayedExpand:function(a){if(!this.expandProcId){this.expandProcId=this.expand.defer(a,this);}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);}this.expandProcId=false;},toggle:function(){if(this.expanded){this.collapse();}else{this.expand();}},ensureVisible:function(b){var a=this.getOwnerTree();a.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var c=a.getNodeById(this.id);a.getTreeEl().scrollChildIntoView(c.ui.anchor);Ext.callback(b);}.createDelegate(this));},expandChildNodes:function(d){var b=this.childNodes;for(var a=0,c=b.length;a<c;a++){b[a].expand(d);}},collapseChildNodes:function(d){var b=this.childNodes;for(var a=0,c=b.length;a<c;a++){b[a].collapse(d);}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true);}this.fireEvent("disabledchange",this,true);},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false);}this.fireEvent("disabledchange",this,false);},renderChildren:function(d){if(d!==false){this.fireEvent("beforechildrenrendered",this);}var b=this.childNodes;for(var a=0,c=b.length;a<c;a++){b[a].render(true);}this.childrenRendered=true;},sort:function(c,b){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var a=this.childNodes;for(var e=0,d=a.length;e<d;e++){a[e].render(true);}}},render:function(a){this.ui.render(a);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false);}}},renderIndent:function(e,c){if(c){this.ui.childIndent=null;}this.ui.renderIndent();if(e===true&&this.childrenRendered){var b=this.childNodes;for(var a=0,d=b.length;a<d;a++){b[a].renderIndent(true,c);}}},beginUpdate:function(){this.childrenRendered=false;},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren();}},destroy:function(){if(this.childNodes){for(var b=0,a=this.childNodes.length;b<a;b++){this.childNodes[b].destroy();}this.childNodes=null;}if(this.ui.destroy){this.ui.destroy();}}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(a){this.loaded=a&&a.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load");};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(e,a,c){if(this.loading){var b;var g=function(){if(!this.loading){clearInterval(b);this.expand(e,a,c);}}.createDelegate(this);b=setInterval(g,200);return;}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return;}this.loading=true;this.ui.beforeLoad(this);var d=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(d){d.load(this,this.loadComplete.createDelegate(this,[e,a,c]));return;}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,e,a,c);},isLoading:function(){return this.loading;},loadComplete:function(b,c,a){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(b,c,a);},isLoaded:function(){return this.loaded;},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true;}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this);}},reload:function(a){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild);}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false;}this.expand(false,false,a);}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=function(a){this.node=a;this.rendered=false;this.animating=false;this.wasLeaf=true;this.ecc="x-tree-ec-icon x-tree-elbow";this.emptyIcon=Ext.BLANK_IMAGE_URL;};Ext.tree.TreeNodeUI.prototype={removeChild:function(a){if(this.rendered){this.ctNode.removeChild(a.ui.getEl());}},beforeLoad:function(){this.addClass("x-tree-node-loading");},afterLoad:function(){this.removeClass("x-tree-node-loading");},onTextChange:function(c,a,b){if(this.rendered){this.textNode.innerHTML=a;}},onDisableChange:function(a,b){this.disabled=b;if(this.checkbox){this.checkbox.disabled=b;}if(b){this.addClass("x-tree-node-disabled");}else{this.removeClass("x-tree-node-disabled");}},onSelectedChange:function(a){if(a){this.focus();this.addClass("x-tree-selected");}else{this.removeClass("x-tree-selected");}},onMove:function(b,i,g,h,e,c){this.childIndent=null;if(this.rendered){var a=h.ui.getContainer();if(!a){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return;}var d=c?c.ui.getEl():null;if(d){a.insertBefore(this.wrap,d);}else{a.appendChild(this.wrap);}this.node.renderIndent(true);}},addClass:function(a){if(this.elNode){Ext.fly(this.elNode).addClass(a);}},removeClass:function(a){if(this.elNode){Ext.fly(this.elNode).removeClass(a);}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments);},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.addClass("x-tree-node-disabled");if(this.checkbox){this.checkbox.disabled=true;}}if(this.node.hidden){this.hide();}var b=this.node.getOwnerTree();var a=b.enableDD||b.enableDrag||b.enableDrop;if(a&&(!this.node.isRoot||b.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false});}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode];},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none";}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display="";}},onContextMenu:function(a){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){a.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,a);}},onClick:function(c){if(this.dropping){c.stopEvent();return;}if(this.fireEvent("beforeclick",this.node,c)!==false){var b=c.getTarget("a");if(!this.disabled&&this.node.attributes.href&&b){this.fireEvent("click",this.node,c);return;}else{if(b&&c.ctrlKey){c.stopEvent();}}c.preventDefault();if(this.disabled){return;}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle();}this.fireEvent("click",this.node,c);}else{c.stopEvent();}},onDblClick:function(a){a.preventDefault();if(this.disabled){return;}if(this.checkbox){this.toggleCheck();}if(!this.animating&&this.node.isExpandable()){this.node.toggle();}this.fireEvent("dblclick",this.node,a);},onOver:function(a){this.addClass("x-tree-node-over");},onOut:function(a){this.removeClass("x-tree-node-over");},onCheckChange:function(){var a=this.checkbox.checked;this.checkbox.defaultChecked=a;this.node.attributes.checked=a;this.fireEvent("checkchange",this.node,a);},ecClick:function(a){if(!this.animating&&this.node.isExpandable()){this.node.toggle();}},startDrop:function(){this.dropping=true;},endDrop:function(){setTimeout(function(){this.dropping=false;}.createDelegate(this),50);},expand:function(){this.updateExpandIcon();this.ctNode.style.display="";},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus();}catch(a){}}else{if(!Ext.isIE){try{var c=this.node.getOwnerTree().getTreeEl().dom;var b=c.scrollLeft;this.anchor.focus();c.scrollLeft=b;}catch(a){}}}},toggleCheck:function(b){var a=this.checkbox;if(a){a.checked=(b===undefined?!a.checked:b);this.onCheckChange();}},blur:function(){try{this.anchor.blur();}catch(a){}},animExpand:function(b){var a=Ext.get(this.ctNode);a.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(b);return;}this.animating=true;this.updateExpandIcon();a.slideIn("t",{callback:function(){this.animating=false;Ext.callback(b);},scope:this,duration:this.node.ownerTree.duration||0.25});},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor});},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none";},animCollapse:function(b){var a=Ext.get(this.ctNode);a.enableDisplayMode("block");a.stopFx();this.animating=true;this.updateExpandIcon();a.slideOut("t",{callback:function(){this.animating=false;Ext.callback(b);},scope:this,duration:this.node.ownerTree.duration||0.25});},getContainer:function(){return this.ctNode;},getEl:function(){return this.wrap;},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(true));},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode);},onRender:function(){this.render();},render:function(c){var e=this.node,b=e.attributes;var d=e.parentNode?e.parentNode.ui.getContainer():e.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(e,b,d,c);if(b.qtip){if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",b.qtip);if(b.qtipTitle){this.textNode.setAttributeNS("ext","qtitle",b.qtipTitle);}}else{this.textNode.setAttribute("ext:qtip",b.qtip);if(b.qtipTitle){this.textNode.setAttribute("ext:qtitle",b.qtipTitle);}}}else{if(b.qtipCfg){b.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(b.qtipCfg);}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true);}}else{if(c===true){d.appendChild(this.wrap);}}},renderElements:function(m,g,e,h){this.indentMarkup=m.parentNode?m.parentNode.ui.getChildIndent():"";var b=typeof g.checked=="boolean";var k=g.href?g.href:Ext.isGecko?"":"#";var l=['<li class="x-tree-node"><div ext:tree-node-id="',m.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',g.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img src="',g.icon||this.emptyIcon,'" class="x-tree-node-icon',(g.icon?" x-tree-node-inline-icon":""),(g.iconCls?" "+g.iconCls:""),'" unselectable="on" />',b?('<input class="x-tree-node-cb" type="checkbox" '+(g.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',k,'" tabIndex="1" ',g.hrefTarget?' target="'+g.hrefTarget+'"':"",'><span unselectable="on">',m.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");var i;if(h!==true&&m.nextSibling&&(i=m.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",i,l);}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",e,l);}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var d=this.elNode.childNodes;this.indentNode=d[0];this.ecNode=d[1];this.iconNode=d[2];var c=3;if(b){this.checkbox=d[3];this.checkbox.defaultChecked=this.checkbox.checked;c++;}this.anchor=d[c];this.textNode=d[c].firstChild;},getAnchor:function(){return this.anchor;},getTextEl:function(){return this.textNode;},getIconEl:function(){return this.iconNode;},isChecked:function(){return this.checkbox?this.checkbox.checked:false;},updateExpandIcon:function(){if(this.rendered){var c=this.node,a,g;var d=c.isLast()?"x-tree-elbow-end":"x-tree-elbow";var b=c.hasChildNodes();if(b||c.attributes.expandable){if(c.expanded){d+="-minus";a="x-tree-node-collapsed";g="x-tree-node-expanded";}else{d+="-plus";a="x-tree-node-expanded";g="x-tree-node-collapsed";}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false;}if(this.c1!=a||this.c2!=g){Ext.fly(this.elNode).replaceClass(a,g);this.c1=a;this.c2=g;}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-leaf");delete this.c1;delete this.c2;this.wasLeaf=true;}}var e="x-tree-ec-icon "+d;if(this.ecc!=e){this.ecNode.className=e;this.ecc=e;}}},getChildIndent:function(){if(!this.childIndent){var a=[];var b=this.node;while(b){if(!b.isRoot||(b.isRoot&&b.ownerTree.rootVisible)){if(!b.isLast()){a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-elbow-line" />');}else{a.unshift('<img src="'+this.emptyIcon+'" class="x-tree-icon" />');}}b=b.parentNode;}this.childIndent=a.join("");}return this.childIndent;},renderIndent:function(){if(this.rendered){var a="";var b=this.node.parentNode;if(b){a=b.ui.getChildIndent();}if(this.indentMarkup!=a){this.indentNode.innerHTML=a;this.indentMarkup=a;}this.updateExpandIcon();}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id);}delete this.elNode;delete this.ctNode;delete this.indentNode;delete this.ecNode;delete this.iconNode;delete this.checkbox;delete this.anchor;delete this.textNode;Ext.removeNode(this.ctNode);}};Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=true;a.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=a.firstChild;}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(a){this.baseParams={};Ext.apply(this,a);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,load:function(a,b){if(this.clearOnLoad){while(a.firstChild){a.removeChild(a.firstChild);}}if(this.doPreload(a)){if(typeof b=="function"){b();}}else{if(this.dataUrl||this.url){this.requestData(a,b);}}},doPreload:function(b){if(b.attributes.children){if(b.childNodes.length<1){var a=b.attributes.children;b.beginUpdate();for(var e=0,d=a.length;e<d;e++){var c=b.appendChild(this.createNode(a[e]));if(this.preloadChildren){this.doPreload(c);}}b.endUpdate();}return true;}else{return false;}},getParams:function(b){var c=[],a=this.baseParams;for(var d in a){if(typeof a[d]!="function"){c.push(encodeURIComponent(d),"=",encodeURIComponent(a[d]),"&");}}c.push("node=",encodeURIComponent(b.id));return c.join("");},requestData:function(a,b){if(this.fireEvent("beforeload",this,a,b)!==false){this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:b,node:a},params:this.getParams(a)});}else{if(typeof b=="function"){b();}}},isLoading:function(){return !!this.transId;},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId);}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs);}if(this.applyLoader!==false){attr.loader=this;}if(typeof attr.uiProvider=="string"){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider);}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr);}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr);}},processResponse:function(response,node,callback){var json=response.responseText;try{var o=eval("("+json+")");node.beginUpdate();for(var i=0,len=o.length;i<len;i++){var n=this.createNode(o[i]);if(n){node.appendChild(n);}}node.endUpdate();if(typeof callback=="function"){callback(this,node);}}catch(e){this.handleFailure(response);}},handleResponse:function(c){this.transId=false;var b=c.argument;this.processResponse(c,b.node,b.callback);this.fireEvent("load",this,b.node,c);},handleFailure:function(c){this.transId=false;var b=c.argument;this.fireEvent("loadexception",this,b.node,c);if(typeof b.callback=="function"){b.callback(this,b.node);}}});Ext.tree.TreeFilter=function(a,b){this.tree=a;this.filtered={};Ext.apply(this,b);};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(b,d,e){d=d||"text";var a;if(typeof b=="string"){var c=b.length;if(c==0&&this.clearBlank){this.clear();return;}b=b.toLowerCase();a=function(g){return g.attributes[d].substr(0,c).toLowerCase()==b;};}else{if(b.exec){a=function(g){return b.test(g.attributes[d]);};}else{throw"Illegal filter type, must be string or regex";}}this.filterBy(a,null,e);},filterBy:function(e,d,c){c=c||this.tree.root;if(this.autoClear){this.clear();}var b=this.filtered,a=this.reverse;var g=function(l){if(l==c){return true;}if(b[l.id]){return false;}var k=e.call(d||l,l);if(!k||a){b[l.id]=l;l.ui.hide();return false;}return true;};c.cascade(g);if(this.remove){for(var i in b){if(typeof i!="function"){var h=b[i];if(h&&h.parentNode){h.parentNode.removeChild(h);}}}}},clear:function(){var d=this.tree;var c=this.filtered;for(var b in c){if(typeof b!="function"){var a=c[b];if(a){a.ui.show();}}}this.filtered={};}};Ext.tree.TreeSorter=function(c,d){Ext.apply(this,d);c.on("beforechildrenrendered",this.doSort,this);c.on("append",this.updateSort,this);c.on("insert",this.updateSort,this);c.on("textchange",this.updateSortParent,this);var g=this.dir&&this.dir.toLowerCase()=="desc";var h=this.property||"text";var i=this.sortType;var b=this.folderSort;var e=this.caseSensitive===true;var a=this.leafAttr||"leaf";this.sortFn=function(k,n){if(b){if(k.attributes[a]&&!n.attributes[a]){return 1;}if(!k.attributes[a]&&n.attributes[a]){return -1;}}var m=i?i(k):(e?k.attributes[h]:k.attributes[h].toUpperCase());var l=i?i(n):(e?n.attributes[h]:n.attributes[h].toUpperCase());if(m<l){return g?+1:-1;}else{if(m>l){return g?-1:+1;}else{return 0;}}};};Ext.tree.TreeSorter.prototype={doSort:function(a){a.sort(this.sortFn);},compareNodes:function(b,a){return(b.text.toUpperCase()>a.text.toUpperCase()?1:-1);},updateSort:function(a,b){if(b.childrenRendered){this.doSort.defer(1,this,[b]);}},updateSortParent:function(a){var b=a.parentNode;if(b&&b.childrenRendered){this.doSort.defer(1,this,[b]);}}};if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=false;this.allowContainerDrop=false;this.appendOnly=false;Ext.tree.TreeDropZone.superclass.constructor.call(this,a.innerCt,b);this.tree=a;this.dragOverData={};this.lastInsertClass="x-tree-no-status";};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(a){if(a.hasChildNodes()&&!a.isExpanded()){a.expand(false,null,this.triggerCacheRefresh.createDelegate(this));}},queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a]);},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false;}},isValidDropPoint:function(k,i,g,b,a){if(!k||!a){return false;}var c=k.node;var d=a.node;if(!(c&&c.isTarget&&i)){return false;}if(i=="append"&&c.allowChildren===false){return false;}if((i=="above"||i=="below")&&(c.parentNode&&c.parentNode.allowChildren===false)){return false;}if(d&&(c==d||d.contains(c))){return false;}var l=this.dragOverData;l.tree=this.tree;l.target=c;l.data=a;l.point=i;l.source=g;l.rawEvent=b;l.dropNode=d;l.cancel=false;var h=this.tree.fireEvent("nodedragover",l);return l.cancel===false&&h!==false;},getDropPoint:function(o,m,d){var g=m.node;if(g.isRoot){return g.allowChildren!==false?"append":false;}var k=m.ddel;var h=Ext.lib.Dom.getY(k),a=h+k.offsetHeight;var p=Ext.lib.Event.getPageY(o);var c=g.allowChildren===false||g.isLeaf();if(this.appendOnly||g.parentNode.allowChildren===false){return c?false:"append";}var l=false;if(!this.allowParentInsert){l=g.hasChildNodes()&&g.isExpanded();}var i=(a-h)/(c?2:3);if(p>=h&&p<(h+i)){return"above";}else{if(!l&&(c||p>=a-i&&p<=a)){return"below";}else{return"append";}}},onNodeEnter:function(b,c,a,d){this.cancelExpand();},onNodeOver:function(l,g,d,c){var i=this.getDropPoint(d,l,g);var a=l.node;if(!this.expandProcId&&i=="append"&&a.hasChildNodes()&&!l.node.isExpanded()){this.queueExpand(a);}else{if(i!="append"){this.cancelExpand();}}var b=this.dropNotAllowed;if(this.isValidDropPoint(l,i,g,d,c)){if(i){var k=l.ddel;var h;if(i=="above"){b=l.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";h="x-tree-drag-insert-above";}else{if(i=="below"){b=l.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";h="x-tree-drag-insert-below";}else{b="x-tree-drop-ok-append";h="x-tree-drag-append";}}if(this.lastInsertClass!=h){Ext.fly(k).replaceClass(this.lastInsertClass,h);this.lastInsertClass=h;}}}return b;},onNodeOut:function(b,c,a,d){this.cancelExpand();this.removeDropIndicators(b);},onNodeDrop:function(a,i,c,b){var h=this.getDropPoint(c,a,i);var d=a.node;d.ui.startDrop();if(!this.isValidDropPoint(a,h,i,c,b)){d.ui.endDrop();return false;}var g=b.node||(i.getTreeNode?i.getTreeNode(b,d,h,c):null);var l={tree:this.tree,target:d,data:b,point:h,source:i,rawEvent:c,dropNode:g,cancel:!g,dropStatus:false};var k=this.tree.fireEvent("beforenodedrop",l);if(k===false||l.cancel===true||!l.dropNode){d.ui.endDrop();return l.dropStatus;}d=l.target;if(h=="append"&&!d.isExpanded()){d.expand(false,null,function(){this.completeDrop(l);}.createDelegate(this));}else{this.completeDrop(l);}return true;},completeDrop:function(b){var g=b.dropNode,h=b.point,e=b.target;if(!Ext.isArray(g)){g=[g];}var a;for(var d=0,c=g.length;d<c;d++){a=g[d];if(h=="above"){e.parentNode.insertBefore(a,e);}else{if(h=="below"){e.parentNode.insertBefore(a,e.nextSibling);}else{e.appendChild(a);}}}a.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){a.ui.highlight();}e.ui.endDrop();this.tree.fireEvent("nodedrop",b);},afterNodeMoved:function(d,a,c,b,g){if(Ext.enableFx&&this.tree.hlDrop){g.ui.focus();g.ui.highlight();}this.tree.fireEvent("nodedrop",this.tree,b,a,d,c);},getTree:function(){return this.tree;},removeDropIndicators:function(b){if(b&&b.ddel){var a=b.ddel;Ext.fly(a).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass";}},beforeDragDrop:function(c,b,a){this.cancelExpand();return true;},afterRepair:function(a){if(a&&Ext.enableFx){a.node.ui.highlight();}this.hideProxy();}});}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.getTreeEl(),b);this.tree=a;};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(b,c){var a=b.node;return a&&a.draggable&&!a.disabled;},onInitDrag:function(b){var a=this.dragData;this.tree.getSelectionModel().select(a.node);this.tree.eventModel.disable();this.proxy.update("");a.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,a.node,b);},getRepairXY:function(b,a){return a.node.ui.getDDRepairXY();},onEndDrag:function(a,b){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,a.node,b);},onValidDrop:function(b,c,a){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,b,c);this.hideProxy();},beforeInvalidDrop:function(b,a){var c=this.tree.getSelectionModel();c.clearSelections();c.select(this.dragData.node);},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9");}this.dragging=false;}});}Ext.tree.TreeEditor=function(c,a,d){a=a||{};var b=a.events?a:new Ext.form.TextField(a);Ext.tree.TreeEditor.superclass.constructor.call(this,b,d);this.tree=c;if(!c.rendered){c.on("render",this.initEditor,this);}else{this.initEditor(c);}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(a){a.on("beforeclick",this.beforeNodeClick,this);a.on("dblclick",this.onNodeDblClick,this);this.on("complete",this.updateNode,this);this.on("beforestartedit",this.fitToTree,this);this.on("startedit",this.bindScroll,this,{delay:10});this.on("specialkey",this.onSpecialKey,this);},fitToTree:function(e,a){var c=this.tree.getTreeEl().dom,b=a.dom;if(c.scrollLeft>b.offsetLeft){c.scrollLeft=b.offsetLeft;}var d=Math.min(this.maxWidth,(c.clientWidth>20?c.clientWidth:c.offsetWidth)-Math.max(0,b.offsetLeft-c.scrollLeft)-5);this.setSize(d,"");},triggerEdit:function(a,b){this.completeEdit();if(a.attributes.editable!==false){this.editNode=a;if(this.tree.autoScroll){a.ui.getEl().scrollIntoView(this.tree.body);}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[a.ui.textNode,a.text]);return false;}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this);},beforeNodeClick:function(a,b){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(a)){b.stopEvent();return this.triggerEdit(a);}},onNodeDblClick:function(a,b){clearTimeout(this.autoEditTimer);},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(b);},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui);}},onSpecialKey:function(a,c){var b=c.getKey();if(b==c.ESC){c.stopEvent();this.cancelEdit();}else{if(b==c.ENTER&&!c.hasModifier()){c.stopEvent();this.completeEdit();}}}});Ext.menu.Menu=function(a){if(Ext.isArray(a)){a={items:a};}Ext.apply(this,a);this.id=this.id||Ext.id();this.addEvents("beforeshow","beforehide","show","hide","click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);Ext.menu.Menu.superclass.constructor.call(this);var b=this.items;this.items=new Ext.util.MixedCollection(false,Ext.Container.prototype.getComponentId);if(b){this.add.apply(this,b);}};Ext.extend(Ext.menu.Menu,Ext.util.Observable,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,hidden:true,createEl:function(){return new Ext.Layer({cls:"x-menu",shadow:this.shadow,constrain:false,parentEl:this.parentEl||document.body,zindex:this.zIndex||15000});},render:function(){if(this.el){return;}var b=this.el=this.createEl();if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this);}if(this.plain){b.addClass("x-menu-plain");}if(this.cls){b.addClass(this.cls);}this.focusEl=b.createChild({tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"});var a=b.createChild({tag:"ul",cls:"x-menu-list"});a.on("click",this.onClick,this);a.on("mouseover",this.onMouseOver,this);a.on("mouseout",this.onMouseOut,this);this.items.each(function(d){var c=document.createElement("li");c.className="x-menu-list-item";a.dom.appendChild(c);d.render(c,this);},this);this.ul=a;this.doAutoSize();},doAutoSize:function(){var b=this.el,a=this.ul;if(!b){return;}var c=this.width;if(c){b.setWidth(c);}else{if(Ext.isIE){b.setWidth(this.minWidth);var d=b.dom.offsetWidth;b.setWidth(a.getWidth()+b.getFrameWidth("lr"));}}},delayAutoWidth:function(){if(this.el){if(!this.awTask){this.awTask=new Ext.util.DelayedTask(this.doAutoSize,this);}this.awTask.delay(20);}},findTargetItem:function(b){var a=b.getTarget(".x-menu-list-item",this.ul,true);if(a&&a.menuItemId){return this.items.get(a.menuItemId);}},onClick:function(b){var a;if(a=this.findTargetItem(b)){if(a.menu&&this.ignoreParentClicks){a.expandMenu();}else{a.onClick(b);this.fireEvent("click",this,a,b);}}},setActiveItem:function(a,b){if(a!=this.activeItem){if(this.activeItem){this.activeItem.deactivate();}this.activeItem=a;a.activate(b);}else{if(b){a.expandMenu();}}},tryActivate:function(c,b){var e=this.items;for(var g=c,d=e.length;g>=0&&g<d;g+=b){var a=e.get(g);if(!a.disabled&&a.canActivate){this.setActiveItem(a,false);return a;}}return false;},onMouseOver:function(b){var a;if(a=this.findTargetItem(b)){if(a.canActivate&&!a.disabled){this.setActiveItem(a,true);}}this.over=true;this.fireEvent("mouseover",this,b,a);},onMouseOut:function(b){var a;if(a=this.findTargetItem(b)){if(a==this.activeItem&&a.shouldDeactivate(b)){this.activeItem.deactivate();delete this.activeItem;}}this.over=false;this.fireEvent("mouseout",this,b,a);},isVisible:function(){return this.el&&!this.hidden;},show:function(c,a,b){this.parentMenu=b;if(!this.el){this.render();}this.fireEvent("beforeshow",this);this.showAt(this.el.getAlignToXY(c,a||this.defaultAlign),b,false);},showAt:function(a,c,b){this.parentMenu=c;if(!this.el){this.render();}if(b!==false){this.fireEvent("beforeshow",this);a=this.el.adjustForConstraints(a);}this.el.setXY(a);this.el.show();this.hidden=false;this.focus();this.fireEvent("show",this);},focus:function(){if(!this.hidden){this.doFocus.defer(50,this);}},doFocus:function(){if(!this.hidden){this.focusEl.focus();}},hide:function(a){if(this.el&&this.isVisible()){if(this.fireEvent("beforehide",this)!==false){if(this.activeItem){this.activeItem.deactivate();this.activeItem=null;}this.el.hide();this.hidden=true;this.fireEvent("hide",this);}}if(a===true&&this.parentMenu){this.parentMenu.hide(true);}},add:function(){var c=arguments,b=c.length,g;for(var d=0;d<b;d++){var e=c[d];if(e.render){g=this.addItem(e);}else{if(typeof e=="string"){if(e=="separator"||e=="-"){g=this.addSeparator();}else{g=this.addText(e);}}else{if(e.tagName||e.el){g=this.addElement(e);}else{if(typeof e=="object"){Ext.applyIf(e,this.defaults);g=this.addMenuItem(e);}}}}}return g;},getEl:function(){if(!this.el){this.render();}return this.el;},addSeparator:function(){return this.addItem(new Ext.menu.Separator());},addElement:function(a){return this.addItem(new Ext.menu.BaseItem(a));},addItem:function(b){this.items.add(b);if(this.ul){var a=document.createElement("li");a.className="x-menu-list-item";this.ul.dom.appendChild(a);b.render(a,this);this.delayAutoWidth();}return b;},addMenuItem:function(a){if(!(a instanceof Ext.menu.Item)){if(typeof a.checked=="boolean"){a=new Ext.menu.CheckItem(a);}else{a=new Ext.menu.Item(a);}}return this.addItem(a);},addText:function(a){return this.addItem(new Ext.menu.TextItem(a));},insert:function(c,a){this.items.insert(c,a);if(this.ul){var b=document.createElement("li");b.className="x-menu-list-item";this.ul.dom.insertBefore(b,this.ul.dom.childNodes[c]);a.render(b,this);this.delayAutoWidth();}return a;},remove:function(a){this.items.remove(a);a.destroy();},removeAll:function(){if(this.items){var a;while(a=this.items.first()){this.remove(a);}}},destroy:function(){this.beforeDestroy();Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable();}this.removeAll();if(this.ul){this.ul.removeAllListeners();}if(this.el){this.el.destroy();}},beforeDestroy:Ext.emptyFn});Ext.menu.MenuNav=function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a;};Ext.extend(Ext.menu.MenuNav,Ext.KeyNav,{doRelay:function(a,c){var b=a.getKey();if(!this.menu.activeItem&&a.isNavKeyPress()&&b!=a.SPACE&&b!=a.RETURN){this.menu.tryActivate(0,1);return false;}return c.call(this.scope||this,a,this.menu);},up:function(b,a){if(!a.tryActivate(a.items.indexOf(a.activeItem)-1,-1)){a.tryActivate(a.items.length-1,-1);}},down:function(b,a){if(!a.tryActivate(a.items.indexOf(a.activeItem)+1,1)){a.tryActivate(0,1);}},right:function(b,a){if(a.activeItem){a.activeItem.expandMenu(true);}},left:function(b,a){a.hide();if(a.parentMenu&&a.parentMenu.activeItem){a.parentMenu.activeItem.activate();}},enter:function(b,a){if(a.activeItem){b.stopPropagation();a.activeItem.onClick(b);a.fireEvent("click",this,a.activeItem);return true;}}});Ext.menu.MenuMgr=function(){var k,h,g={},c=false,a=new Date();function d(){k={};h=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(h.length>0){m();}});}function m(){if(h&&h.length>0){var p=h.clone();p.each(function(q){q.hide();});}}function i(p){h.remove(p);if(h.length<1){Ext.getDoc().un("mousedown",b);c=false;}}function o(p){var q=h.last();a=new Date();h.add(p);if(!c){Ext.getDoc().on("mousedown",b);c=true;}if(p.parentMenu){p.getEl().setZIndex(parseInt(p.parentMenu.getEl().getStyle("z-index"),10)+3);p.parentMenu.activeChild=p;}else{if(q&&q.isVisible()){p.getEl().setZIndex(parseInt(q.getEl().getStyle("z-index"),10)+3);}}}function e(p){if(p.activeChild){p.activeChild.hide();}if(p.autoHideTimer){clearTimeout(p.autoHideTimer);delete p.autoHideTimer;}}function l(p){var q=p.parentMenu;if(!q&&!p.allowOtherMenus){m();}else{if(q&&q.activeChild){q.activeChild.hide();}}}function b(p){if(a.getElapsed()>50&&h.length>0&&!p.getTarget(".x-menu")){m();}}function n(s,q){if(q){var p=g[s.group];for(var t=0,r=p.length;t<r;t++){if(p[t]!=s){p[t].setChecked(false);}}}}return{hideAll:function(){m();},register:function(q){if(!k){d();}k[q.id]=q;q.on("beforehide",e);q.on("hide",i);q.on("beforeshow",l);q.on("show",o);var p=q.group;if(p&&q.events.checkchange){if(!g[p]){g[p]=[];}g[p].push(q);q.on("checkchange",onCheck);}},get:function(p){if(typeof p=="string"){if(!k){return null;}return k[p];}else{if(p.events){return p;}else{if(typeof p.length=="number"){return new Ext.menu.Menu({items:p});}else{return new Ext.menu.Menu(p);}}}},unregister:function(q){delete k[q.id];q.un("beforehide",e);q.un("hide",i);q.un("beforeshow",l);q.un("show",o);var p=q.group;if(p&&q.events.checkchange){g[p].remove(q);q.un("checkchange",onCheck);}},registerCheckable:function(p){var q=p.group;if(q){if(!g[q]){g[q]=[];}g[q].push(p);p.on("beforecheckchange",n);}},unregisterCheckable:function(p){var q=p.group;if(q){g[q].remove(p);p.un("beforecheckchange",n);}},getCheckedItem:function(p){var q=g[p];if(q){for(var s=0,r=q.length;s<r;s++){if(q[s].checked){return q[s];}}}return null;},setCheckedItem:function(t,q){var p=g[t];if(p){for(var s=0,r=p.length;s<r;s++){if(p[s].id==q){p[s].setChecked(true);}}}return null;}};}();Ext.menu.BaseItem=function(a){Ext.menu.BaseItem.superclass.constructor.call(this,a);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope);}};Ext.extend(Ext.menu.BaseItem,Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",render:function(a,b){this.parentMenu=b;Ext.menu.BaseItem.superclass.render.call(this,a);this.container.menuItemId=this.itemId||this.id;},onRender:function(b,a){this.el=Ext.get(this.el);b.dom.appendChild(this.el.dom);},setHandler:function(b,a){if(this.handler){this.un("click",this.handler,this.scope);}this.on("click",this.handler=b,this.scope=a);},onClick:function(a){if(!this.disabled&&this.fireEvent("click",this,a)!==false&&this.parentMenu.fireEvent("itemclick",this,a)!==false){this.handleClick(a);}else{a.stopEvent();}},activate:function(){if(this.disabled){return false;}var a=this.container;a.addClass(this.activeClass);this.region=a.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true;},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this);},shouldDeactivate:function(a){return !this.region||!this.region.contains(a.getPoint());},handleClick:function(a){if(this.hideOnClick){this.parentMenu.hide.defer(this.clickHideDelay,this.parentMenu,[true]);}},expandMenu:function(a){},hideMenu:function(){}});Ext.menu.TextItem=function(a){if(typeof a=="string"){a={text:a};}Ext.menu.TextItem.superclass.constructor.call(this,a);};Ext.extend(Ext.menu.TextItem,Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",onRender:function(){var a=document.createElement("span");a.className=this.itemCls;a.innerHTML=this.text;this.el=a;Ext.menu.TextItem.superclass.onRender.apply(this,arguments);}});Ext.menu.Separator=function(a){Ext.menu.Separator.superclass.constructor.call(this,a);};Ext.extend(Ext.menu.Separator,Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,onRender:function(a){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML="&#160;";this.el=b;a.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments);}});Ext.menu.Item=function(a){Ext.menu.Item.superclass.constructor.call(this,a);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);}};Ext.extend(Ext.menu.Item,Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,hideDelay:200,ctype:"Ext.menu.Item",onRender:function(c,b){var a=document.createElement("a");a.hideFocus=true;a.unselectable="on";a.href=this.href||"#";if(this.hrefTarget){a.target=this.hrefTarget;}a.className=this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:"");a.innerHTML=String.format('<img src="{0}" class="x-menu-item-icon {2}" />{1}',this.icon||Ext.BLANK_IMAGE_URL,this.itemText||this.text,this.iconCls||"");this.el=a;Ext.menu.Item.superclass.onRender.call(this,c,b);},setText:function(a){this.text=a;if(this.rendered){this.el.update(String.format('<img src="{0}" class="x-menu-item-icon {2}">{1}',this.icon||Ext.BLANK_IMAGE_URL,this.text,this.iconCls||""));this.parentMenu.doAutoSize();}},setIconClass:function(a){var b=this.iconCls;this.iconCls=a;if(this.rendered){this.el.child("img.x-menu-item-icon").replaceClass(b,this.iconCls);}},handleClick:function(a){if(!this.href){a.stopEvent();}Ext.menu.Item.superclass.handleClick.apply(this,arguments);},activate:function(a){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(a){this.expandMenu();}}return true;},shouldDeactivate:function(a){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,a)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(a.getPoint());}return true;}return false;},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu();},expandMenu:function(a){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[a]);}else{if(this.menu.isVisible()&&a){this.menu.tryActivate(0,1);}}}},deferExpand:function(a){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(a){this.menu.tryActivate(0,1);}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this);}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false);}else{this.menu.hide();}}});Ext.menu.CheckItem=function(a){Ext.menu.CheckItem.superclass.constructor.call(this,a);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope);}Ext.menu.MenuMgr.registerCheckable(this);};Ext.extend(Ext.menu.CheckItem,Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",onRender:function(a){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass);}if(this.checked){this.checked=false;this.setChecked(true,true);}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments);},setChecked:function(b,a){if(this.checked!=b&&this.fireEvent("beforecheckchange",this,b)!==false){if(this.container){this.container[b?"addClass":"removeClass"]("x-menu-item-checked");}this.checked=b;if(a!==true){this.fireEvent("checkchange",this,b);}}},handleClick:function(a){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked);}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments);}});Ext.menu.Adapter=function(b,a){Ext.menu.Adapter.superclass.constructor.call(this,a);this.component=b;};Ext.extend(Ext.menu.Adapter,Ext.menu.BaseItem,{canActivate:true,onRender:function(b,a){this.component.render(b);this.el=this.component.getEl();},activate:function(){if(this.disabled){return false;}this.component.focus();this.fireEvent("activate",this);return true;},deactivate:function(){this.fireEvent("deactivate",this);},disable:function(){this.component.disable();Ext.menu.Adapter.superclass.disable.call(this);},enable:function(){this.component.enable();Ext.menu.Adapter.superclass.enable.call(this);}});Ext.menu.DateItem=function(a){Ext.menu.DateItem.superclass.constructor.call(this,new Ext.DatePicker(a),a);this.picker=this.component;this.addEvents("select");this.picker.on("render",function(b){b.getEl().swallowEvent("click");b.container.addClass("x-menu-date-item");});this.picker.on("select",this.onSelect,this);};Ext.extend(Ext.menu.DateItem,Ext.menu.Adapter,{onSelect:function(b,a){this.fireEvent("select",this,a,b);Ext.menu.DateItem.superclass.handleClick.call(this);}});Ext.menu.ColorItem=function(a){Ext.menu.ColorItem.superclass.constructor.call(this,new Ext.ColorPalette(a),a);this.palette=this.component;this.relayEvents(this.palette,["select"]);if(this.selectHandler){this.on("select",this.selectHandler,this.scope);}};Ext.extend(Ext.menu.ColorItem,Ext.menu.Adapter);Ext.menu.DateMenu=function(a){Ext.menu.DateMenu.superclass.constructor.call(this,a);this.plain=true;var b=new Ext.menu.DateItem(a);this.add(b);this.picker=b.picker;this.relayEvents(b,["select"]);this.on("beforeshow",function(){if(this.picker){this.picker.hideMonthPicker(true);}},this);};Ext.extend(Ext.menu.DateMenu,Ext.menu.Menu,{cls:"x-date-menu",beforeDestroy:function(){this.picker.destroy();}});Ext.menu.ColorMenu=function(a){Ext.menu.ColorMenu.superclass.constructor.call(this,a);this.plain=true;var b=new Ext.menu.ColorItem(a);this.add(b);this.palette=b.palette;this.relayEvents(b,["select"]);};Ext.extend(Ext.menu.ColorMenu,Ext.menu.Menu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,isFormField:true,hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid");},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:(this.hiddenName||"");},onRender:function(a,c){Ext.form.Field.superclass.onRender.call(this,a,c);if(!this.el){var d=this.getAutoCreate();if(!d.name){d.name=this.name||this.id;}if(this.inputType){d.type=this.inputType;}this.el=a.createChild(d,c);}var b=this.el.dom.type;if(b){if(b=="password"){b="text";}this.el.addClass("x-form-"+b);}if(this.readOnly){this.el.dom.readOnly=true;}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex);}this.el.addClass([this.fieldClass,this.cls]);},getItemCt:function(){return this.el.up(".x-form-item",4);},initValue:function(){if(this.value!==undefined){this.setValue(this.value);}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value);}}this.originalValue=this.getValue();},isDirty:function(){if(this.disabled){return false;}return String(this.getValue())!==String(this.originalValue);},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue();},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,a);}},reset:function(){this.setValue(this.originalValue);this.clearInvalid();},initEvents:function(){this.el.on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.fireKey,this);this.el.on("focus",this.onFocus,this);var a=this.inEditor&&Ext.isWindows&&Ext.isGecko?{buffer:10}:null;this.el.on("blur",this.onBlur,this,a);},onFocus:function(){if(!Ext.isOpera&&this.focusClass){this.el.addClass(this.focusClass);}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this);}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(!Ext.isOpera&&this.focusClass){this.el.removeClass(this.focusClass);}this.hasFocus=false;if(this.validationEvent!==false&&this.validateOnBlur&&this.validationEvent!="blur"){this.validate();}var a=this.getValue();if(String(a)!==String(this.startValue)){this.fireEvent("change",this,a,this.startValue);}this.fireEvent("blur",this);},isValid:function(b){if(this.disabled){return true;}var a=this.preventMark;this.preventMark=b===true;var c=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=a;return c;},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true;}return false;},processValue:function(a){return a;},validateValue:function(a){return true;},markInvalid:function(a){if(!this.rendered||this.preventMark){return;}a=a||this.invalidText;var b=this.getMessageHandler();if(b){b.mark(this,a);}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var c=Ext.getDom(this.msgTarget);if(c){c.innerHTML=a;c.style.display=this.msgDisplay;}}}this.fireEvent("invalid",this,a);},clearInvalid:function(){if(!this.rendered||this.preventMark){return;}this.el.removeClass(this.invalidClass);var a=this.getMessageHandler();if(a){a.clear(this);}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);if(b){b.innerHTML="";b.style.display="none";}}}this.fireEvent("valid",this);},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget];},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true);},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0]);},getRawValue:function(){var a=this.rendered?this.el.getValue():Ext.value(this.value,"");if(a===this.emptyText){a="";}return a;},getValue:function(){if(!this.rendered){return this.value;}var a=this.el.getValue();if(a===this.emptyText||a===undefined){a="";}return a;},setRawValue:function(a){return this.el.dom.value=(a===null||a===undefined?"":a);},setValue:function(a){this.value=a;if(this.rendered){this.el.dom.value=(a===null||a===undefined?"":a);this.validate();}},append:function(a){this.setValue([this.getValue(),a].join(""));},adjustSize:function(c,b){var a=Ext.form.Field.superclass.adjustSize.call(this,c,b);a.width=this.adjustWidth(this.el.dom.tagName,a.width);if(this.offsetCt){var d=this.getItemCt();a.width-=d.getFrameWidth("lr");a.height-=d.getFrameWidth("tb");}return a;},adjustWidth:function(a,b){a=a.toLowerCase();if(typeof b=="number"&&!Ext.isSafari&&!this.normalWidth){if(Ext.isIE&&(a=="input"||a=="textarea")){if(a=="input"&&!Ext.isStrict){return this.inEditor?b:b-3;}if(a=="input"&&Ext.isStrict){return b-(Ext.isIE6?4:1);}if(a=="textarea"&&Ext.isStrict){return b-2;}}else{if(Ext.isOpera&&Ext.isStrict){if(a=="input"){return b+2;}if(a=="textarea"){return b-2;}}}}return b;}});Ext.form.MessageTargets={qtip:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.qtip=b;a.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable();}},clear:function(a){a.el.removeClass(a.invalidClass);a.el.dom.qtip="";}},title:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.title=b;},clear:function(a){a.el.dom.title="";}},under:{mark:function(c,a){c.el.addClass(c.invalidClass);if(!c.errorEl){var b=c.getErrorCt();if(!b){c.el.dom.title=a;return;}c.errorEl=b.createChild({cls:"x-form-invalid-msg"});c.errorEl.setWidth(b.getWidth(true)-20);}c.errorEl.update(a);Ext.form.Field.msgFx[c.msgFx].show(c.errorEl,c);},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorEl){Ext.form.Field.msgFx[a.msgFx].hide(a.errorEl,a);}else{a.el.dom.title="";}}},side:{mark:function(c,a){c.el.addClass(c.invalidClass);if(!c.errorIcon){var b=c.getErrorCt();if(!b){c.el.dom.title=a;return;}c.errorIcon=b.createChild({cls:"x-form-invalid-icon"});}c.alignErrorIcon();c.errorIcon.dom.qtip=a;c.errorIcon.dom.qclass="x-form-invalid-tip";c.errorIcon.show();c.on("resize",c.alignErrorIcon,c);},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorIcon){a.errorIcon.dom.qtip="";a.errorIcon.hide();a.un("resize",a.alignErrorIcon,a);}else{a.el.dom.title="";}}}};Ext.form.Field.msgFx={normal:{show:function(a,b){a.setDisplayed("block");},hide:function(a,b){a.setDisplayed(false).update("");}},slide:{show:function(a,b){a.slideIn("t",{stopFx:true});},hide:function(a,b){a.slideOut("t",{stopFx:true,useDisplay:true});}},slideRight:{show:function(a,b){a.fixDisplay();a.alignTo(b.el,"tl-tr");a.slideIn("l",{stopFx:true});},hide:function(a,b){a.slideOut("l",{stopFx:true,useDisplay:true});}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress");},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.el.on("keyup",this.filterValidation,this);}else{if(this.validationEvent!==false){this.el.on(this.validationEvent,this.validate,this,{buffer:this.validationDelay});}}if(this.selectOnFocus||this.emptyText){this.on("focus",this.preFocus,this);this.el.on("mousedown",function(){if(!this.hasFocus){this.el.on("mouseup",function(a){a.preventDefault();},this,{single:true});}},this);if(this.emptyText){this.on("blur",this.postBlur,this);this.applyEmptyText();}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.el.on("keypress",this.filterKeys,this);}if(this.grow){this.el.on("keyup",this.onKeyUpBuffered,this,{buffer:50});this.el.on("click",this.autoSize,this);}if(this.enableKeyEvents){this.el.on("keyup",this.onKeyUp,this);this.el.on("keydown",this.onKeyDown,this);this.el.on("keypress",this.onKeyPress,this);}},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a){this.setRawValue(b);return b;}}return a;},filterValidation:function(a){if(!a.isNavKeyPress()){this.validationTask.delay(this.validationDelay);}},onKeyUpBuffered:function(a){if(!a.isNavKeyPress()){this.autoSize();}},onKeyUp:function(a){this.fireEvent("keyup",this,a);},onKeyDown:function(a){this.fireEvent("keydown",this,a);},onKeyPress:function(a){this.fireEvent("keypress",this,a);},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText();},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass);}},preFocus:function(){if(this.emptyText){if(this.el.dom.value==this.emptyText){this.setRawValue("");}this.el.removeClass(this.emptyClass);}if(this.selectOnFocus){this.el.dom.select();}},postBlur:function(){this.applyEmptyText();},filterKeys:function(g){if(g.ctrlKey){return;}var d=g.getKey();if(Ext.isGecko&&(g.isNavKeyPress()||d==g.BACKSPACE||(d==g.DELETE&&g.button==-1))){return;}var b=g.getCharCode(),a=String.fromCharCode(b);if(!Ext.isGecko&&g.isSpecialKey()&&!a){return;}if(!this.maskRe.test(a)){g.stopEvent();}},setValue:function(a){if(this.emptyText&&this.el&&a!==undefined&&a!==null&&a!==""){this.el.removeClass(this.emptyClass);}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();},validateValue:function(b){if(b.length<1||b===this.emptyText){if(this.allowBlank){this.clearInvalid();return true;}else{this.markInvalid(this.blankText);return false;}}if(b.length<this.minLength){this.markInvalid(String.format(this.minLengthText,this.minLength));return false;}if(b.length>this.maxLength){this.markInvalid(String.format(this.maxLengthText,this.maxLength));return false;}if(this.vtype){var a=Ext.form.VTypes;if(!a[this.vtype](b,this)){this.markInvalid(this.vtypeText||a[this.vtype+"Text"]);return false;}}if(typeof this.validator=="function"){var c=this.validator(b);if(c!==true){this.markInvalid(c);return false;}}if(this.regex&&!this.regex.test(b)){this.markInvalid(this.regexText);return false;}return true;},selectText:function(c,e){var a=this.getRawValue();if(a.length>0){c=c===undefined?0:c;e=e===undefined?a.length:e;var b=this.el.dom;if(b.setSelectionRange){b.setSelectionRange(c,e);}else{if(b.createTextRange){var g=b.createTextRange();g.moveStart("character",c);g.moveEnd("character",e-a.length);g.select();}}}},autoSize:function(){if(!this.grow||!this.rendered){return;}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el);}var a=this.el;var e=a.dom.value;var b=document.createElement("div");b.appendChild(document.createTextNode(e));e=b.innerHTML;b=null;e+="&#160;";var c=Math.min(this.growMax,Math.max(this.metrics.getWidth(e)+10,this.growMin));this.el.setWidth(c);this.fireEvent("autosize",this,c);}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,onResize:function(a,b){Ext.form.TriggerField.superclass.onResize.call(this,a,b);if(typeof a=="number"){this.el.setWidth(this.adjustWidth("input",a-this.trigger.getWidth()));}this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0]);}},onRender:function(b,a){Ext.form.TriggerField.superclass.onRender.call(this,b,a);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.triggerClass});if(this.hideTrigger){this.trigger.setDisplayed(false);}this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth());}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);var a;if(Ext.isIE&&!this.hideTrigger&&this.el.getY()!=(a=this.trigger.getY())){this.el.position();this.el.setY(a);}},initTrigger:function(){this.trigger.on("click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click");},onDestroy:function(){if(this.trigger){this.trigger.removeAllListeners();this.trigger.remove();}if(this.wrap){this.wrap.remove();}Ext.form.TriggerField.superclass.onDestroy.call(this);},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass("x-trigger-wrap-focus");this.mimicing=true;Ext.get(Ext.isIE?document.body:document).on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.el.on("keydown",this.checkTab,this);}}},checkTab:function(a){if(a.getKey()==a.TAB){this.triggerBlur();}},onBlur:function(){},mimicBlur:function(a){if(!this.wrap.contains(a.target)&&this.validateBlur(a)){this.triggerBlur();}},triggerBlur:function(){this.mimicing=false;Ext.get(Ext.isIE?document.body:document).un("mousedown",this.mimicBlur,this);if(this.monitorTab){this.el.un("keydown",this.checkTab,this);}this.beforeBlur();this.wrap.removeClass("x-trigger-wrap-focus");Ext.form.TriggerField.superclass.onBlur.call(this);},beforeBlur:Ext.emptyFn,validateBlur:function(a){return true;},onDisable:function(){Ext.form.TriggerField.superclass.onDisable.call(this);if(this.wrap){this.wrap.addClass(this.disabledClass);this.el.removeClass(this.disabledClass);}},onEnable:function(){Ext.form.TriggerField.superclass.onEnable.call(this);if(this.wrap){this.wrap.removeClass(this.disabledClass);}},onShow:function(){if(this.wrap){this.wrap.dom.style.display="";this.wrap.dom.style.visibility="visible";}},onHide:function(){this.wrap.dom.style.display="none";},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,cls:"x-form-trigger "+this.trigger2Class}]};},getTrigger:function(a){return this.triggers[a];},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",true);this.wrap.setStyle("overflow","hidden");var b=this;a.each(function(g,d,e){g.hide=function(){var h=b.wrap.getWidth();this.dom.style.display="none";b.el.setWidth(h-b.trigger.getWidth());};g.show=function(){var h=b.wrap.getWidth();this.dom.style.display="";b.el.setWidth(h-b.trigger.getWidth());};var c="Trigger"+(e+1);if(this["hide"+c]){g.dom.style.display="none";}g.on("click",this["on"+c+"Click"],this,{preventDefault:true});g.addClassOnOver("x-form-trigger-over");g.addClassOnClick("x-form-trigger-click");},this);this.triggers=a.elements;},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",growPad:0,enterIsSpecial:false,preventScrollbars:false,onRender:function(b,a){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"};}Ext.form.TextArea.superclass.onRender.call(this,b,a);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden");}this.el.setHeight(this.growMin);}},onDestroy:function(){if(this.textSizeEl){Ext.removeNode(this.textSizeEl);}Ext.form.TextArea.superclass.onDestroy.call(this);},fireKey:function(a){if(a.isSpecialKey()&&(this.enterIsSpecial||(a.getKey()!=a.ENTER||a.hasModifier()))){this.fireEvent("specialkey",this,a);}},onKeyUp:function(a){if(!a.isNavKeyPress()||a.getKey()==a.ENTER){this.autoSize();}Ext.form.TextArea.superclass.onKeyUp.call(this,a);},autoSize:function(){if(!this.grow||!this.textSizeEl){return;}var a=this.el;var c=a.dom.value;var b=this.textSizeEl;b.innerHTML="";b.appendChild(document.createTextNode(c));c=b.innerHTML;Ext.fly(b).setWidth(this.el.getWidth());if(c.length<1){c="&#160;&#160;";}else{if(Ext.isIE){c=c.replace(/\n/g,"<p>&#160;</p>");}c+=this.growAppend;}b.innerHTML=c;var d=Math.min(this.growMax,Math.max(b.offsetHeight,this.growMin)+this.growPad);if(d!=this.lastHeight){this.lastHeight=d;this.el.setHeight(d);this.fireEvent("autosize",this,d);}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",initEvents:function(){Ext.form.NumberField.superclass.initEvents.call(this);var b=this.baseChars+"";if(this.allowDecimals){b+=this.decimalSeparator;}if(this.allowNegative){b+="-";}this.stripCharsRe=new RegExp("[^"+b+"]","gi");var a=function(c){var g=c.getKey();if(!Ext.isIE&&(c.isSpecialKey()||g==c.BACKSPACE||g==c.DELETE)){return;}var d=c.getCharCode();if(b.indexOf(String.fromCharCode(d))===-1){c.stopEvent();}};this.el.on("keypress",a,this);},validateValue:function(b){if(!Ext.form.NumberField.superclass.validateValue.call(this,b)){return false;}if(b.length<1){return true;}b=String(b).replace(this.decimalSeparator,".");if(isNaN(b)){this.markInvalid(String.format(this.nanText,b));return false;}var a=this.parseValue(b);if(a<this.minValue){this.markInvalid(String.format(this.minText,this.minValue));return false;}if(a>this.maxValue){this.markInvalid(String.format(this.maxText,this.maxValue));return false;}return true;},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)));},setValue:function(a){a=typeof a=="number"?a:parseFloat(String(a).replace(this.decimalSeparator,"."));a=isNaN(a)?"":String(a).replace(".",this.decimalSeparator);Ext.form.NumberField.superclass.setValue.call(this,a);},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?"":a;},fixPrecision:function(b){var a=isNaN(b);if(!this.allowDecimals||this.decimalPrecision==-1||a||!b){return a?"":b;}return parseFloat(parseFloat(b).toFixed(this.decimalPrecision));},beforeBlur:function(){var a=this.parseValue(this.getRawValue());if(a){this.setValue(this.fixPrecision(a));}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue);}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue);}this.disabledDatesRE=null;this.initDisabledDays();},initDisabledDays:function(){if(this.disabledDates){var b=this.disabledDates;var a="(?:";for(var c=0;c<b.length;c++){a+=b[c];if(c!=b.length-1){a+="|";}}this.disabledDatesRE=new RegExp(a+")");}},setDisabledDates:function(a){this.disabledDates=a;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE);}},setDisabledDays:function(a){this.disabledDays=a;if(this.menu){this.menu.picker.setDisabledDays(a);}},setMinValue:function(a){this.minValue=(typeof a=="string"?this.parseDate(a):a);if(this.menu){this.menu.picker.setMinDate(this.minValue);}},setMaxValue:function(a){this.maxValue=(typeof a=="string"?this.parseDate(a):a);if(this.menu){this.menu.picker.setMaxDate(this.maxValue);}},validateValue:function(b){b=this.formatDate(b);if(!Ext.form.DateField.superclass.validateValue.call(this,b)){return false;}if(b.length<1){return true;}var g=b;b=this.parseDate(b);if(!b){this.markInvalid(String.format(this.invalidText,g,this.format));return false;}var c=b.getTime();if(this.minValue&&c<this.minValue.getTime()){this.markInvalid(String.format(this.minText,this.formatDate(this.minValue)));return false;}if(this.maxValue&&c>this.maxValue.getTime()){this.markInvalid(String.format(this.maxText,this.formatDate(this.maxValue)));return false;}if(this.disabledDays){var d=b.getDay();for(var e=0;e<this.disabledDays.length;e++){if(d===this.disabledDays[e]){this.markInvalid(this.disabledDaysText);return false;}}}var a=this.formatDate(b);if(this.disabledDatesRE&&this.disabledDatesRE.test(a)){this.markInvalid(String.format(this.disabledDatesText,a));return false;}return true;},validateBlur:function(){return !this.menu||!this.menu.isVisible();},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||"";},setValue:function(a){Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)));},parseDate:function(b){if(!b||Ext.isDate(b)){return b;}var d=Date.parseDate(b,this.format);if(!d&&this.altFormats){if(!this.altFormatsArray){this.altFormatsArray=this.altFormats.split("|");}for(var a=0,c=this.altFormatsArray.length;a<c&&!d;a++){d=Date.parseDate(b,this.altFormatsArray[a]);}}return d;},onDestroy:function(){if(this.menu){this.menu.destroy();}if(this.wrap){this.wrap.remove();}Ext.form.DateField.superclass.onDestroy.call(this);},formatDate:function(a){return Ext.isDate(a)?a.dateFormat(this.format):a;},menuListeners:{select:function(a,b){this.setValue(b);},show:function(){this.onFocus();},hide:function(){this.focus.defer(10,this);var a=this.menuListeners;this.menu.un("select",a.select,this);this.menu.un("show",a.show,this);this.menu.un("hide",a.hide,this);}},onTriggerClick:function(){if(this.disabled){return;}if(this.menu==null){this.menu=new Ext.menu.DateMenu();}Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.on(Ext.apply({},this.menuListeners,{scope:this}));this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");},beforeBlur:function(){var a=this.parseDate(this.getRawValue());if(a){this.setValue(a);}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:function(){},isValid:function(){return true;},validate:function(){return true;},getRawValue:function(){var a=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(a===this.emptyText){a="";}if(this.htmlEncode){a=Ext.util.Format.htmlDecode(a);}return a;},getValue:function(){return this.getRawValue();},setRawValue:function(a){if(this.htmlEncode){a=Ext.util.Format.htmlEncode(a);}return this.rendered?(this.el.dom.innerHTML=(a===null||a===undefined?"":a)):(this.value=a);},setValue:function(a){this.setRawValue(a);}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,editable:true,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){this.allowDomMove=false;var e=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=e.name;}if(!this.store){this.mode="local";var b=[],h=e.options;for(var g=0,c=h.length;g<c;g++){var a=h[g];var k=(Ext.isIE?a.getAttributeNode("value").specified:a.hasAttribute("value"))?a.value:a.text;if(a.selected){this.value=k;}b.push([k,a.text]);}this.store=new Ext.data.ArrayStore({id:0,fields:["value","text"],data:b});this.valueField="value";this.displayField="text";}e.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(e,this.autoCreate||this.defaultAutoCreate);Ext.removeNode(e);this.render(this.el.parentNode);}else{Ext.removeNode(e);}}else{if(Ext.isArray(this.store)){if(Ext.isArray(this.store[0])){this.store=new Ext.data.ArrayStore({fields:["value","text"],data:this.store});this.valueField="value";}else{this.store=new Ext.data.ArrayStore({fields:["text"],data:this.store,expandData:true});this.valueField="text";}this.displayField="text";this.mode="local";}}this.selectedIndex=-1;if(this.mode=="local"){if(this.initialConfig.queryDelay===undefined){this.queryDelay=10;}if(this.initialConfig.minChars===undefined){this.minChars=0;}}},onRender:function(b,a){Ext.form.ComboBox.superclass.onRender.call(this,b,a);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||this.hiddenName)},"before",true);this.el.dom.removeAttribute("name");}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off");}if(!this.lazyInit){this.initList();}else{this.on("focus",this.initList,this,{single:true});}if(!this.editable){this.editable=true;this.setEditable(false);}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=this.hiddenValue!==undefined?this.hiddenValue:this.value!==undefined?this.value:"";}},initList:function(){if(!this.list){var a="x-combo-list";this.list=new Ext.Layer({shadow:this.shadow,cls:[a,this.listClass].join(" "),constrain:false});var b=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setWidth(b);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.title){this.header=this.list.createChild({cls:a+"-hd",html:this.title});this.assetHeight+=this.header.getHeight();}this.innerList=this.list.createChild({cls:a+"-inner"});this.innerList.on("mouseover",this.onViewOver,this);this.innerList.on("mousemove",this.onViewMove,this);this.innerList.setWidth(b-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:a+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight();}if(!this.tpl){this.tpl='<tpl for="."><div class="'+a+'-item">{'+this.displayField+"}</div></tpl>";}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+a+"-item"});this.view.on("click",this.onViewClick,this);this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.resizer.on("resize",function(d,e,c){this.maxHeight=c-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=e;this.innerList.setWidth(e-this.list.getFrameWidth("lr"));this.restrictHeight();},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px");}}},bindStore:function(a,b){if(this.store&&!b){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.collapse,this);if(!a){this.store=null;if(this.view){this.view.setStore(null);}}}if(a){this.store=Ext.StoreMgr.lookup(a);this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.collapse,this);if(this.view){this.view.setStore(a);}}},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(a){this.inKeyMode=true;this.selectPrev();},down:function(a){if(!this.isExpanded()){this.onTriggerClick();}else{this.inKeyMode=true;this.selectNext();}},enter:function(a){this.onViewClick();this.delayedCheck=true;this.unsetDelayCheck.defer(10,this);},esc:function(a){this.collapse();},tab:function(a){this.onViewClick(false);return true;},scope:this,doRelay:function(a,c,b){if(b=="down"||this.scope.isExpanded()){return Ext.KeyNav.prototype.doRelay.apply(this,arguments);}return true;},forceKeyDown:true});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this);}if(this.editable!==false){this.el.on("keyup",this.onKeyUp,this);}if(this.forceSelection){this.on("blur",this.doForce,this);}},onDestroy:function(){if(this.view){Ext.destroy(this.view);}if(this.list){if(this.innerList){this.innerList.un("mouseover",this.onViewOver,this);this.innerList.un("mousemove",this.onViewMove,this);}this.list.destroy();}this.bindStore(null);Ext.form.ComboBox.superclass.onDestroy.call(this);},unsetDelayCheck:function(){delete this.delayedCheck;},fireKey:function(a){if(a.isNavKeyPress()&&!this.isExpanded()&&!this.delayedCheck){this.fireEvent("specialkey",this,a);}},onResize:function(b,c){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(this.list&&this.listWidth===undefined){var a=Math.max(b,this.minListWidth);this.list.setWidth(a);this.innerList.setWidth(a-this.list.getFrameWidth("lr"));}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false;}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true;}},setEditable:function(a){if(a==this.editable){return;}this.editable=a;if(!a){this.el.dom.setAttribute("readOnly",true);this.el.on("mousedown",this.onTriggerClick,this);this.el.addClass("x-combo-noedit");}else{this.el.dom.setAttribute("readOnly",false);this.el.un("mousedown",this.onTriggerClick,this);this.el.removeClass("x-combo-noedit");}},onBeforeLoad:function(){if(!this.hasFocus){return;}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1;},onLoad:function(){if(!this.hasFocus){return;}if(this.store.getCount()>0){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select();}if(!this.selectByValue(this.value,true)){this.select(0,true);}}else{this.selectNext();if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay);}}}else{this.onEmptyResults();}},onTypeAhead:function(){if(this.store.getCount()>0){var d=this.store.getAt(0);var a=d.data[this.displayField];var c=a.length;var b=this.getRawValue().length;if(b!=c){this.setRawValue(a);this.selectText(b,a.length);}}},onSelect:function(a,b){if(this.fireEvent("beforeselect",this,a,b)!==false){this.setValue(a.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,a,b);}},getValue:function(){if(this.valueField){return typeof this.value!="undefined"?this.value:"";}else{return Ext.form.ComboBox.superclass.getValue.call(this);}},clearValue:function(){if(this.hiddenField){this.hiddenField.value="";}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value="";},setValue:function(b){var a=b;if(this.valueField){var c=this.findRecord(this.valueField,b);if(c){a=c.data[this.displayField];}else{if(this.valueNotFoundText!==undefined){a=this.valueNotFoundText;}}}this.lastSelectionText=a;if(this.hiddenField){this.hiddenField.value=b;}Ext.form.ComboBox.superclass.setValue.call(this,a);this.value=b;},findRecord:function(a,c){var b;if(this.store.getCount()>0){this.store.each(function(d){if(d.data[a]==c){b=d;return false;}});}return b;},onViewMove:function(b,a){this.inKeyMode=false;},onViewOver:function(b,d){if(this.inKeyMode){return;}var a=this.view.findItemFromChild(d);if(a){var c=this.view.indexOf(a);this.select(c,false);}},onViewClick:function(c){var b=this.view.getSelectedIndexes()[0];var a=this.store.getAt(b);if(a){this.onSelect(a,b);}if(c!==false){this.el.focus();}},restrictHeight:function(){this.innerList.dom.style.height="";var e=this.innerList.dom;var b=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight;var g=Math.max(e.clientHeight,e.offsetHeight,e.scrollHeight);var d=this.getPosition()[1]-Ext.getBody().getScroll().top;var c=Ext.lib.Dom.getViewHeight()-d-this.getSize().height;var a=Math.max(d,c,this.minHeight||0)-this.list.shadowOffset-b-5;g=Math.min(g,a,this.maxHeight);this.innerList.setHeight(g);this.list.beginUpdate();this.list.setHeight(g+b);this.list.alignTo(this.wrap,this.listAlign);this.list.endUpdate();},onEmptyResults:function(){this.collapse();},isExpanded:function(){return this.list&&this.list.isVisible();},selectByValue:function(b,a){if(b!==undefined&&b!==null){var c=this.findRecord(this.valueField||this.displayField,b);if(c){this.select(this.store.indexOf(c),a);return true;}}return false;},select:function(b,a){this.selectedIndex=b;this.view.select(b);if(a!==false){var c=this.view.getNode(b);if(c){this.innerList.scrollChildIntoView(c,false);}}},selectNext:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0);}else{if(this.selectedIndex<a-1){this.select(this.selectedIndex+1);}}}},selectPrev:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0);}else{if(this.selectedIndex!=0){this.select(this.selectedIndex-1);}}}},onKeyUp:function(a){if(this.editable!==false&&!a.isSpecialKey()){this.lastKey=a.getKey();this.dqTask.delay(this.queryDelay);}},validateBlur:function(){return !this.list||!this.list.isVisible();},initQuery:function(){this.doQuery(this.getRawValue());},doForce:function(){if(this.el.dom.value.length>0){this.el.dom.value=this.lastSelectionText===undefined?"":this.lastSelectionText;this.applyEmptyText();}},doQuery:function(a,c){if(a===undefined||a===null){a="";}var b={query:a,forceAll:c,combo:this,cancel:false};if(this.fireEvent("beforequery",b)===false||b.cancel){return false;}a=b.query;c=b.forceAll;if(c===true||(a.length>=this.minChars)){if(this.lastQuery!==a){this.lastQuery=a;if(this.mode=="local"){this.selectedIndex=-1;if(c){this.store.clearFilter();}else{this.store.filter(this.displayField,a);}this.onLoad();}else{this.store.baseParams[this.queryParam]=a;this.store.load({params:this.getParams(a)});this.expand();}}else{this.selectedIndex=-1;this.onLoad();}}},getParams:function(a){var b={};if(this.pageSize){b.start=0;b.limit=this.pageSize;}return b;},collapse:function(){if(!this.isExpanded()){return;}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this);},collapseIf:function(a){if(!a.within(this.wrap)&&!a.within(this.list)){this.collapse();}},expand:function(){if(this.isExpanded()||!this.hasFocus){return;}this.list.alignTo(this.wrap,this.listAlign);this.list.show();this.innerList.setOverflow("auto");Ext.getDoc().on("mousewheel",this.collapseIf,this);Ext.getDoc().on("mousedown",this.collapseIf,this);this.fireEvent("expand",this);},onTriggerClick:function(){if(this.disabled){return;}if(this.isExpanded()){this.collapse();this.el.focus();}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true);}else{this.doQuery(this.getRawValue());}this.el.focus();}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check");},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel){this.el.alignTo(this.wrap,"c-c");}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.el.on("click",this.onClick,this);this.el.on("change",this.onClick,this);},getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(b,a){Ext.form.Checkbox.superclass.onRender.call(this,b,a);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue;}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel});}if(this.checked){this.setValue(true);}else{this.checked=this.el.dom.checked;}},onDestroy:function(){if(this.wrap){this.wrap.remove();}Ext.form.Checkbox.superclass.onDestroy.call(this);},initValue:Ext.emptyFn,getValue:function(){if(this.rendered){return this.el.dom.checked;}return false;},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked);}},setValue:function(a){this.checked=(a===true||a==="true"||a=="1"||String(a).toLowerCase()=="on");if(this.el&&this.el.dom){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked;}this.fireEvent("check",this,this.checked);}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",onRender:function(m,h){if(!this.el){var e={cls:this.groupCls,layout:"column",border:false,renderTo:m};var s={defaultType:this.defaultType,layout:"form",border:false,defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(e,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var d=0,o=this.items.length;d<o;d++){Ext.applyIf(this.items[d],s);}}else{var c,p=[];if(typeof this.columns=="string"){this.columns=this.items.length;}if(!Ext.isArray(this.columns)){var n=[];for(var d=0;d<this.columns;d++){n.push((100/this.columns)*0.01);}this.columns=n;}c=this.columns.length;for(var d=0;d<c;d++){var a=Ext.apply({items:[]},s);a[this.columns[d]<=1?"columnWidth":"width"]=this.columns[d];if(this.defaults){a.defaults=Ext.apply(a.defaults||{},this.defaults);}p.push(a);}if(this.vertical){var r=Math.ceil(this.items.length/c),q=0;for(var d=0,o=this.items.length;d<o;d++){if(d>0&&d%r==0){q++;}if(this.items[d].fieldLabel){this.items[d].hideLabel=false;}p[q].items.push(this.items[d]);}}else{for(var d=0,o=this.items.length;d<o;d++){var g=d%c;if(this.items[d].fieldLabel){this.items[d].hideLabel=false;}p[g].items.push(this.items[d]);}}Ext.apply(e,{layoutConfig:{columns:c},items:p});}this.panel=new Ext.Panel(e);this.el=this.panel.getEl();if(this.forId&&this.itemCls){var b=this.el.up(this.itemCls).child("label",true);if(b){b.setAttribute("htmlFor",this.forId);}}var k=this.panel.findBy(function(i){return i.isFormField;},this);this.items=new Ext.util.MixedCollection();this.items.addAll(k);}Ext.form.CheckboxGroup.superclass.onRender.call(this,m,h);},validateValue:function(a){if(!this.allowBlank){var b=true;this.items.each(function(c){if(c.checked){return b=false;}},this);if(b){this.markInvalid(this.blankText);return false;}}return true;},onDisable:function(){this.items.each(function(a){a.disable();});},onEnable:function(){this.items.each(function(a){a.enable();});},onResize:function(a,b){this.panel.setSize(a,b);this.panel.doLayout();},reset:function(){Ext.form.CheckboxGroup.superclass.reset.call(this);this.items.each(function(a){if(a.reset){a.reset();}},this);},initValue:Ext.emptyFn,getValue:Ext.emptyFn,getRawValue:Ext.emptyFn,setValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var a=this.el.up("form")||Ext.getBody();var b=a.child("input[name="+this.el.dom.name+"]:checked",true);return b?b.value:null;},onClick:function(){if(this.el.dom.checked!=this.checked){var b=this.el.up("form")||Ext.getBody();var a=b.select("input[name="+this.el.dom.name+"]");a.each(function(c){if(c.dom.id==this.id){this.setValue(true);}else{Ext.getCmp(c.dom.id).setValue(false);}},this);}},setValue:function(a){if(typeof a=="boolean"){Ext.form.Radio.superclass.setValue.call(this,a);}else{var b=this.el.up("form").child("input[name="+this.el.dom.name+"][value="+a+"]",true);if(b){b.checked=true;}}}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group"});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments);},initEvents:function(){this.originalValue=this.getValue();},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=function(b,a){Ext.apply(this,a);this.items=new Ext.util.MixedCollection(false,function(c){return c.id||(c.id=Ext.id());});this.addEvents("beforeaction","actionfailed","actioncomplete");if(b){this.initEl(b);}Ext.form.BasicForm.superclass.constructor.call(this);};Ext.extend(Ext.form.BasicForm,Ext.util.Observable,{timeout:30,activeAction:null,trackResetOnLoad:false,initEl:function(a){this.el=Ext.get(a);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this);}this.el.addClass("x-form");},getEl:function(){return this.el;},onSubmit:function(a){a.stopEvent();},destroy:function(){this.items.each(function(a){Ext.destroy(a);});if(this.el){this.el.removeAllListeners();this.el.remove();}this.purgeListeners();},isValid:function(){var a=true;this.items.each(function(b){if(!b.validate()){a=false;}});return a;},isDirty:function(){var a=false;this.items.each(function(b){if(b.isDirty()){a=true;return false;}});return a;},doAction:function(b,a){if(typeof b=="string"){b=new Ext.form.Action.ACTION_TYPES[b](this,a);}if(this.fireEvent("beforeaction",this,b)!==false){this.beforeAction(b);b.run.defer(100,b);}return this;},submit:function(b){if(this.standardSubmit){var a=this.isValid();if(a){this.el.dom.submit();}return a;}this.doAction("submit",b);return this;},load:function(a){this.doAction("load",a);return this;},updateRecord:function(b){b.beginEdit();var a=b.fields;a.each(function(c){var d=this.findField(c.name);if(d){b.set(c.name,d.getValue());}},this);b.endEdit();return this;},loadRecord:function(a){this.setValues(a.data);return this;},beforeAction:function(a){var b=a.options;if(b.waitMsg){if(this.waitMsgTarget===true){this.el.mask(b.waitMsg,"x-mask-loading");}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(b.waitMsg,"x-mask-loading");}else{Ext.MessageBox.wait(b.waitMsg,b.waitTitle||this.waitTitle||"Please Wait...");}}}},afterAction:function(b,a){this.activeAction=null;var c=b.options;if(c.waitMsg){if(this.waitMsgTarget===true){this.el.unmask();}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask();}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide();}}}if(a){if(c.reset){this.reset();}Ext.callback(c.success,c.scope,[this,b]);this.fireEvent("actioncomplete",this,b);}else{Ext.callback(c.failure,c.scope,[this,b]);this.fireEvent("actionfailed",this,b);}},findField:function(b){var a=this.items.get(b);if(!a){this.items.each(function(c){if(c.isFormField&&(c.dataIndex==b||c.id==b||c.getName()==b)){a=c;return false;}});}return a||null;},markInvalid:function(b){if(Ext.isArray(b)){for(var e=0,c=b.length;e<c;e++){var d=b[e];var g=this.findField(d.id);if(g){g.markInvalid(d.msg);}}}else{var h,a;for(a in b){if(typeof b[a]!="function"&&(h=this.findField(a))){h.markInvalid(b[a]);}}}return this;},setValues:function(e){if(Ext.isArray(e)){for(var g=0,c=e.length;g<c;g++){var d=e[g];var h=this.findField(d.id);if(h){h.setValue(d.value);if(this.trackResetOnLoad){h.originalValue=h.getValue();}}}}else{var a,b;for(b in e){if(typeof e[b]!="function"&&(a=this.findField(b))){a.setValue(e[b]);if(this.trackResetOnLoad){a.originalValue=a.getValue();}}}}return this;},getValues:function(b){var a=Ext.lib.Ajax.serializeForm(this.el.dom);if(b===true){return a;}return Ext.urlDecode(a);},getFieldValues:function(){var a={};this.items.each(function(b){a[b.getName()]=b.getValue();});return a;},clearInvalid:function(){this.items.each(function(a){a.clearInvalid();});return this;},reset:function(){this.items.each(function(a){a.reset();});return this;},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this;},remove:function(a){this.items.remove(a);return this;},render:function(){this.items.each(function(a){if(a.isFormField&&!a.rendered&&document.getElementById(a.id)){a.applyToMarkup(a.id);}});return this;},applyToFields:function(a){this.items.each(function(b){Ext.apply(b,a);});return this;},applyIfToFields:function(a){this.items.each(function(b){Ext.applyIf(b,a);});return this;},callFieldMethod:function(b,a){a=a||[];this.items.each(function(c){if(typeof c[b]=="function"){c[b].apply(c,a);}});return this;}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{buttonAlign:"center",minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data";}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"]);},createForm:function(){delete this.initialConfig.listeners;return new Ext.form.BasicForm(null,this.initialConfig);},initFields:function(){var a=this.form;var b=this;var c=function(d){if(d.isFormField){a.add(d);}if(d.isFieldWrap){Ext.applyIf(d,{labelAlign:d.ownerCt.labelAlign,labelWidth:d.ownerCt.labelWidth,itemCls:d.ownerCt.itemCls});a.add(d.field);}else{if(d.doLayout&&d!=b){Ext.applyIf(d,{labelAlign:d.ownerCt.labelAlign,labelWidth:d.ownerCt.labelWidth,itemCls:d.ownerCt.itemCls});if(d.items){d.items.each(c);}}}};this.items.each(c);},getLayoutTarget:function(){return this.form.el;},getForm:function(){return this.form;},onRender:function(b,a){this.initFields();Ext.FormPanel.superclass.onRender.call(this,b,a);this.form.initEl(this.body);},beforeDestroy:function(){Ext.FormPanel.superclass.beforeDestroy.call(this);this.stopMonitoring();Ext.destroy(this.form);},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.items.on("remove",this.onRemove,this);this.items.on("add",this.onAdd,this);if(this.monitorValid){this.startMonitoring();}},onAdd:function(a,b){if(b.isFormField){this.form.add(b);}},onRemove:function(a){if(a.isFormField){Ext.destroy(a.container.up(".x-form-item"));this.form.remove(a);}},startMonitoring:function(){if(!this.bound){this.bound=true;Ext.TaskMgr.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this});}},stopMonitoring:function(){this.bound=false;},load:function(){this.form.load.apply(this.form,arguments);},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable();});}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable();});}},bindHandler:function(){if(!this.bound){return false;}var c=true;this.form.items.each(function(g){if(!g.isValid(true)){c=false;return false;}});if(this.fbar){var e=this.fbar.items.items;for(var b=0,d=e.length;b<d;b++){var a=e[b];if(a.formBind===true&&a.disabled===c){a.setDisabled(!c);}}}this.fireEvent("clientvalidation",this,c);}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",onRender:function(c,b){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className="x-fieldset-header";}}Ext.form.FieldSet.superclass.onRender.call(this,c,b);if(this.checkboxToggle){var a=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(a);this.checkbox.dom.checked=!this.collapsed;this.checkbox.on("click",this.onCheckClick,this);}},onCollapse:function(a,b){if(this.checkbox){this.checkbox.dom.checked=false;}this.afterCollapse();},onExpand:function(a,b){if(this.checkbox){this.checkbox.dom.checked=true;}this.afterExpand();},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]();},beforeDestroy:function(){if(this.checkbox){this.checkbox.un("click",this.onCheckClick,this);}Ext.form.FieldSet.superclass.beforeDestroy.call(this);}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");},createFontOptions:function(){var a=[],e=this.fontFamilies,g,c;for(var b=0,d=e.length;b<d;b++){g=e[b];c=g.toLowerCase();a.push('<option value="',c,'" style="font-family:',g,';"',(this.defaultFont==c?' selected="true">':">"),g,"</option>");}return a.join("");},createToolbar:function(b){var c=Ext.QuickTips&&Ext.QuickTips.isEnabled();function a(g,h,e){return{itemId:g,cls:"x-btn-icon x-edit-"+g,enableToggle:h!==false,scope:b,handler:e||b.relayBtnCmd,clickEvent:"mousedown",tooltip:c?b.buttonTips[g]||undefined:undefined,tabIndex:-1};}var d=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild});d.el.on("click",function(e){e.preventDefault();});if(this.enableFont&&!Ext.isSafari2){this.fontSelect=d.el.createChild({tag:"select",cls:"x-font-select",html:this.createFontOptions()});this.fontSelect.on("change",function(){var e=this.fontSelect.dom.value;this.relayCmd("fontname",e);this.deferFocus();},this);d.add(this.fontSelect.dom,"-");}if(this.enableFormat){d.add(a("bold"),a("italic"),a("underline"));}if(this.enableFontSize){d.add("-",a("increasefontsize",false,this.adjustFont),a("decreasefontsize",false,this.adjustFont));}if(this.enableColors){d.add("-",{itemId:"forecolor",cls:"x-btn-icon x-edit-forecolor",clickEvent:"mousedown",tooltip:c?b.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,selectHandler:function(g,e){this.execCmd("forecolor",Ext.isSafari||Ext.isIE?"#"+e:e);this.deferFocus();},scope:this,clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon x-edit-backcolor",clickEvent:"mousedown",tooltip:c?b.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,selectHandler:function(g,e){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",e);this.execCmd("useCSS",true);this.deferFocus();}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isSafari||Ext.isIE?"#"+e:e);this.deferFocus();}},scope:this,clickEvent:"mousedown"})});}if(this.enableAlignments){d.add("-",a("justifyleft"),a("justifycenter"),a("justifyright"));}if(!Ext.isSafari2){if(this.enableLinks){d.add("-",a("createlink",false,this.createLink));}if(this.enableLists){d.add("-",a("insertorderedlist"),a("insertunorderedlist"));}if(this.enableSourceEdit){d.add("-",a("sourceedit",true,function(e){this.toggleSourceEdit(e.pressed);}));}}this.tb=d;},getDocMarkup:function(){return'<html><head><style type="text/css">body{border:0;margin:0;padding:3px;height:98%;cursor:text;}</style></head><body></body></html>';},getEditorBody:function(){return this.doc.body||this.doc.documentElement;},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document);},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name];},onRender:function(c,b){Ext.form.HtmlEditor.superclass.onRender.call(this,c,b);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;");}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.tb.items.each(function(d){if(d.itemId!="sourceedit"){d.disable();}});this.tb.doLayout();this.createIFrame();if(!this.width){var a=this.el.getSize();this.setSize(a.width,this.height||a.height);}},createIFrame:function(){var a=document.createElement("iframe");a.name=Ext.id();a.frameBorder="0";a.src=Ext.isIE?Ext.SSL_SECURE_URL:"javascript:;";this.wrap.dom.appendChild(a);this.iframe=a;this.initFrame();if(this.autoMonitorDesignMode!==false){this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100});}},initFrame:function(){this.doc=this.getDoc();this.win=this.getWin();this.doc.open();this.doc.write(this.getDocMarkup());this.doc.close();var a={run:function(){if(this.doc.body||this.doc.readyState=="complete"){Ext.TaskMgr.stop(a);this.doc.designMode="on";this.initEditor.defer(10,this);}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(a);},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var a=this.getDoc();if(!a){return;}if(!a.editorInitialized||String(a.designMode).toLowerCase()!="on"){this.initFrame();}}},onResize:function(d,a){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(typeof d=="number"){var b=d-this.wrap.getFrameWidth("lr");this.el.setWidth(this.adjustWidth("textarea",b));this.iframe.style.width=b+"px";}if(typeof a=="number"){var c=a-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(this.adjustWidth("textarea",c));this.iframe.style.height=c+"px";if(this.doc){this.getEditorBody().style.height=(c-(this.iframePad*2))+"px";}}}},toggleSourceEdit:function(b){if(b===undefined){b=!this.sourceEditMode;}this.sourceEditMode=b===true;var a=this.tb.items.get("sourceedit");if(a.pressed!==this.sourceEditMode){a.toggle(this.sourceEditMode);return;}if(this.sourceEditMode){this.tb.items.each(function(d){if(d.itemId!="sourceedit"){d.disable();}});this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();}else{if(this.initialized){this.tb.items.each(function(d){d.enable();});}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();}var c=this.lastSize;if(c){delete this.lastSize;this.setSize(c);}this.fireEvent("editmodechange",this,this.sourceEditMode);},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!="http://"){this.relayCmd("createlink",a);}},adjustSize:Ext.BoxComponent.prototype.adjustSize,getResizeEl:function(){return this.wrap;},getPositionEl:function(){return this.wrap;},initEvents:function(){this.originalValue=this.getValue();},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){Ext.form.HtmlEditor.superclass.setValue.call(this,a);this.pushValue();},cleanHtml:function(a){a=String(a);if(a.length>5){if(Ext.isSafari){a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"");}}if(a=="&nbsp;"){a="";}return a;},syncValue:function(){if(this.initialized){var b=this.getEditorBody();var a=b.innerHTML;if(Ext.isSafari){var d=b.getAttribute("style");var c=d.match(/text-align:(.*?);/i);if(c&&c[1]){a='<div style="'+c[0]+'">'+a+"</div>";}}a=this.cleanHtml(a);if(this.fireEvent("beforesync",this,a)!==false){this.el.dom.value=a;this.fireEvent("sync",this,a);}}},pushValue:function(){if(this.initialized){var a=this.el.dom.value;if(!this.activated&&a.length<1){a="&nbsp;";}if(this.fireEvent("beforepush",this,a)!==false){this.getEditorBody().innerHTML=a;this.fireEvent("push",this,a);}}},deferFocus:function(){this.focus.defer(10,this);},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus();}else{this.el.focus();}},initEditor:function(){var c=this.getEditorBody();var b=this.el.getStyles("font-size","font-family","background-image","background-repeat");b["background-attachment"]="fixed";c.bgProperties="fixed";Ext.DomHelper.applyStyles(c,b);if(this.doc){try{Ext.EventManager.removeAll(this.doc);}catch(a){}}this.doc=this.getDoc();Ext.EventManager.on(this.doc,{mousedown:this.onEditorEvent,dblclick:this.onEditorEvent,click:this.onEditorEvent,keyup:this.onEditorEvent,buffer:100,scope:this});if(Ext.isGecko){Ext.EventManager.on(this.doc,"keypress",this.applyCommand,this);}if(Ext.isIE||Ext.isSafari||Ext.isOpera){Ext.EventManager.on(this.doc,"keydown",this.fixKeys,this);}this.initialized=true;this.fireEvent("initialize",this);this.doc.editorInitialized=true;this.pushValue();},onDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask);}if(this.rendered){this.tb.items.each(function(a){if(a.menu){a.menu.removeAll();if(a.menu.el){a.menu.el.destroy();}}a.destroy();});this.wrap.dom.innerHTML="";this.wrap.remove();}},onFirstFocus:function(){this.activated=true;this.tb.items.each(function(d){d.enable();});if(Ext.isGecko){this.win.focus();var b=this.win.getSelection();if(!b.focusNode||b.focusNode.nodeType!=3){var c=b.getRangeAt(0);c.selectNodeContents(this.getEditorBody());c.collapse(true);this.deferFocus();}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false);}catch(a){}}this.fireEvent("activate",this);},adjustFont:function(c){var a=c.itemId=="increasefontsize"?1:-1;var b=parseInt(this.doc.queryCommandValue("FontSize")||2,10);if(Ext.isSafari3||Ext.isAir){if(b<=10){b=1+a;}else{if(b<=13){b=2+a;}else{if(b<=16){b=3+a;}else{if(b<=18){b=4+a;}else{if(b<=24){b=5+a;}else{b=6+a;}}}}}b=b.constrain(1,6);}else{if(Ext.isSafari){a*=2;}b=Math.max(1,b+a)+(Ext.isSafari?"px":0);}this.execCmd("FontSize",b);},onEditorEvent:function(a){this.updateToolbar();},updateToolbar:function(){if(!this.activated){this.onFirstFocus();return;}var c=this.tb.items.map,a=this.doc;if(this.enableFont&&!Ext.isSafari2){var b=(this.doc.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(b!=this.fontSelect.dom.value){this.fontSelect.dom.value=b;}}if(this.enableFormat){c.bold.toggle(a.queryCommandState("bold"));c.italic.toggle(a.queryCommandState("italic"));c.underline.toggle(a.queryCommandState("underline"));}if(this.enableAlignments){c.justifyleft.toggle(a.queryCommandState("justifyleft"));c.justifycenter.toggle(a.queryCommandState("justifycenter"));c.justifyright.toggle(a.queryCommandState("justifyright"));}if(!Ext.isSafari2&&this.enableLists){c.insertorderedlist.toggle(a.queryCommandState("insertorderedlist"));c.insertunorderedlist.toggle(a.queryCommandState("insertunorderedlist"));}Ext.menu.MenuMgr.hideAll();this.syncValue();},relayBtnCmd:function(a){this.relayCmd(a.itemId);},relayCmd:function(b,a){(function(){this.focus();this.execCmd(b,a);this.updateToolbar();}).defer(10,this);},execCmd:function(b,a){this.doc.execCommand(b,false,a===undefined?null:a);this.syncValue();},applyCommand:function(d){if(d.ctrlKey){var a=d.getCharCode(),b;if(a>0){a=String.fromCharCode(a);switch(a){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline";break;}if(b){this.win.focus();this.execCmd(b);this.deferFocus();d.preventDefault();}}}},insertAtCursor:function(b){if(!this.activated){return;}if(Ext.isIE){this.win.focus();var a=this.doc.selection.createRange();if(a){a.collapse(true);a.pasteHTML(b);this.syncValue();this.deferFocus();}}else{if(Ext.isGecko||Ext.isOpera){this.win.focus();this.execCmd("InsertHTML",b);this.deferFocus();}else{if(Ext.isSafari){this.execCmd("InsertText",b);this.deferFocus();}}}},fixKeys:function(){if(Ext.isIE){return function(b){var c=b.getKey(),d;if(c==b.TAB){b.stopEvent();d=this.doc.selection.createRange();if(d){d.collapse(true);d.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}}else{if(c==b.ENTER){d=this.doc.selection.createRange();if(d){var a=d.parentElement();if(!a||a.tagName.toLowerCase()!="li"){b.stopEvent();d.pasteHTML("<br />");d.collapse(false);d.select();}}}}};}else{if(Ext.isOpera){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus();}};}else{if(Ext.isSafari){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.execCmd("InsertText","\t");this.deferFocus();}};}}}}(),getToolbar:function(){return this.tb;},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:null,maxValue:null,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initComponent:function(){Ext.form.TimeField.superclass.initComponent.call(this);if(typeof this.minValue=="string"){this.minValue=this.parseDate(this.minValue);}if(typeof this.maxValue=="string"){this.maxValue=this.parseDate(this.maxValue);}if(!this.store){var c=this.parseDate(this.minValue);if(!c){c=new Date(this.initDate).clearTime();}var b=this.parseDate(this.maxValue);if(!b){b=new Date(this.initDate).clearTime().add("mi",(24*60)-1);}var a=[];while(c<=b){a.push([c.dateFormat(this.format)]);c=c.add("mi",this.increment);}this.store=new Ext.data.ArrayStore({fields:["text"],data:a});this.displayField="text";}},getValue:function(){var a=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(a))||"";},setValue:function(a){Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)));},validateValue:Ext.form.DateField.prototype.validateValue,parseDate:Ext.form.DateField.prototype.parseDate,formatDate:Ext.form.DateField.prototype.formatDate,beforeBlur:function(){var a=this.parseDate(this.getRawValue());if(a){this.setValue(a.dateFormat(this.format));}}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(b,a){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId);}}Ext.form.Label.superclass.onRender.call(this,b,a);},setText:function(a,b){this.text=a;if(this.rendered){this.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(a):a;}return this;}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(b,a){this.form=b;this.options=a||{};};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(a){},success:function(a){},handleResponse:function(a){},failure:function(a){this.response=a;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false);},processResponse:function(a){this.response=a;if(!a.responseText){return true;}this.result=this.handleResponse(a);return this.result;},getUrl:function(a){var b=this.options.url||this.form.url||this.form.el.dom.action;if(a){var c=this.getParams();if(c){b+=(b.indexOf("?")!=-1?"&":"?")+c;}}return b;},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase();},getParams:function(){var a=this.form.baseParams;var b=this.options.params;if(b){if(typeof b=="object"){b=Ext.urlEncode(Ext.applyIf(b,a));}else{if(typeof b=="string"&&a){b+="&"+Ext.urlEncode(a);}}}else{if(a){b=Ext.urlEncode(a);}}return b;},createCallback:function(a){var a=a||{};return{success:this.success,failure:this.failure,scope:this,timeout:(a.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined};}};Ext.form.Action.Submit=function(b,a){Ext.form.Action.Submit.superclass.constructor.call(this,b,a);};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var c=this.options;var a=this.getMethod();var b=a=="GET";if(c.clientValidation===false||this.form.isValid()){Ext.Ajax.request(Ext.apply(this.createCallback(c),{form:this.form.el.dom,url:this.getUrl(b),method:a,headers:c.headers,params:!b?this.getParams():null,isUpload:this.form.fileUpload}));}else{if(c.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false);}}},success:function(b){var a=this.processResponse(b);if(a===true||a.success){this.form.afterAction(this,true);return;}if(a.errors){this.form.markInvalid(a.errors);this.failureType=Ext.form.Action.SERVER_INVALID;}this.form.afterAction(this,false);},handleResponse:function(g){if(this.form.errorReader){var e=this.form.errorReader.read(g);var c=[];if(e.records){for(var a=0,d=e.records.length;a<d;a++){var b=e.records[a];c[a]=b.data;}}if(c.length<1){c=null;}return{success:e.success,errors:c};}return Ext.decode(g.responseText);}});Ext.form.Action.Load=function(b,a){Ext.form.Action.Load.superclass.constructor.call(this,b,a);this.reader=this.form.reader;};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}));},success:function(b){var a=this.processResponse(b);if(a===true||!a.success||!a.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return;}this.form.clearInvalid();this.form.setValues(a.data);this.form.afterAction(this,true);},handleResponse:function(c){if(this.form.reader){var b=this.form.reader.read(c);var a=b.records&&b.records[0]?b.records[0].data:null;return{success:b.success,data:a};}return Ext.decode(c.responseText);}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit};Ext.form.VTypes=function(){var a=/^[a-zA-Z_]+$/;var b=/^[a-zA-Z0-9_]+$/;var d=/^([\w]+)(.[\w]+)*@([\w-]+\.){1,5}([A-Za-z]){2,4}$/;var c=/(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(e){return d.test(e);},emailText:'This field should be an e-mail address in the format "user@domain.com"',emailMask:/[a-z0-9_\.\-@]/i,url:function(e){return c.test(e);},urlText:'This field should be a URL in the format "http://www.domain.com"',alpha:function(e){return a.test(e);},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return b.test(e);},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i};}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{ddText:"{0} selected row{1}",minColumnWidth:25,trackMouseOver:true,enableDragDrop:false,enableColumnMove:true,enableColumnHide:true,enableHdMenu:true,stripeRows:false,autoExpandColumn:false,autoExpandMin:50,autoExpandMax:1000,view:null,loadMask:false,columnLines:false,deferRowRender:true,rendered:false,viewReady:false,stateEvents:["columnmove","columnresize","sortchange"],initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines";}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns;}if(this.ds){this.store=this.ds;delete this.ds;}if(this.cm){this.colModel=this.cm;delete this.cm;}if(this.sm){this.selModel=this.sm;delete this.sm;}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","bodyscroll","columnresize","columnmove","sortchange");},onRender:function(a,d){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var b=this.body;this.el.addClass("x-grid-panel");var e=this.getView();e.init(this);b.on("mousedown",this.onMouseDown,this);b.on("click",this.onClick,this);b.on("dblclick",this.onDblClick,this);b.on("contextmenu",this.onContextMenu,this);b.on("keydown",this.onKeyDown,this);this.relayEvents(b,["mousedown","mouseup","mouseover","mouseout","keypress"]);this.getSelectionModel().init(this);this.view.render();},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask));}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.colModel.on("hiddenchange",this.saveState,this,{delay:100});},applyState:function(h){var l=this.colModel;var g=h.columns;if(g){for(var d=0,a=g.length;d<a;d++){var e=g[d];var b=l.getColumnById(e.id);if(b){b.hidden=e.hidden;b.width=e.width;var k=l.getIndexById(e.id);if(k!=d){l.moveColumn(k,d);}}}}if(h.sort&&this.store){this.store[this.store.remoteSort?"setDefaultSort":"sort"](h.sort.field,h.sort.direction);}},getState:function(){var a={columns:[]};for(var e=0,b;b=this.colModel.config[e];e++){a.columns[e]={id:b.id,width:b.width};if(b.hidden){a.columns[e].hidden=true;}}if(this.store){var d=this.store.getSortState();if(d){a.sort=d;}}return a;},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);this.view.layout();if(this.deferRowRender){this.view.afterRender.defer(10,this.view);}else{this.view.afterRender();}this.viewReady=true;},reconfigure:function(a,b){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:a},this.initialConfig.loadMask));}this.view.bind(a,b);this.store=a;this.colModel=b;if(this.rendered){this.view.refresh(true);}},onKeyDown:function(a){this.fireEvent("keydown",a);},onDestroy:function(){if(this.rendered){if(this.loadMask){this.loadMask.destroy();}var a=this.body;a.removeAllListeners();this.view.destroy();a.update("");}this.colModel.purgeListeners();Ext.grid.GridPanel.superclass.onDestroy.call(this);},processEvent:function(g,i){this.fireEvent(g,i);var h=i.getTarget();var d=this.view;var b=d.findHeaderIndex(h);if(b!==false){this.fireEvent("header"+g,this,b,i);}else{var a=d.findRowIndex(h);var c=d.findCellIndex(h);if(a!==false){this.fireEvent("row"+g,this,a,i);if(c!==false){this.fireEvent("cell"+g,this,a,c,i);}}}},onClick:function(a){this.processEvent("click",a);},onMouseDown:function(a){this.processEvent("mousedown",a);},onContextMenu:function(b,a){this.processEvent("contextmenu",b);},onDblClick:function(a){this.processEvent("dblclick",a);},walkCells:function(g,k,i,a,e){var d=this.colModel,b=d.getColumnCount();var h=this.store,c=h.getCount(),l=true;if(i<0){if(k<0){g--;l=false;}while(g>=0){if(!l){k=b-1;}l=false;while(k>=0){if(a.call(e||this,g,k,d)===true){return[g,k];}k--;}g--;}}else{if(k>=b){g++;l=false;}while(g<c){if(!l){k=0;}l=false;while(k<b){if(a.call(e||this,g,k,d)===true){return[g,k];}k++;}g++;}}return null;},getSelections:function(){return this.selModel.getSelections();},onResize:function(){Ext.grid.GridPanel.superclass.onResize.apply(this,arguments);if(this.viewReady){this.view.layout();}},getGridEl:function(){return this.body;},stopEditing:function(){},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null);}return this.selModel;},getStore:function(){return this.store;},getColumnModel:function(){return this.colModel;},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig);}return this.view;},getDragDropText:function(){var a=this.selModel.getCount();return String.format(this.ddText,a,a==1?"":"s");}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.GridView=function(a){Ext.apply(this,a);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this);};Ext.extend(Ext.grid.GridView,Ext.util.Observable,{deferEmptyText:true,scrollOffset:19,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",initTemplates:function(){var a=this.templates||{};if(!a.master){a.master=new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header"><div class="x-grid3-header-inner"><div class="x-grid3-header-offset">{header}</div></div><div class="x-clear"></div></div>','<div class="x-grid3-scroller"><div class="x-grid3-body">{body}</div><a href="#" class="x-grid3-focus" tabIndex="-1"></a></div>',"</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>");}if(!a.header){a.header=new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">','<thead><tr class="x-grid3-hd-row">{cells}</tr></thead>',"</table>");}if(!a.hcell){a.hcell=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id}" style="{style}"><div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"",'{value}<img class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div></td>");}if(!a.body){a.body=new Ext.Template("{rows}");}if(!a.row){a.row=new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}"><table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody><tr>{cells}</tr>",(this.enableRowBody?'<tr class="x-grid3-row-body-tr" style="{bodyStyle}"><td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on"><div class="x-grid3-row-body">{body}</div></td></tr>':""),"</tbody></table></div>");}if(!a.cell){a.cell=new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>");}for(var b in a){var c=a[b];if(c&&typeof c.compile=="function"&&!c.compiled){c.disableFormats=true;c.compile();}}this.templates=a;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","");},fly:function(a){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body);}this._flyweight.dom=a;return this._flyweight;},getEditorParent:function(a){return this.scroller.dom;},initElements:function(){var a=Ext.Element;var c=this.grid.getGridEl().dom.firstChild;var b=c.childNodes;this.el=new a(c);this.mainWrap=new a(b[0]);this.mainHd=new a(this.mainWrap.dom.firstChild);if(this.grid.hideHeaders){this.mainHd.setDisplayed(false);}this.innerHd=this.mainHd.dom.firstChild;this.scroller=new a(this.mainWrap.dom.childNodes[1]);if(this.forceFit){this.scroller.setStyle("overflow-x","hidden");}this.mainBody=new a(this.scroller.dom.firstChild);this.focusEl=new a(this.scroller.dom.childNodes[1]);this.focusEl.swallowEvent("click",true);this.resizeMarker=new a(b[1]);this.resizeProxy=new a(b[2]);},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];},findCell:function(a){if(!a){return false;}return this.fly(a).findParent(this.cellSelector,this.cellSelectorDepth);},findCellIndex:function(a,c){var b=this.findCell(a);if(b&&(!c||this.fly(b).hasClass(c))){return this.getCellIndex(b);}return false;},getCellIndex:function(b){if(b){var a=b.className.match(this.colRe);if(a&&a[1]){return this.cm.getIndexById(a[1]);}}return false;},findHeaderCell:function(b){var a=this.findCell(b);return a&&this.fly(a).hasClass(this.hdCls)?a:null;},findHeaderIndex:function(a){return this.findCellIndex(a,this.hdCls);},findRow:function(a){if(!a){return false;}return this.fly(a).findParent(this.rowSelector,this.rowSelectorDepth);},findRowIndex:function(a){var b=this.findRow(a);return b?b.rowIndex:false;},getRow:function(a){return this.getRows()[a];},getCell:function(b,a){return this.getRow(b).getElementsByTagName("td")[a];},getHeaderCell:function(a){return this.mainHd.dom.getElementsByTagName("td")[a];},addRowClass:function(a,b){var c=this.getRow(a);if(c){this.fly(c).addClass(b);}},removeRowClass:function(a,b){var c=this.getRow(a);if(c){this.fly(c).removeClass(b);}},removeRow:function(a){Ext.removeNode(this.getRow(a));this.syncFocusEl(a);},removeRows:function(a,c){var d=this.mainBody.dom;for(var b=a;b<=c;b++){Ext.removeNode(d.childNodes[a]);}this.syncFocusEl(a);},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop};},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left;b.scrollTop=a.top;},scrollToTop:function(){this.scroller.dom.scrollTop=0;this.scroller.dom.scrollLeft=0;},syncScroll:function(){this.syncHeaderScroll();var a=this.scroller.dom;this.grid.fireEvent("bodyscroll",a.scrollLeft,a.scrollTop);},syncHeaderScroll:function(){var a=this.scroller.dom;this.innerHd.scrollLeft=a.scrollLeft;this.innerHd.scrollLeft=a.scrollLeft;},updateSortIcon:function(d,c){var b=this.sortClasses;var a=this.mainHd.select("td").removeClass(b);a.item(d).addClass(b[c=="DESC"?1:0]);},updateAllColumnWidths:function(){var m=this.getTotalWidth();var e=this.cm.getColumnCount();var b=[];for(var k=0;k<e;k++){b[k]=this.getColumnWidth(k);}this.innerHd.firstChild.firstChild.style.width=m;for(var k=0;k<e;k++){var l=this.getHeaderCell(k);l.style.width=b[k];}var c=this.getRows(),g,d;for(var k=0,a=c.length;k<a;k++){g=c[k];g.style.width=m;if(g.firstChild){g.firstChild.style.width=m;d=g.firstChild.rows[0];for(var h=0;h<e;h++){d.childNodes[h].style.width=b[h];}}}this.onAllColumnWidthsUpdated(b,m);},updateColumnWidth:function(l,k){var g=this.getColumnWidth(l);var c=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=c;var b=this.getHeaderCell(l);b.style.width=g;var e=this.getRows(),h;for(var a=0,d=e.length;a<d;a++){h=e[a];h.style.width=c;if(h.firstChild){h.firstChild.style.width=c;h.firstChild.rows[0].childNodes[l].style.width=g;}}this.onColumnWidthUpdated(l,g,c);},updateColumnHidden:function(k,c){var b=this.getTotalWidth();this.innerHd.firstChild.firstChild.style.width=b;var e=c?"none":"";var a=this.getHeaderCell(k);a.style.display=e;var g=this.getRows(),h;for(var l=0,d=g.length;l<d;l++){h=g[l];h.style.width=b;if(h.firstChild){h.firstChild.style.width=b;h.firstChild.rows[0].childNodes[k].style.display=e;}}this.onColumnHiddenUpdated(k,c,b);delete this.lastViewWidth;this.layout();},doRender:function(g,k,u,a,s,y){var b=this.templates,e=b.cell,h=b.row,l=s-1;var d="width:"+this.getTotalWidth()+";";var B=[],v,q,w={},m={tstyle:d},o;for(var x=0,A=k.length;x<A;x++){o=k[x];v=[];var n=(x+a);for(var z=0;z<s;z++){q=g[z];w.id=q.id;w.css=z==0?"x-grid3-cell-first ":(z==l?"x-grid3-cell-last ":"");w.attr=w.cellAttr="";w.value=q.renderer(o.data[q.name],w,o,n,z,u);w.style=q.style;if(w.value==undefined||w.value===""){w.value="&#160;";}if(this.markDirty&&o.dirty&&typeof o.modified[q.name]!=="undefined"){w.css+=" x-grid3-dirty-cell";}v[v.length]=e.apply(w);}var t=[];if(y&&((n+1)%2==0)){t[0]="x-grid3-row-alt";}if(o.dirty){t[1]=" x-grid3-dirty-row";}m.cols=s;if(this.getRowClass){t[2]=this.getRowClass(o,n,m,u);}m.alt=t.join(" ");m.cells=v.join("");B[B.length]=h.apply(m);}return B.join("");},processRows:function(c,b){if(this.ds.getCount()<1){return;}b=b||!this.grid.stripeRows;c=c||0;var h=this.getRows();var d=" x-grid3-row-alt ";for(var l=c,a=h.length;l<a;l++){var g=h[l];g.rowIndex=l;if(!b){var k=((l+1)%2==0);var e=(" "+g.className+" ").indexOf(d)!=-1;if(k==e){continue;}if(k){g.className+=" x-grid3-row-alt";}else{g.className=g.className.replace("x-grid3-row-alt","");}}}},afterRender:function(){if(!this.ds||!this.cm){return;}this.mainBody.dom.innerHTML=this.renderRows();this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText();}},renderUI:function(){var b=this.renderHeaders();var c=this.templates.body.apply({rows:""});var d=this.templates.master.apply({body:c,header:b});var a=this.grid;a.getGridEl().dom.innerHTML=d;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on("mouseover",this.handleHdOver,this);this.mainHd.on("mouseout",this.handleHdOut,this);this.mainHd.on("mousemove",this.handleHdMove,this);this.scroller.on("scroll",this.syncScroll,this);if(a.enableColumnResize!==false){this.splitone=new Ext.grid.GridView.SplitDragZone(a,this.mainHd.dom);}if(a.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(a,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(a,this.mainHd.dom);}if(a.enableHdMenu!==false){if(a.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:a.id+"-hcols-menu"});this.colMenu.on("beforeshow",this.beforeColMenuShow,this);this.colMenu.on("itemclick",this.handleHdMenuClick,this);}this.hmenu=new Ext.menu.Menu({id:a.id+"-hctx"});this.hmenu.add({id:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{id:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(a.enableColumnHide!==false){this.hmenu.add("-",{id:"columns",text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"});}this.hmenu.on("itemclick",this.handleHdMenuClick,this);}if(a.trackMouseOver){this.mainBody.on("mouseover",this.onRowOver,this);this.mainBody.on("mouseout",this.onRowOut,this);}if(a.enableDragDrop||a.enableDrag){this.dragZone=new Ext.grid.GridDragZone(a,{ddGroup:a.ddGroup||"GridDD"});}this.updateHeaderSortState();},layout:function(){if(!this.mainBody){return;}var i=this.grid;var d=i.getGridEl();var e=d.getSize(true);var h=e.width;if(h<20||e.height<20){return;}if(i.autoHeight){this.scroller.dom.style.overflow="visible";}else{this.el.setSize(e.width,e.height);var b=this.mainHd.getHeight();var a=e.height-(b);this.scroller.setSize(h,a);if(this.innerHd){this.innerHd.style.width=(h)+"px";}}if(this.forceFit){if(this.lastViewWidth!=h){this.fitColumns(false,false);this.lastViewWidth=h;}}else{this.autoExpand();this.syncHeaderScroll();}this.onLayout(h,a);},onLayout:function(a,b){},onColumnWidthUpdated:function(a,b,c){},onAllColumnWidthsUpdated:function(a,b){},onColumnHiddenUpdated:function(c,a,b){},updateColumnText:function(a,b){},afterMove:function(a){},init:function(a){this.grid=a;this.initTemplates();this.initData(a.store,a.colModel);this.initUI(a);},getColumnId:function(a){return this.cm.getColumnId(a);},renderHeaders:function(){var e=this.cm,a=this.templates;var h=a.hcell;var d=[],b={};for(var g=0,c=e.getColumnCount();g<c;g++){b.id=e.getColumnId(g);b.value=e.getColumnHeader(g)||"";b.style=this.getColumnStyle(g,true);b.tooltip=this.getColumnTooltip(g);if(e.config[g].align=="right"){b.istyle="padding-right:16px";}else{delete b.istyle;}d[d.length]=h.apply(b);}return a.header.apply({cells:d.join(""),tstyle:"width:"+this.getTotalWidth()+";"});},getColumnTooltip:function(a){var b=this.cm.getColumnTooltip(a);if(b){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+b+'"';}else{return'title="'+b+'"';}}return"";},beforeUpdate:function(){this.grid.stopEditing(true);},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();},focusRow:function(a){this.focusCell(a,0,false);},focusCell:function(a,b,c){this.syncFocusEl(this.ensureVisible(a,b,c));if(Ext.isGecko){this.focusEl.focus();}else{this.focusEl.focus.defer(1,this.focusEl);}},resolveCell:function(c,a,b){if(typeof c!="number"){c=c.rowIndex;}if(!this.ds){return null;}if(c<0||c>=this.ds.getCount()){return null;}a=(a!==undefined?a:0);var e=this.getRow(c),d;if(!(b===false&&a===0)){while(this.cm.isHidden(a)){a++;}d=this.getCell(c,a);}return{row:e,cell:d};},getResolvedXY:function(d){if(!d){return null;}var e=this.scroller.dom,b=d.cell,a=d.row;return b?Ext.fly(b).getXY():[e.scrollLeft+this.el.getX(),Ext.fly(a).getY()];},syncFocusEl:function(b,c,a){var d=b;if(!Ext.isArray(d)){b=Math.min(b,Math.max(0,this.getRows().length-1));d=this.getResolvedXY(this.resolveCell(b,c,a));}this.focusEl.setXY(d||this.scroller.getXY());},ensureVisible:function(q,b,a){var m=this.resolveCell(q,b,a);if(!m||!m.row){return;}var k=m.row,e=m.cell;var r=this.scroller.dom;var o=0;var u=k,d=this.el.dom;while(u&&u!=d){o+=u.offsetTop;u=u.offsetParent;}o-=this.mainHd.dom.offsetHeight;var i=o+k.offsetHeight;var s=r.clientHeight;var d=parseInt(r.scrollTop,10);var n=d+s;if(o<d){r.scrollTop=o;}else{if(i>n){r.scrollTop=i-s;}}if(a!==false){var l=parseInt(e.offsetLeft,10);var h=l+e.offsetWidth;var g=parseInt(r.scrollLeft,10);var t=g+r.clientWidth;if(l<g){r.scrollLeft=l;}else{if(h>t){r.scrollLeft=h-r.clientWidth;}}}return this.getResolvedXY(m);},insertRows:function(d,c,g,b){if(!b&&c===0&&g>=d.getCount()-1){this.refresh();}else{if(!b){this.fireEvent("beforerowsinserted",this,c,g);}var e=this.renderRows(c,g);var a=this.getRow(c);if(a){Ext.DomHelper.insertHtml("beforeBegin",a,e);}else{Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,e);}if(!b){this.fireEvent("rowsinserted",this,c,g);this.processRows(c);}}this.syncFocusEl(c);},deleteRows:function(b,a,c){if(b.getRowCount()<1){this.refresh();}else{this.fireEvent("beforerowsdeleted",this,a,c);this.removeRows(a,c);this.processRows(a);this.fireEvent("rowsdeleted",this,a,c);}},getColumnStyle:function(c,a){var d=!a?(this.cm.config[c].css||""):"";d+="width:"+this.getColumnWidth(c)+";";if(this.cm.isHidden(c)){d+="display:none;";}var b=this.cm.config[c].align;if(b){d+="text-align:"+b+";";}return d;},getColumnWidth:function(b){var a=this.cm.getColumnWidth(b);if(typeof a=="number"){return(Ext.isBorderBox?a:(a-this.borderWidth>0?a-this.borderWidth:0))+"px";}return a;},getTotalWidth:function(){return this.cm.getTotalWidth()+"px";},fitColumns:function(t,c,d){var e=this.cm,g;var h=e.getTotalWidth(false);var p=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(p<20){return;}var a=p-h;if(a===0){return false;}var l=e.getColumnCount(true);var n=l-(typeof d=="number"?1:0);if(n===0){n=1;d=undefined;}var k=e.getColumnCount();var o=[];var m=0;var s=0;var r;for(g=0;g<k;g++){if(!e.isHidden(g)&&!e.isFixed(g)&&g!==d){r=e.getColumnWidth(g);o.push(g);m=g;o.push(r);s+=r;}}var q=(p-e.getTotalWidth())/s;while(o.length){r=o.pop();g=o.pop();e.setColumnWidth(g,Math.max(this.grid.minColumnWidth,Math.floor(r+r*q)),true);}if((h=e.getTotalWidth(false))>p){var b=n!=l?d:m;e.setColumnWidth(b,Math.max(1,e.getColumnWidth(b)-(h-p)),true);}if(t!==true){this.updateAllColumnWidths();}return true;},autoExpand:function(d){var k=this.grid,b=this.cm;if(!this.userResized&&k.autoExpandColumn){var e=b.getTotalWidth(false);var a=this.grid.getGridEl().getWidth(true)-this.scrollOffset;if(e!=a){var i=b.getIndexById(k.autoExpandColumn);var h=b.getColumnWidth(i);var c=Math.min(Math.max(((a-e)+h),k.autoExpandMin),k.autoExpandMax);if(c!=h){b.setColumnWidth(i,c,true);if(d!==true){this.updateColumnWidth(i,c);}}}}},getColumnData:function(){var b=[],d=this.cm,c=d.getColumnCount();for(var a=0;a<c;a++){var e=d.getDataIndex(a);b[a]={name:(typeof e=="undefined"?this.ds.fields.get(a).name:e),renderer:d.getRenderer(a),id:d.getColumnId(a),style:this.getColumnStyle(a)};}return b;},renderRows:function(h,a){var b=this.grid,d=b.colModel,k=b.store,i=b.stripeRows;var e=d.getColumnCount();if(k.getCount()<1){return"";}var c=this.getColumnData();h=h||0;a=typeof a=="undefined"?k.getCount()-1:a;var l=k.getRange(h,a);return this.doRender(c,l,k,h,e,i);},renderBody:function(){var a=this.renderRows();return this.templates.body.apply({rows:a});},refreshRow:function(b){var a=this.ds,c;if(typeof b=="number"){c=b;b=a.getAt(c);}else{c=a.indexOf(b);}this.insertRows(a,c,c,true);this.getRow(c).rowIndex=c;this.onRemove(a,b,c+1,true);this.fireEvent("rowupdated",this,c,b);},refresh:function(b){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var a=this.renderBody();this.mainBody.update(a);if(b===true){this.updateHeaders();this.updateHeaderSortState();}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this);},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>");}},updateHeaderSortState:function(){var c=this.ds.getSortState();if(!c){return;}if(!this.sortState||(this.sortState.field!=c.field||this.sortState.direction!=c.direction)){this.grid.fireEvent("sortchange",this.grid,c);}this.sortState=c;var a=this.cm.findColumnIndex(c.field);if(a!=-1){var b=c.direction;this.updateSortIcon(a,b);}},destroy:function(){if(this.colMenu){Ext.menu.MenuMgr.unregister(this.colMenu);this.colMenu.destroy();delete this.colMenu;}if(this.hmenu){Ext.menu.MenuMgr.unregister(this.hmenu);this.hmenu.destroy();delete this.hmenu;}if(this.grid.enableColumnMove){var a=Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];if(a){for(var b in a){if(!a[b].config.isTarget&&a[b].dragElId){var c=a[b].dragElId;a[b].unreg();Ext.get(c).remove();}else{if(a[b].config.isTarget){a[b].proxyTop.remove();a[b].proxyBottom.remove();a[b].unreg();}}if(Ext.dd.DDM.locationCache[b]){delete Ext.dd.DDM.locationCache[b];}}delete Ext.dd.DDM.ids["gridHeader"+this.grid.getGridEl().id];}}if(this.dragZone){this.dragZone.unreg();}Ext.fly(this.innerHd).removeAllListeners();Ext.removeNode(this.innerHd);Ext.destroy(this.resizeMarker,this.resizeProxy,this.focusEl,this.mainBody,this.scroller,this.mainHd,this.mainWrap,this.dragZone,this.splitone,this.columnDrag,this.columnDrop);this.initData(null,null);Ext.EventManager.removeResizeListener(this.onWindowResize,this);},onDenyColumnHide:function(){},render:function(){if(this.autoFill){this.fitColumns(true,true);}else{if(this.forceFit){this.fitColumns(true,false);}else{if(this.grid.autoExpandColumn){this.autoExpand(true);}}}this.renderUI();},initData:function(b,a){if(this.ds){this.ds.un("load",this.onLoad,this);this.ds.un("datachanged",this.onDataChange,this);this.ds.un("add",this.onAdd,this);this.ds.un("remove",this.onRemove,this);this.ds.un("update",this.onUpdate,this);this.ds.un("clear",this.onClear,this);}if(b){b.on("load",this.onLoad,this);b.on("datachanged",this.onDataChange,this);b.on("add",this.onAdd,this);b.on("remove",this.onRemove,this);b.on("update",this.onUpdate,this);b.on("clear",this.onClear,this);}this.ds=b;if(this.cm){this.cm.un("configchange",this.onColConfigChange,this);this.cm.un("widthchange",this.onColWidthChange,this);this.cm.un("headerchange",this.onHeaderChange,this);this.cm.un("hiddenchange",this.onHiddenChange,this);this.cm.un("columnmoved",this.onColumnMove,this);this.cm.un("columnlockchange",this.onColumnLock,this);}if(a){delete this.lastViewWidth;a.on("configchange",this.onColConfigChange,this);a.on("widthchange",this.onColWidthChange,this);a.on("headerchange",this.onHeaderChange,this);a.on("hiddenchange",this.onHiddenChange,this);a.on("columnmoved",this.onColumnMove,this);a.on("columnlockchange",this.onColumnLock,this);}this.cm=a;},onDataChange:function(){this.refresh();this.updateHeaderSortState();this.syncFocusEl(0);},onClear:function(){this.refresh();this.syncFocusEl(0);},onUpdate:function(b,a){this.refreshRow(a);},onAdd:function(a,b,c){this.insertRows(a,c,c+(b.length-1));},onRemove:function(b,c,d,a){if(a!==true){this.fireEvent("beforerowremoved",this,d,c);}this.removeRow(d);if(a!==true){this.processRows(d);this.applyEmptyText();this.fireEvent("rowremoved",this,d,c);}},onLoad:function(){this.scrollToTop();},onColWidthChange:function(b,c,a){this.updateColumnWidth(c,a);},onHeaderChange:function(b,c,a){this.updateHeaders();},onHiddenChange:function(b,c,a){this.updateColumnHidden(c,a);},onColumnMove:function(c,b,d){this.indexMap=null;var a=this.getScrollState();this.refresh(true);this.restoreScroll(a);this.afterMove(d);},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true);},initUI:function(a){a.on("headerclick",this.onHeaderClick,this);},initEvents:function(){},onHeaderClick:function(b,a){if(this.headersDisabled||!this.cm.isSortable(a)){return;}b.stopEditing(true);b.store.sort(this.cm.getDataIndex(a));},onRowOver:function(c,b){var a;if((a=this.findRowIndex(b))!==false){this.addRowClass(a,"x-grid3-row-over");}},onRowOut:function(c,b){var a;if((a=this.findRowIndex(b))!==false&&!c.within(this.getRow(a),true)){this.removeRowClass(a,"x-grid3-row-over");}},handleWheel:function(a){a.stopPropagation();},onRowSelect:function(a){this.addRowClass(a,this.selectedRowClass);},onRowDeselect:function(a){this.removeRowClass(a,this.selectedRowClass);},onCellSelect:function(a,c){var b=this.getCell(a,c);if(b){this.fly(b).addClass("x-grid3-cell-selected");}},onCellDeselect:function(a,c){var b=this.getCell(a,c);if(b){this.fly(b).removeClass("x-grid3-cell-selected");}},onColumnSplitterMoved:function(a,c){this.userResized=true;var b=this.grid.colModel;b.setColumnWidth(a,c,true);if(this.forceFit){this.fitColumns(true,false,a);this.updateAllColumnWidths();}else{this.updateColumnWidth(a,c);this.syncHeaderScroll();}this.grid.fireEvent("columnresize",a,c);},handleHdMenuClick:function(a){var d=this.hdCtxIndex;var c=this.cm,b=this.ds;switch(a.id){case"asc":b.sort(c.getDataIndex(d),"ASC");break;case"desc":b.sort(c.getDataIndex(d),"DESC");break;default:d=c.getIndexById(a.id.substr(4));if(d!=-1){if(a.checked&&c.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return false;}c.setHidden(d,a.checked);}}return true;},isHideableColumn:function(a){return !a.hidden&&!a.fixed;},beforeColMenuShow:function(){var b=this.cm,a=b.getColumnCount();this.colMenu.removeAll();for(var c=0;c<a;c++){if(b.config[c].fixed!==true&&b.config[c].hideable!==false){this.colMenu.add(new Ext.menu.CheckItem({id:"col-"+b.getColumnId(c),text:b.getColumnHeader(c),checked:!b.isHidden(c),hideOnClick:false,disabled:b.config[c].hideable===false}));}}},handleHdDown:function(c,a){if(Ext.fly(a).hasClass("x-grid3-hd-btn")){c.stopEvent();var b=this.findHeaderCell(a);Ext.fly(b).addClass("x-grid3-hd-menu-open");var h=this.getCellIndex(b);this.hdCtxIndex=h;var g=this.hmenu.items,d=this.cm;g.get("asc").setDisabled(!d.isSortable(h));g.get("desc").setDisabled(!d.isSortable(h));this.hmenu.on("hide",function(){Ext.fly(b).removeClass("x-grid3-hd-menu-open");},this,{single:true});this.hmenu.show(a,"tl-bl?");}},handleHdOver:function(b,c){var a=this.findHeaderCell(c);if(a&&!this.headersDisabled){this.activeHd=a;this.activeHdIndex=this.getCellIndex(a);var d=this.fly(a);this.activeHdRegion=d.getRegion();if(!this.cm.isMenuDisabled(this.activeHdIndex)){d.addClass("x-grid3-hd-over");this.activeHdBtn=d.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(a.firstChild.offsetHeight-1)+"px";}}}},handleHdMove:function(c,a){if(this.activeHd&&!this.headersDisabled){var g=this.splitHandleWidth||5;var b=this.activeHdRegion;var d=c.getPageX();var h=this.activeHd.style;if(d-b.left<=g&&this.cm.isResizable(this.activeHdIndex-1)){h.cursor=Ext.isAir?"move":Ext.isSafari?"e-resize":"col-resize";}else{if(b.right-d<=(!this.activeHdBtn?g:2)&&this.cm.isResizable(this.activeHdIndex)){h.cursor=Ext.isAir?"move":Ext.isSafari?"w-resize":"col-resize";}else{h.cursor="";}}}},handleHdOut:function(a,b){var c=this.findHeaderCell(b);if(c&&(!Ext.isIE||!a.within(c,true))){this.activeHd=null;this.fly(c).removeClass("x-grid3-hd-over");c.style.cursor="";}},hasRows:function(){var a=this.mainBody.dom.firstChild;return a&&a.className!="x-grid-empty";},bind:function(a,b){this.initData(a,b);}});Ext.grid.GridView.SplitDragZone=function(a,b){this.grid=a;this.view=a.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5;};Ext.extend(Ext.grid.GridView.SplitDragZone,Ext.dd.DDProxy,{b4StartDrag:function(d,c){this.view.headersDisabled=true;var b=this.view.mainWrap.getHeight();this.marker.setHeight(b);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(b);var e=this.cm.getColumnWidth(this.cellIndex);var a=Math.max(e-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(a,1000);this.setYConstraint(0,0);this.minX=d-a;this.maxX=d+1000;this.startPos=d;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,d,c);},handleMouseDown:function(i){var c=this.view.findHeaderCell(i.getTarget());if(c){var h=this.view.fly(c).getXY(),m=h[0],l=h[1];var d=i.getXY(),k=d[0];var b=c.offsetWidth,a=false;if((k-m)<=this.hw){a=-1;}else{if((m+b)-k<=this.hw){a=0;}}if(a!==false){this.cm=this.grid.colModel;var g=this.view.getCellIndex(c);if(a==-1){if(g+a<0){return;}while(this.cm.isHidden(g+a)){--a;if(g+a<0){return;}}}this.cellIndex=g+a;this.split=c.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(i);}}}},endDrag:function(b){this.marker.hide();var c=this.view;var d=Math.max(this.minX,b.getPageX());var a=d-this.startPos;c.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+a);setTimeout(function(){c.headersDisabled=false;},50);},autoOffset:function(){this.setDelta(0,0);}});Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",gidSeed:1000,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var a=this.grid.getSelectionModel();a.on(a.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div>',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">');}this.startGroup.compile();this.endGroup="</div></div>";},findGroup:function(a){return Ext.fly(a).up(".x-grid-group",this.mainBody.dom);},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[];},onAdd:function(){if(this.enableGrouping&&!this.ignoreAdd){var a=this.getScrollState();this.refresh();this.restoreScroll(a);}else{if(!this.enableGrouping){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments);}}},onRemove:function(c,d,e,b){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var a=document.getElementById(d._groupId);if(a&&a.childNodes[1].childNodes.length<1){Ext.removeNode(a);}this.applyEmptyText();},refreshRow:function(a){if(this.ds.getCount()==1){this.refresh();}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false;}},beforeMenuShow:function(){var a=this.getGroupField();var c=this.hmenu.items.get("groupBy");if(c){c.setDisabled(this.cm.config[this.hdCtxIndex].groupable===false);}var b=this.hmenu.items.get("showGroups");if(b){b.setDisabled(!a&&this.cm.config[this.hdCtxIndex].groupable===false);b.setChecked(!!a,true);}},renderUI:function(){Ext.grid.GroupingView.superclass.renderUI.call(this);this.mainBody.on("mousedown",this.interceptMouse,this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{id:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({id:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this});}this.hmenu.on("beforeshow",this.beforeMenuShow,this);}},onGroupByClick:function(){this.grid.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));this.beforeMenuShow();},onShowGroupsClick:function(a,b){if(b){this.onGroupByClick();}else{this.grid.store.clearGrouping();}},toggleGroup:function(a,c){this.grid.stopEditing(true);a=Ext.getDom(a);var b=Ext.fly(a);c=c!==undefined?c:b.hasClass("x-grid-group-collapsed");this.state[b.dom.id]=c;b[c?"removeClass":"addClass"]("x-grid-group-collapsed");},toggleAllGroups:function(a){var d=this.getGroups();for(var b=0,c=d.length;b<c;b++){this.toggleGroup(d[b],a);}},expandAllGroups:function(){this.toggleAllGroups(true);},collapseAllGroups:function(){this.toggleAllGroups(false);},interceptMouse:function(b){var a=b.getTarget(".x-grid-group-hd",this.mainBody);if(a){b.stopEvent();this.toggleGroup(a.parentNode);}},getGroup:function(c,h,a,b,d,i){var e=a?a(c,{},h,b,d,i):String(c);if(e===""){e=this.cm.config[d].emptyGroupText||this.emptyGroupText;}return e;},getGroupField:function(){return this.grid.store.getGroupState();},renderRows:function(){var c=this.getGroupField();var b=!!c;if(this.hideGroupedColumn){var d=this.cm.findColumnIndex(c);if(!b&&this.lastGroupField!==undefined){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField;}else{if(b&&this.lastGroupField===undefined){this.lastGroupField=c;this.cm.setHidden(d,true);}else{if(b&&this.lastGroupField!==undefined&&c!==this.lastGroupField){this.mainBody.update("");var a=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(a,false);this.lastGroupField=c;this.cm.setHidden(d,true);}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments);},doRender:function(d,k,y,a,x,A){if(k.length<1){return"";}var v=this.getGroupField();var w=this.cm.findColumnIndex(v);this.enableGrouping=!!v;if(!this.enableGrouping||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments);}var l="width:"+this.getTotalWidth()+";";var z=this.grid.getGridEl().id;var h=this.cm.config[w];var b=h.groupRenderer||h.renderer;var B=this.showGroupName?(h.groupName||h.header)+": ":"";var u=[],o,C,D,s;for(C=0,D=k.length;C<D;C++){var n=a+C;var p=k[C],e=p.data[v],q=this.getGroup(e,p,b,n,w,y);if(!o||o.group!=q){s=z+"-gp-"+v+"-"+Ext.util.Format.htmlEncode(q);var c=typeof this.state[s]!=="undefined"?!this.state[s]:this.startCollapsed;var m=c?"x-grid-group-collapsed":"";o={group:q,gvalue:e,text:B+q,groupId:s,startRow:n,rs:[p],cls:m,style:l};u.push(o);}else{o.rs.push(p);}p._groupId=s;}var t=[];for(C=0,D=u.length;C<D;C++){var q=u[C];this.doGroupStart(t,q,d,y,x);t[t.length]=Ext.grid.GroupingView.superclass.doRender.call(this,d,q.rs,y,q.startRow,x,A);this.doGroupEnd(t,q,d,y,x);}return t.join("");},getGroupId:function(a){var g=this.grid.getGridEl().id;var e=this.getGroupField();var h=this.cm.findColumnIndex(e);var d=this.cm.config[h];var b=d.groupRenderer||d.renderer;var c=this.getGroup(a,{data:{}},b,0,h,this.ds);return g+"-gp-"+e+"-"+Ext.util.Format.htmlEncode(a);},doGroupStart:function(d,b,e,c,a){d[d.length]=this.startGroup.apply(b);},doGroupEnd:function(d,b,e,c,a){d[d.length]=this.endGroup;},getRows:function(){if(!this.enableGrouping){return Ext.grid.GroupingView.superclass.getRows.call(this);}var b=[];var a,e=this.getGroups();for(var k=0,c=e.length;k<c;k++){a=e[k].childNodes[1].childNodes;for(var h=0,d=a.length;h<d;h++){b[b.length]=a[h];}}return b;},updateGroupWidths:function(){if(!this.enableGrouping||!this.hasRows()){return;}var a=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.scrollOffset)+"px";var d=this.getGroups();for(var b=0,c=d.length;b<c;b++){d[b].firstChild.style.width=a;}},onColumnWidthUpdated:function(a,b,c){this.updateGroupWidths();},onAllColumnWidthsUpdated:function(a,b){this.updateGroupWidths();},onColumnHiddenUpdated:function(c,a,b){this.updateGroupWidths();},onLayout:function(){this.updateGroupWidths();},onBeforeRowSelect:function(b,a){if(!this.enableGrouping){return;}var d=this.getRow(a);if(d&&!d.offsetParent){var c=this.findGroup(d);this.toggleGroup(c,true);}},groupByText:"Group By This Field",showGroupsText:"Show in Groups"});Ext.grid.GroupingView.GROUP_ID=1000;Ext.grid.HeaderDragZone=function(b,a,c){this.grid=b;this.view=b.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,a);if(c){this.setHandleElId(Ext.id(a));this.setOuterHandleElId(Ext.id(c));}this.scroll=false;};Ext.extend(Ext.grid.HeaderDragZone,Ext.dd.DragZone,{maxDragWidth:120,getDragData:function(a){var b=Ext.lib.Event.getTarget(a);var c=this.view.findHeaderCell(b);if(c){return{ddel:c.firstChild,header:c};}return false;},onInitDrag:function(a){this.view.headersDisabled=true;var b=this.dragData.ddel.cloneNode(true);b.id=Ext.id();b.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(b);return true;},afterValidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=false;},50);},afterInvalidDrop:function(){var a=this.view;setTimeout(function(){a.headersDisabled=false;},50);}});Ext.grid.HeaderDropZone=function(b,a,c){this.grid=b;this.view=b.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden");};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,b.getGridEl().dom);};Ext.extend(Ext.grid.HeaderDropZone,Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,getTargetFromEvent:function(a){var b=Ext.lib.Event.getTarget(a);var c=this.view.findCellIndex(b);if(c!==false){return this.view.getHeaderCell(c);}},nextVisible:function(a){var c=this.view,b=this.grid.colModel;a=a.nextSibling;while(a){if(!b.isHidden(c.getCellIndex(a))){return a;}a=a.nextSibling;}return null;},prevVisible:function(a){var c=this.view,b=this.grid.colModel;a=a.prevSibling;while(a){if(!b.isHidden(c.getCellIndex(a))){return a;}a=a.prevSibling;}return null;},positionIndicator:function(m,k,o){var b=Ext.lib.Event.getPageX(o);var i=Ext.lib.Dom.getRegion(k.firstChild);var c,g,a=i.top+this.proxyOffsets[1];if((i.right-b)<=(i.right-i.left)/2){c=i.right+this.view.borderWidth;g="after";}else{c=i.left;g="before";}var p=this.view.getCellIndex(m);var d=this.view.getCellIndex(k);if(this.grid.colModel.isFixed(d)){return false;}var l=this.grid.colModel.isLocked(d);if(g=="after"){d++;}if(p<d){d--;}if(p==d&&(l==this.grid.colModel.isLocked(p))){return false;}c+=this.proxyOffsets[0];this.proxyTop.setLeftTop(c,a);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight();}this.proxyBottom.setLeftTop(c,a+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return g;},onNodeEnter:function(b,c,a,d){if(d.header!=b){this.positionIndicator(d.header,b,a);}},onNodeOver:function(c,g,b,a){var d=false;if(a.header!=c){d=this.positionIndicator(a.header,c,b);}if(!d){this.proxyTop.hide();this.proxyBottom.hide();}return d?this.dropAllowed:this.dropNotAllowed;},onNodeOut:function(b,c,a,d){this.proxyTop.hide();this.proxyBottom.hide();},onNodeDrop:function(i,c,o,l){var m=l.header;if(m!=i){var a=this.grid.colModel;var q=Ext.lib.Event.getPageX(o);var g=Ext.lib.Dom.getRegion(i.firstChild);var d=(g.right-q)<=((g.right-g.left)/2)?"after":"before";var p=this.view.getCellIndex(m);var b=this.view.getCellIndex(i);var k=a.isLocked(b);if(d=="after"){b++;}if(p<b){b--;}if(p==b&&(k==a.isLocked(p))){return false;}a.setLocked(p,k,true);a.moveColumn(p,b);this.grid.fireEvent("columnmove",p,b);return true;}return false;}});Ext.grid.GridView.ColumnDragZone=function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null);this.proxy.el.addClass("x-grid3-col-dd");};Ext.extend(Ext.grid.GridView.ColumnDragZone,Ext.grid.HeaderDragZone,{handleMouseDown:function(a){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a);}});Ext.grid.SplitDragZone=function(b,a,c){this.grid=b;this.view=b.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,a,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(a));this.setOuterHandleElId(Ext.id(c));this.scroll=false;};Ext.extend(Ext.grid.SplitDragZone,Ext.dd.DDProxy,{fly:Ext.Element.fly,b4StartDrag:function(c,b){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var d=this.cm.getColumnWidth(this.cellIndex);var a=Math.max(d-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(a,1000);this.setYConstraint(0,0);this.minX=c-a;this.maxX=c+1000;this.startPos=c;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,c,b);},handleMouseDown:function(b){ev=Ext.EventObject.setEvent(b);var a=this.fly(ev.getTarget());if(a.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(a.dom);this.split=a.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments);}}},endDrag:function(a){this.view.headersDisabled=false;var b=Math.max(this.minX,Ext.lib.Event.getPageX(a));var c=b-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+c);},autoOffset:function(){this.setDelta(0,0);}});Ext.grid.GridDragZone=function(b,a){this.view=b.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,a);if(this.view.lockedBody){this.setHandleElId(Ext.id(this.view.mainBody.dom));this.setOuterHandleElId(Ext.id(this.view.lockedBody.dom));}this.scroll=false;this.grid=b;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap";};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(d){var c=Ext.lib.Event.getTarget(d);var b=this.view.findRowIndex(c);if(b!==false){var a=this.grid.selModel;if(!a.isSelected(b)||d.hasModifier()){a.handleMouseDown(this.grid,b,d);}return{grid:this.grid,ddel:this.ddel,rowIndex:b,selections:a.getSelections()};}return false;},onInitDrag:function(b){var a=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel);},afterRepair:function(){this.dragging=false;},getRepairXY:function(b,a){return false;},onEndDrag:function(a,b){},onValidDrop:function(b,c,a){this.hideProxy();},beforeInvalidDrop:function(a,b){}});Ext.grid.ColumnModel=function(a){if(a.columns){Ext.apply(this,a);this.setConfig(a.columns,true);}else{this.setConfig(a,true);}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","columnlockchange","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.ColumnModel,Ext.util.Observable,{defaultWidth:100,defaultSortable:false,getColumnId:function(a){return this.config[a].id;},getColumnAt:function(a){return this.config[a];},setConfig:function(a,h){if(!h){delete this.totalWidth;for(var b=0,e=this.config.length;b<e;b++){var d=this.config[b];if(d.editor){d.editor.destroy();}}}this.config=a;this.lookup={};for(var b=0,e=a.length;b<e;b++){var d=a[b];if(!d.isColumn){var g=Ext.grid.Column.types[d.xtype||"gridcolumn"];d=new g(d);a[b]=d;}this.lookup[d.id]=d;}if(!h){this.fireEvent("configchange",this);}},getColumnById:function(a){return this.lookup[a];},getIndexById:function(a){for(var c=0,b=this.config.length;c<b;c++){if(this.config[c].id==a){return c;}}return -1;},moveColumn:function(a,b){var d=this.config[a];this.config.splice(a,1);this.config.splice(b,0,d);this.dataMap=null;this.fireEvent("columnmoved",this,a,b);},isLocked:function(a){return this.config[a].locked===true;},setLocked:function(c,a,b){if(this.isLocked(c)==a){return;}this.config[c].locked=a;if(!b){this.fireEvent("columnlockchange",this,c,a);}},getTotalLockedWidth:function(){var a=0;for(var b=0;b<this.config.length;b++){if(this.isLocked(b)&&!this.isHidden(b)){this.totalWidth+=this.getColumnWidth(b);}}return a;},getLockedCount:function(){for(var b=0,a=this.config.length;b<a;b++){if(!this.isLocked(b)){return b;}}},getColumnCount:function(a){if(a===true){var b=0;for(var e=0,d=this.config.length;e<d;e++){if(!this.isHidden(e)){b++;}}return b;}return this.config.length;},getColumnsBy:function(a,h){var b=[];for(var g=0,e=this.config.length;g<e;g++){var d=this.config[g];if(a.call(h||this,d,g)===true){b[b.length]=d;}}return b;},isSortable:function(a){if(typeof this.config[a].sortable=="undefined"){return this.defaultSortable;}return this.config[a].sortable;},isMenuDisabled:function(a){return !!this.config[a].menuDisabled;},getRenderer:function(a){if(!this.config[a].renderer){return Ext.grid.ColumnModel.defaultRenderer;}return this.config[a].renderer;},setRenderer:function(a,b){this.config[a].renderer=b;},getColumnWidth:function(a){return this.config[a].width||this.defaultWidth;},setColumnWidth:function(c,a,b){this.config[c].width=a;this.totalWidth=null;if(!b){this.fireEvent("widthchange",this,c,a);}},getTotalWidth:function(c){if(!this.totalWidth){this.totalWidth=0;for(var a=0,b=this.config.length;a<b;a++){if(c||!this.isHidden(a)){this.totalWidth+=this.getColumnWidth(a);}}}return this.totalWidth;},getColumnHeader:function(a){return this.config[a].header;},setColumnHeader:function(a,b){this.config[a].header=b;this.fireEvent("headerchange",this,a,b);},getColumnTooltip:function(a){return this.config[a].tooltip;},setColumnTooltip:function(a,b){this.config[a].tooltip=b;},getDataIndex:function(a){return this.config[a].dataIndex;},setDataIndex:function(a,b){this.config[a].dataIndex=b;},findColumnIndex:function(a){var b=this.config;for(var e=0,d=b.length;e<d;e++){if(b[e].dataIndex==a){return e;}}return -1;},isCellEditable:function(a,b){return(this.config[a].editable||(typeof this.config[a].editable=="undefined"&&this.config[a].editor))?true:false;},getCellEditor:function(a,b){return this.config[a].getCellEditor(b);},setEditable:function(a,b){this.config[a].editable=b;},isHidden:function(a){return this.config[a].hidden;},isFixed:function(a){return this.config[a].fixed;},isResizable:function(a){return a>=0&&this.config[a].resizable!==false&&this.config[a].fixed!==true;},setHidden:function(b,d){var a=this.config[b];if(a.hidden!==d){a.hidden=d;this.totalWidth=null;this.fireEvent("hiddenchange",this,b,d);}},setEditor:function(a,b){this.config[a].editor=b;}});Ext.grid.ColumnModel.defaultRenderer=function(a){if(typeof a=="string"&&a.length<1){return"&#160;";}return a;};Ext.grid.AbstractSelectionModel=function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.AbstractSelectionModel,Ext.util.Observable,{init:function(a){this.grid=a;this.initEvents();},lock:function(){this.locked=true;},unlock:function(){this.locked=false;},isLocked:function(){return this.locked;}});Ext.grid.RowSelectionModel=function(a){Ext.apply(this,a);this.selections=new Ext.util.MixedCollection(false,function(b){return b.id;});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.RowSelectionModel,Ext.grid.AbstractSelectionModel,{singleSelect:false,initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this);}else{this.grid.on("rowclick",function(b,d,c){if(c.button===0&&!c.shiftKey&&!c.ctrlKey){this.selectRow(d,false);b.view.focusRow(d);}},this);}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:function(c){if(!c.shiftKey){this.selectPrevious(c.shiftKey);}else{if(this.last!==false&&this.lastActive!==false){var b=this.last;this.selectRange(this.last,this.lastActive-1);this.grid.getView().focusRow(this.lastActive);if(b!==false){this.last=b;}}else{this.selectFirstRow();}}},down:function(c){if(!c.shiftKey){this.selectNext(c.shiftKey);}else{if(this.last!==false&&this.lastActive!==false){var b=this.last;this.selectRange(this.last,this.lastActive+1);this.grid.getView().focusRow(this.lastActive);if(b!==false){this.last=b;}}else{this.selectFirstRow();}}},scope:this});var a=this.grid.view;a.on("refresh",this.onRefresh,this);a.on("rowupdated",this.onRowUpdated,this);a.on("rowremoved",this.onRemove,this);},onRefresh:function(){var c=this.grid.store,e;var a=this.getSelections();this.clearSelections(true);for(var g=0,d=a.length;g<d;g++){var b=a[g];if((e=c.indexOfId(b.id))!=-1){this.selectRow(e,true);}}if(a.length!=this.selections.getCount()){this.fireEvent("selectionchange",this);}},onRemove:function(b,c,a){if(this.selections.remove(a)!==false){this.fireEvent("selectionchange",this);}},onRowUpdated:function(b,c,a){if(this.isSelected(a)){b.onRowSelect(c);}},selectRecords:function(e,c){if(!c){this.clearSelections();}var b=this.grid.store;for(var a=0,d=e.length;a<d;a++){this.selectRow(b.indexOf(e[a]),true);}},getCount:function(){return this.selections.length;},selectFirstRow:function(){this.selectRow(0);},selectLastRow:function(a){this.selectRow(this.grid.store.getCount()-1,a);},selectNext:function(a){if(this.hasNext()){this.selectRow(this.last+1,a);this.grid.getView().focusRow(this.last);return true;}return false;},selectPrevious:function(a){if(this.hasPrevious()){this.selectRow(this.last-1,a);this.grid.getView().focusRow(this.last);return true;}return false;},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount();},hasPrevious:function(){return !!this.last;},getSelections:function(){return[].concat(this.selections.items);},getSelected:function(){return this.selections.itemAt(0);},each:function(c,b){var a=this.getSelections();for(var e=0,d=a.length;e<d;e++){if(c.call(b||this,a[e],e)===false){return false;}}return true;},clearSelections:function(b){if(this.locked){return;}if(b!==true){var a=this.grid.store;var c=this.selections;c.each(function(d){this.deselectRow(a.indexOfId(d.id));},this);c.clear();}else{this.selections.clear();}this.last=false;},selectAll:function(){if(this.locked){return;}this.selections.clear();for(var b=0,a=this.grid.store.getCount();b<a;b++){this.selectRow(b,true);}},hasSelection:function(){return this.selections.length>0;},isSelected:function(a){var b=typeof a=="number"?this.grid.store.getAt(a):a;return(b&&this.selections.key(b.id)?true:false);},isIdSelected:function(a){return(this.selections.key(a)?true:false);},handleMouseDown:function(a,c,b){if(b.button!==0||this.isLocked()){return;}var d=this.grid.getView();if(b.shiftKey&&this.last!==false){var i=this.last;this.selectRange(i,c,b.ctrlKey);this.last=i;d.focusRow(c);}else{var h=this.isSelected(c);if(b.ctrlKey&&h){this.deselectRow(c);}else{if(!h||this.getCount()>1){this.selectRow(c,b.ctrlKey||b.shiftKey);d.focusRow(c);}}}},selectRows:function(a,b){if(!b){this.clearSelections();}for(var d=0,c=a.length;d<c;d++){this.selectRow(a[d],true);}},selectRange:function(d,c,b){if(this.locked){return;}if(!b){this.clearSelections();}if(d<=c){for(var a=d;a<=c;a++){this.selectRow(a,true);}}else{for(var a=d;a>=c;a--){this.selectRow(a,true);}}},deselectRange:function(a,d,c){if(this.locked){return;}for(var b=a;b<=d;b++){this.deselectRow(b,c);}},selectRow:function(d,b,c){if(this.locked||(d<0||d>=this.grid.store.getCount())||this.isSelected(d)){return;}var a=this.grid.store.getAt(d);if(a&&this.fireEvent("beforerowselect",this,d,b,a)!==false){if(!b||this.singleSelect){this.clearSelections();}this.selections.add(a);this.last=this.lastActive=d;if(!c){this.grid.getView().onRowSelect(d);}this.fireEvent("rowselect",this,d,a);this.fireEvent("selectionchange",this);}},deselectRow:function(c,b){if(this.locked){return;}if(this.last==c){this.last=false;}if(this.lastActive==c){this.lastActive=false;}var a=this.grid.store.getAt(c);if(a){this.selections.remove(a);if(!b){this.grid.getView().onRowDeselect(c);}this.fireEvent("rowdeselect",this,c,a);this.fireEvent("selectionchange",this);}},restoreLast:function(){if(this._last){this.last=this._last;}},acceptsNav:function(a,c,b){return !b.isHidden(c)&&b.isCellEditable(c,a);},onEditorKey:function(a,l){var h=l.getKey(),b,i=this.grid,d=i.activeEditor;var c=l.shiftKey;if(h==l.TAB){l.stopEvent();d.completeEdit();if(c){b=i.walkCells(d.row,d.col-1,-1,this.acceptsNav,this);}else{b=i.walkCells(d.row,d.col+1,1,this.acceptsNav,this);}}else{if(h==l.ENTER){l.stopEvent();d.completeEdit();if(this.moveEditorOnEnter!==false){if(c){b=i.walkCells(d.row-1,d.col,-1,this.acceptsNav,this);}else{b=i.walkCells(d.row+1,d.col,1,this.acceptsNav,this);}}}else{if(h==l.ESC){d.cancelEdit();}}}if(b){i.startEditing(b[0],b[1]);}}});Ext.grid.CellSelectionModel=function(a){Ext.apply(this,a);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this);};Ext.extend(Ext.grid.CellSelectionModel,Ext.grid.AbstractSelectionModel,{initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.getGridEl().on(Ext.isIE||Ext.isSafari3?"keydown":"keypress",this.handleKeyDown,this);var a=this.grid.view;a.on("refresh",this.onViewChange,this);a.on("rowupdated",this.onRowUpdated,this);a.on("beforerowremoved",this.clearSelections,this);a.on("beforerowsinserted",this.clearSelections,this);if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this);}},beforeEdit:function(a){this.select(a.row,a.column,false,true,a.record);},onRowUpdated:function(b,c,a){if(this.selection&&this.selection.record==a){b.onCellSelect(c,this.selection.cell[1]);}},onViewChange:function(){this.clearSelections(true);},getSelectedCell:function(){return this.selection?this.selection.cell:null;},clearSelections:function(b){var a=this.selection;if(a){if(b!==true){this.grid.view.onCellDeselect(a.cell[0],a.cell[1]);}this.selection=null;this.fireEvent("selectionchange",this,null);}},hasSelection:function(){return this.selection?true:false;},handleMouseDown:function(d,b,c,a){if(a.button!==0||this.isLocked()){return;}this.select(b,c);},select:function(c,g,e,b,a){if(this.fireEvent("beforecellselect",this,c,g)!==false){this.clearSelections();a=a||this.grid.store.getAt(c);this.selection={record:a,cell:[c,g]};if(!e){var d=this.grid.getView();d.onCellSelect(c,g);if(b!==true){d.focusCell(c,g);}}this.fireEvent("cellselect",this,c,g);this.fireEvent("selectionchange",this,this.selection);}},isSelectable:function(a,c,b){return !b.isHidden(c);},handleKeyDown:function(b){if(!b.isNavKeyPress()){return;}var a=this.grid,l=this.selection;if(!l){b.stopEvent();var i=a.walkCells(0,0,1,this.isSelectable,this);if(i){this.select(i[0],i[1]);}return;}var n=this;var h=function(e,g,c){return a.walkCells(e,g,c,n.isSelectable,n);};var o=b.getKey(),m=l.cell[0],d=l.cell[1];var p;switch(o){case b.TAB:if(b.shiftKey){p=h(m,d-1,-1);}else{p=h(m,d+1,1);}break;case b.DOWN:p=h(m+1,d,1);break;case b.UP:p=h(m-1,d,-1);break;case b.RIGHT:p=h(m,d+1,1);break;case b.LEFT:p=h(m,d-1,-1);break;case b.ENTER:if(a.isEditor&&!a.editing){a.startEditing(m,d);b.stopEvent();return;}break;}if(p){this.select(p[0],p[1]);b.stopEvent();}},acceptsNav:function(a,c,b){return !b.isHidden(c)&&b.isCellEditable(c,a);},onEditorKey:function(b,a){var h=a.getKey(),c,i=this.grid,d=i.activeEditor;if(h==a.TAB){if(a.shiftKey){c=i.walkCells(d.row,d.col-1,-1,this.acceptsNav,this);}else{c=i.walkCells(d.row,d.col+1,1,this.acceptsNav,this);}a.stopEvent();}else{if(h==a.ENTER){d.completeEdit();a.stopEvent();}else{if(h==a.ESC){a.stopEvent();d.cancelEdit();}}}if(c){i.startEditing(c[0],c[1]);}}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel();}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit");},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.on("bodyscroll",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this);}else{if(this.clicksToEdit=="auto"&&this.view.mainBody){this.view.mainBody.on("mousedown",this.onAutoEditClick,this);}this.on("celldblclick",this.onCellDblClick,this);}this.getGridEl().addClass("xedit-grid");},onCellDblClick:function(c,a,b){this.startEditing(a,b);},onAutoEditClick:function(a,g){if(a.button!==0){return;}var c=this.view.findRowIndex(g);var d=this.view.findCellIndex(g);if(c!==false&&d!==false){this.stopEditing();if(this.selModel.getSelectedCell){var b=this.selModel.getSelectedCell();if(b&&b.cell[0]===c&&b.cell[1]===d){this.startEditing(c,d);}}else{if(this.selModel.isSelected(c)){this.startEditing(c,d);}}}},onEditComplete:function(g,a,d){this.editing=false;this.activeEditor=null;g.un("specialkey",this.selModel.onEditorKey,this.selModel);var h=g.record;var c=this.colModel.getDataIndex(g.col);a=this.postEditValue(a,d,h,c);if(String(a)!==String(d)){var b={grid:this,record:h,field:c,originalValue:d,value:a,row:g.row,column:g.col,cancel:false};if(this.fireEvent("validateedit",b)!==false&&!b.cancel){h.set(c,b.value);delete b.cancel;this.fireEvent("afteredit",b);}}this.view.focusCell(g.row,g.col);},startEditing:function(c,g){this.stopEditing();if(this.colModel.isCellEditable(g,c)){this.view.ensureVisible(c,g,true);var h=this.store.getAt(c);var b=this.colModel.getDataIndex(g);var a={grid:this,record:h,field:b,value:h.data[b],row:c,column:g,cancel:false};if(this.fireEvent("beforeedit",a)!==false&&!a.cancel){this.editing=true;var d=this.colModel.getCellEditor(g,c);if(!d){return;}if(!d.rendered){d.render(this.view.getEditorParent(d));}(function(){d.row=c;d.col=g;d.record=h;d.on("complete",this.onEditComplete,this,{single:true});d.on("specialkey",this.selModel.onEditorKey,this.selModel);this.activeEditor=d;var e=this.preEditValue(h,b);d.startEdit(this.view.getCell(c,g).firstChild,e===undefined?"":e);}).defer(50,this);}}},preEditValue:function(b,a){var c=b.data[a];return this.autoEncode&&typeof c=="string"?Ext.util.Format.htmlDecode(c):c;},postEditValue:function(a,c,d,b){return this.autoEncode&&typeof a=="string"?Ext.util.Format.htmlEncode(a):a;},stopEditing:function(a){if(this.activeEditor){this.activeEditor[a===true?"cancelEdit":"completeEdit"]();}this.activeEditor=null;},onDestroy:function(){if(this.rendered){var a=this.colModel.config;for(var e=0,d=a.length;e<d;e++){var b=a[e];Ext.destroy(b.editor);}}Ext.grid.EditorGridPanel.superclass.onDestroy.call(this);}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(b,a){Ext.grid.GridEditor.superclass.constructor.call(this,b,a);b.monitorTab=false;};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=function(a,b){this.grid=a;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(b){this.setSource(b);}Ext.grid.PropertyStore.superclass.constructor.call(this);};Ext.extend(Ext.grid.PropertyStore,Ext.util.Observable,{setSource:function(a){this.source=a;this.store.removeAll();var c=[];for(var b in a){if(this.isEditableValue(a[b])){c.push(new Ext.grid.PropertyRecord({name:b,value:a[b]},b));}}this.store.loadRecords({records:c},{},true);},onUpdate:function(c,d,b){if(b==Ext.data.Record.EDIT){var e=d.data.value;var a=d.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,d.id,e,a)!==false){this.source[d.id]=e;d.commit();this.grid.fireEvent("propertychange",this.source,d.id,e,a);}else{d.reject();}}},getProperty:function(a){return this.store.getAt(a);},isEditableValue:function(a){if(Ext.isDate(a)){return true;}else{if(typeof a=="object"||typeof a=="function"){return false;}}return true;},setValue:function(b,a){this.source[b]=a;this.store.getById(b).set("value",a);},getSource:function(){return this.source;}});Ext.grid.PropertyColumnModel=function(a,e){this.grid=a;var b=Ext.grid;b.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=e;this.bselect=Ext.DomHelper.append(document.body,{tag:"select",cls:"x-grid-editor x-hide-display",children:[{tag:"option",value:"true",html:"true"},{tag:"option",value:"false",html:"false"}]});var c=Ext.form;var d=new c.Field({el:this.bselect,bselect:this.bselect,autoShow:true,getValue:function(){return this.bselect.value=="true";}});this.editors={date:new b.GridEditor(new c.DateField({selectOnFocus:true})),string:new b.GridEditor(new c.TextField({selectOnFocus:true})),number:new b.GridEditor(new c.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new b.GridEditor(d)};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this);};Ext.extend(Ext.grid.PropertyColumnModel,Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",renderDate:function(a){return a.dateFormat(this.dateFormat);},renderBool:function(a){return a?"true":"false";},isCellEditable:function(a,b){return a==1;},getRenderer:function(a){return a==1?this.renderCellDelegate:this.renderPropDelegate;},renderProp:function(a){return this.getPropertyName(a);},renderCell:function(a){var b=a;if(Ext.isDate(a)){b=this.renderDate(a);}else{if(typeof a=="boolean"){b=this.renderBool(a);}}return Ext.util.Format.htmlEncode(b);},getPropertyName:function(b){var a=this.grid.propertyNames;return a&&a[b]?a[b]:b;},getCellEditor:function(d,c){var e=this.store.getProperty(c);var b=e.data.name,a=e.data.value;if(this.grid.customEditors[b]){return this.grid.customEditors[b];}if(Ext.isDate(a)){return this.editors.date;}else{if(typeof a=="number"){return this.editors.number;}else{if(typeof a=="boolean"){return this.editors["boolean"];}else{return this.editors.string;}}}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customEditors=this.customEditors||{};this.lastEditRow=null;var b=new Ext.grid.PropertyStore(this);this.propStore=b;var a=new Ext.grid.PropertyColumnModel(this,b);b.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=a;this.ds=b.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.selModel.on("beforecellselect",function(d,c,e){if(e===0){this.startEditing.defer(200,this,[c,1]);return false;}},this);},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid");},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source);}},setSource:function(a){this.propStore.setSource(a);},getSource:function(){return this.propStore.getSource();}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.Column=function(a){Ext.apply(this,a);if(typeof this.renderer=="string"){this.renderer=Ext.util.Format[this.renderer];}if(typeof this.id=="undefined"){this.id=++Ext.grid.Column.AUTO_ID;}if(this.editor){if(this.editor.xtype&&!this.editor.events){this.editor=Ext.create(this.editor,"textfield");}}};Ext.grid.Column.AUTO_ID=0;Ext.grid.Column.prototype={isColumn:true,renderer:function(a){if(typeof a=="string"&&a.length<1){return"&#160;";}return a;},getEditor:function(a){return this.editable!==false?this.editor:null;},getCellEditor:function(b){var a=this.getEditor(b);if(a){if(!a.startEdit){if(!a.gridEditor){a.gridEditor=new Ext.grid.GridEditor(a);}return a.gridEditor;}else{if(a.startEdit){return a;}}}return null;}};Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(c){this.supr().constructor.apply(this,arguments);var a=this.trueText,b=this.falseText,d=this.undefinedText;this.renderer=function(e){if(e===undefined){return d;}if(!e||e==="false"){return b;}return a;};}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(a){this.supr().constructor.apply(this,arguments);this.renderer=Ext.util.Format.numberRenderer(this.format);}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(a){this.supr().constructor.apply(this,arguments);this.renderer=Ext.util.Format.dateRenderer(this.format);}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(a){this.supr().constructor.apply(this,arguments);var b=typeof this.tpl=="object"?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(c,d,e){return b.apply(e.data);};this.tpl=b;}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn};Ext.grid.RowNumberer=function(a){Ext.apply(this,a);if(this.rowspan){this.renderer=this.renderer.createDelegate(this);}};Ext.grid.RowNumberer.prototype={header:"",width:23,sortable:false,fixed:true,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(d,a,c,b){if(this.rowspan){a.cellAttr='rowspan="'+this.rowspan+'"';}return b+1;}};Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,dataIndex:"",id:"checker",constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn;}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){var a=this.grid.getView();a.mainBody.on("mousedown",this.onMouseDown,this);Ext.fly(a.innerHd).on("mousedown",this.onHdMouseDown,this);},this);},onMouseDown:function(a,d){if(a.button===0&&d.className=="x-grid3-row-checker"){a.stopEvent();var b=a.getTarget(".x-grid3-row");if(b){var c=b.rowIndex;if(this.isSelected(c)){this.deselectRow(c);}else{this.selectRow(c,true);}}}},onHdMouseDown:function(a,c){if(c.className=="x-grid3-hd-checker"){a.stopEvent();var d=Ext.fly(c.parentNode);var b=d.hasClass("x-grid3-hd-checker-on");if(b){d.removeClass("x-grid3-hd-checker-on");this.clearSelections();}else{d.addClass("x-grid3-hd-checker-on");this.selectAll();}}},renderer:function(c,a,b){return'<div class="x-grid3-row-checker">&#160;</div>';}});Ext.LoadMask=function(a,c){this.el=Ext.get(a);Ext.apply(this,c);if(this.store){this.store.on("beforeload",this.onBeforeLoad,this);this.store.on("load",this.onLoad,this);this.store.on("loadexception",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,false);}else{var b=this.el.getUpdater();b.showLoadIndicator=false;b.on("beforeupdate",this.onBeforeLoad,this);b.on("update",this.onLoad,this);b.on("failure",this.onLoad,this);this.removeMask=Ext.value(this.removeMask,true);}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true;},enable:function(){this.disabled=false;},onLoad:function(){this.el.unmask(this.removeMask);},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls);}},show:function(){this.onBeforeLoad();},hide:function(){this.onLoad();},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("loadexception",this.onLoad,this);}else{var a=this.el.getUpdater();a.un("beforeupdate",this.onBeforeLoad,this);a.un("update",this.onLoad,this);a.un("failure",this.onLoad,this);}}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update");},onRender:function(b,d){Ext.ProgressBar.superclass.onRender.call(this,b,d);var a=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");if(d){this.el=a.insertBefore(d,{cls:this.baseCls},true);}else{this.el=a.append(b,{cls:this.baseCls},true);}if(this.id){this.el.dom.id=this.id;}var e=this.el.dom.firstChild;this.progressBar=Ext.get(e.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl;}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var c=Ext.get(e.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,c.dom.firstChild]);this.textEl.setWidth(e.offsetWidth);}this.progressBar.setHeight(e.offsetHeight);},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text);}else{this.updateText(this.text);}},updateProgress:function(c,a){this.value=c||0;if(a){this.updateText(a);}if(this.rendered){var b=Math.floor(c*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(b);if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(b);}}this.fireEvent("update",this,c,a);return this;},wait:function(b){if(!this.waitTimer){var a=this;b=b||{};this.updateText(b.text);this.waitTimer=Ext.TaskMgr.start({run:function(c){var d=b.increment||10;this.updateProgress(((((c+d)%d)+1)*(100/d))*0.01);},interval:b.interval||1000,duration:b.duration,onStop:function(){if(b.fn){b.fn.apply(b.scope||this);}this.reset();},scope:a});}return this;},isWaiting:function(){return this.waitTimer!=null;},updateText:function(a){this.text=a||"&#160;";if(this.rendered){this.textEl.update(this.text);}return this;},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text);}return this;},setSize:function(b,a){Ext.ProgressBar.superclass.setSize.call(this,b,a);if(this.textTopEl){var c=this.el.dom.firstChild;this.textEl.setSize(c.offsetWidth,c.offsetHeight);}this.syncProgressBar();return this;},reset:function(a){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden");}if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null;}if(a===true){this.hide();}return this;}});Ext.reg("progress",Ext.ProgressBar);Ext.debug={};(function(){var b;function a(){var h=new Ext.debug.ScriptsPanel();var e=new Ext.debug.LogPanel();var d=new Ext.debug.DomTree();var g=new Ext.TabPanel({activeTab:0,border:false,tabPosition:"bottom",items:[{title:"Debug Console",layout:"border",items:[e,h]},{title:"DOM Inspector",layout:"border",items:[d]}]});b=new Ext.Panel({id:"x-debug-browser",title:"Console",collapsible:true,animCollapse:false,style:"position:absolute;left:0;bottom:0;",height:200,logView:e,layout:"fit",tools:[{id:"close",handler:function(){b.destroy();b=null;Ext.EventManager.removeResizeListener(c);}}],items:g});b.render(document.body);b.resizer=new Ext.Resizable(b.el,{minHeight:50,handles:"n",pinned:true,transparent:true,resizeElement:function(){var i=this.proxy.getBox();this.proxy.hide();b.setHeight(i.height);return i;}});function c(){b.setWidth(Ext.getBody().getViewSize().width);}Ext.EventManager.onWindowResize(c);c();}Ext.apply(Ext,{log:function(){if(!b){a();}b.logView.log.apply(b.logView,arguments);},logf:function(d,c,e,g){Ext.log(String.format.apply(String,arguments));},dump:function(c){if(typeof c=="string"||typeof c=="number"||typeof c=="undefined"||Ext.isDate(c)){Ext.log(c);}else{if(!c){Ext.log("null");}else{if(typeof c!="object"){Ext.log("Unknown return type");}else{if(Ext.isArray(c)){Ext.log("["+c.join(",")+"]");}else{var e=["{\n"];for(var g in c){var d=typeof c[g];if(d!="function"&&d!="object"){e.push(String.format("  {0}: {1},\n",g,c[g]));}}var h=e.join("");if(h.length>3){h=h.substr(0,h.length-2);}Ext.log(h+"\n}");}}}}},_timers:{},time:function(c){c=c||"def";Ext._timers[c]=new Date().getTime();},timeEnd:function(g,d){var c=new Date().getTime();g=g||"def";var e=String.format("{0} ms",c-Ext._timers[g]);Ext._timers[g]=new Date().getTime();if(d!==false){Ext.log("Timer "+(g=="def"?e:g+": "+e));}return e;}});})();Ext.debug.ScriptsPanel=Ext.extend(Ext.Panel,{id:"x-debug-scripts",region:"east",minWidth:200,split:true,width:350,border:false,layout:"anchor",style:"border-width:0 0 0 1px;",initComponent:function(){this.scriptField=new Ext.form.TextArea({anchor:"100% -26",style:"border-width:0;"});this.trapBox=new Ext.form.Checkbox({id:"console-trap",boxLabel:"Trap Errors",checked:true});this.toolbar=new Ext.Toolbar([{text:"Run",scope:this,handler:this.evalScript},{text:"Clear",scope:this,handler:this.clear},"->",this.trapBox," "," "]);this.items=[this.toolbar,this.scriptField];Ext.debug.ScriptsPanel.superclass.initComponent.call(this);},evalScript:function(){var s=this.scriptField.getValue();if(this.trapBox.getValue()){try{var rt=eval(s);Ext.dump(rt===undefined?"(no return)":rt);}catch(e){Ext.log(e.message||e.descript);}}else{var rt=eval(s);Ext.dump(rt===undefined?"(no return)":rt);}},clear:function(){this.scriptField.setValue("");this.scriptField.focus();}});Ext.debug.LogPanel=Ext.extend(Ext.Panel,{autoScroll:true,region:"center",border:false,style:"border-width:0 1px 0 0",log:function(){var a=['<div style="padding:5px !important;border-bottom:1px solid #ccc;">',Ext.util.Format.htmlEncode(Array.prototype.join.call(arguments,", ")).replace(/\n/g,"<br />").replace(/\s/g,"&#160;"),"</div>"].join("");this.body.insertHtml("beforeend",a);this.body.scrollTo("top",100000);},clear:function(){this.body.update("");this.body.dom.scrollTop=0;}});Ext.debug.DomTree=Ext.extend(Ext.tree.TreePanel,{enableDD:false,lines:false,rootVisible:false,animate:false,hlColor:"ffff9c",autoScroll:true,region:"center",border:false,initComponent:function(){Ext.debug.DomTree.superclass.initComponent.call(this);var g=false,i;var h=/^\s*$/;var c=Ext.util.Format.htmlEncode;var e=Ext.util.Format.ellipsis;var b=/\s?([a-z\-]*)\:([^;]*)(?:[;\s\n\r]*)/gi;function k(r){if(!r||r.nodeType!=1||r==document.body||r==document){return false;}var n=[r],p=r;while((p=p.parentNode)&&p.nodeType==1&&p.tagName.toUpperCase()!="HTML"){n.unshift(p);}var q=i;for(var o=0,l=n.length;o<l;o++){q.expand();q=q.findChild("htmlNode",n[o]);if(!q){return false;}}q.select();var m=q.ui.anchor;treeEl.dom.scrollTop=Math.max(0,m.offsetTop-10);q.highlight();return true;}function d(m){var l=m.tagName;if(m.id){l+="#"+m.id;}else{if(m.className){l+="."+m.className;}}return l;}function a(r,l,w){return;if(w&&w.unframe){w.unframe();}var x={};if(l&&l.htmlNode){if(frameEl.pressed){l.frame();}if(inspecting){return;}addStyle.enable();reload.setDisabled(l.leaf);var q=l.htmlNode;stylePanel.setTitle(d(q));if(g&&!showAll.pressed){var s=q.style?q.style.cssText:"";if(s){var n;while((n=b.exec(s))!=null){x[n[1].toLowerCase()]=n[2];}}}else{if(g){var m=Ext.debug.cssList;var s=q.style,o=Ext.fly(q);if(s){for(var t=0,u=m.length;t<u;t++){var p=m[t];var z=s[p]||o.getStyle(p);if(z!=undefined&&z!==null&&z!==""){x[p]=z;}}}}else{for(var y in q){var z=q[y];if((isNaN(y+10))&&z!=undefined&&z!==null&&z!==""&&!(Ext.isGecko&&y[0]==y[0].toUpperCase())){x[y]=z;}}}}}else{if(inspecting){return;}addStyle.disable();reload.disabled();}stylesGrid.setSource(x);stylesGrid.treeNode=l;stylesGrid.view.fitColumns();}this.loader=new Ext.tree.TreeLoader();this.loader.load=function(q,l){var m=q.htmlNode==document.body;var p=q.htmlNode.childNodes;for(var n=0,o;o=p[n];n++){if(m&&o.id=="x-debug-browser"){continue;}if(o.nodeType==1){q.appendChild(new Ext.debug.HtmlNode(o));}else{if(o.nodeType==3&&!h.test(o.nodeValue)){q.appendChild(new Ext.tree.TreeNode({text:"<em>"+e(c(String(o.nodeValue)),35)+"</em>",cls:"x-tree-noicon"}));}}}l();};this.root=this.setRootNode(new Ext.tree.TreeNode("Ext"));i=this.root.appendChild(new Ext.debug.HtmlNode(document.getElementsByTagName("html")[0]));}});Ext.debug.HtmlNode=function(){var g=Ext.util.Format.htmlEncode;var d=Ext.util.Format.ellipsis;var c=/^\s*$/;var e=[{n:"id",v:"id"},{n:"className",v:"class"},{n:"name",v:"name"},{n:"type",v:"type"},{n:"src",v:"src"},{n:"href",v:"href"}];function a(k){for(var l=0,i;i=k.childNodes[l];l++){if(i.nodeType==1){return true;}}return false;}function h(k,n){var r=k.tagName.toLowerCase();var q="&lt;"+r;for(var l=0,m=e.length;l<m;l++){var o=e[l];var p=k[o.n];if(p&&!c.test(p)){q+=" "+o.v+"=&quot;<i>"+g(p)+"</i>&quot;";}}var i=k.style?k.style.cssText:"";if(i){q+=" style=&quot;<i>"+g(i.toLowerCase())+"</i>&quot;";}if(n&&k.childNodes.length>0){q+="&gt;<em>"+d(g(String(k.innerHTML)),35)+"</em>&lt;/"+r+"&gt;";}else{if(n){q+=" /&gt;";}else{q+="&gt;";}}return q;}var b=function(k){var i=!a(k);this.htmlNode=k;this.tagName=k.tagName.toLowerCase();var l={text:h(k,i),leaf:i,cls:"x-tree-noicon"};b.superclass.constructor.call(this,l);this.attributes.htmlNode=k;if(!i){this.on("expand",this.onExpand,this);this.on("collapse",this.onCollapse,this);}};Ext.extend(b,Ext.tree.AsyncTreeNode,{cls:"x-tree-noicon",preventHScroll:true,refresh:function(k){var i=!a(this.htmlNode);this.setText(h(this.htmlNode,i));if(k){Ext.fly(this.ui.textNode).highlight();}},onExpand:function(){if(!this.closeNode&&this.parentNode){this.closeNode=this.parentNode.insertBefore(new Ext.tree.TreeNode({text:"&lt;/"+this.tagName+"&gt;",cls:"x-tree-noicon"}),this.nextSibling);}else{if(this.closeNode){this.closeNode.ui.show();}}},onCollapse:function(){if(this.closeNode){this.closeNode.ui.hide();}},render:function(i){b.superclass.render.call(this,i);},highlightNode:function(){},highlight:function(){},frame:function(){this.htmlNode.style.border="1px solid #0000ff";},unframe:function(){this.htmlNode.style.border="";}});return b;}();var deconcept=deconcept||{};if(typeof deconcept.util=="undefined"||!deconcept.util){deconcept.util={};}if(typeof deconcept.SWFObjectUtil=="undefined"||!deconcept.SWFObjectUtil){deconcept.SWFObjectUtil={};}deconcept.SWFObject=function(m,k,d,n,p,b,g,o,e,l){if(!document.getElementById){return;}this.DETECT_KEY=l?l:"detectflash";this.skipDetect=deconcept.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];if(m){this.setAttribute("swf",m);}if(k){this.setAttribute("id",k);}if(d){this.setAttribute("width",d);}if(n){this.setAttribute("height",n);}if(p){this.setAttribute("version",new deconcept.PlayerVersion(p.toString().split(".")));}this.installedVer=deconcept.SWFObjectUtil.getPlayerVersion();if(!window.opera&&document.all&&this.installedVer.major>7){deconcept.SWFObject.doPrepUnload=true;}if(b){this.addParam("bgcolor",b);}var i=g?g:"high";this.addParam("quality",i);this.setAttribute("useExpressInstall",false);this.setAttribute("doExpressInstall",false);var a=(o)?o:window.location;this.setAttribute("xiRedirectUrl",a);this.setAttribute("redirectUrl","");if(e){this.setAttribute("redirectUrl",e);}};deconcept.SWFObject.prototype={useExpressInstall:function(a){this.xiSWFPath=!a?"expressinstall.swf":a;this.setAttribute("useExpressInstall",true);},setAttribute:function(a,b){this.attributes[a]=b;},getAttribute:function(a){return this.attributes[a];},addParam:function(a,b){this.params[a]=b;},getParams:function(){return this.params;},addVariable:function(a,b){this.variables[a]=b;},getVariable:function(a){return this.variables[a];},getVariables:function(){return this.variables;},getVariablePairs:function(){var b=[];var c;var a=this.getVariables();for(c in a){b[b.length]=c+"="+a[c];}return b;},getSWFHTML:function(){var b="";var a={};var c="";var d="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute("swf",this.xiSWFPath);}b='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'"';b+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';a=this.getParams();for(c in a){b+=[c]+'="'+a[c]+'" ';}d=this.getVariablePairs().join("&");if(d.length>0){b+='flashvars="'+d+'"';}b+="/>";}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute("swf",this.xiSWFPath);}b='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'" style="'+this.getAttribute("style")+'">';b+='<param name="movie" value="'+this.getAttribute("swf")+'" />';a=this.getParams();for(c in a){b+='<param name="'+c+'" value="'+a[c]+'" />';}d=this.getVariablePairs().join("&");if(d.length>0){b+='<param name="flashvars" value="'+d+'" />';}b+="</object>";}return b;},write:function(b){if(this.getAttribute("useExpressInstall")){var c=new deconcept.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(c)&&!this.installedVer.versionIsValid(this.getAttribute("version"))){this.setAttribute("doExpressInstall",true);this.addVariable("MMredirectURL",escape(this.getAttribute("xiRedirectUrl")));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}if(this.skipDetect||this.getAttribute("doExpressInstall")||this.installedVer.versionIsValid(this.getAttribute("version"))){var a=(typeof b=="string")?document.getElementById(b):b;a.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute("redirectUrl")!==""){document.location.replace(this.getAttribute("redirectUrl"));}}return false;}};deconcept.SWFObjectUtil.getPlayerVersion=function(){var b=null;var a=new deconcept.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var d=navigator.plugins["Shockwave Flash"];if(d&&d.description){a=new deconcept.PlayerVersion(d.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split("."));}}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var g=3;while(b){try{g++;b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+g);a=new deconcept.PlayerVersion([g,0,0]);}catch(c){b=null;}}}else{try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(c){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");a=new deconcept.PlayerVersion([6,0,21]);b.AllowScriptAccess="always";}catch(c){if(a.major==6){return a;}}try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(c){}}if(b!==null){a=new deconcept.PlayerVersion(b.GetVariable("$version").split(" ")[1].split(","));}}}return a;};deconcept.PlayerVersion=function(a){this.major=a[0]!==null?parseInt(a[0],0):0;this.minor=a[1]!==null?parseInt(a[1],0):0;this.rev=a[2]!==null?parseInt(a[2],0):0;};deconcept.PlayerVersion.prototype.versionIsValid=function(a){if(this.major<a.major){return false;}if(this.major>a.major){return true;}if(this.minor<a.minor){return false;}if(this.minor>a.minor){return true;}if(this.rev<a.rev){return false;}return true;};deconcept.util={getRequestParameter:function(b){var a=document.location.search||document.location.hash;if(b===null){return a;}if(a){var d=a.substring(1).split("&");for(var c=0;c<d.length;c++){if(d[c].substring(0,d[c].indexOf("="))==b){return d[c].substring((d[c].indexOf("=")+1));}}}return"";}};deconcept.SWFObjectUtil.cleanupSWFs=function(){var a=document.getElementsByTagName("OBJECT");for(var c=a.length-1;c>=0;c--){a[c].style.display="none";for(var b in a[c]){if(typeof a[c][b]=="function"){a[c][b]=function(){};}}}};if(deconcept.SWFObject.doPrepUnload){if(!deconcept.unloadSet){deconcept.SWFObjectUtil.prepUnload=function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){};window.attachEvent("onunload",deconcept.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",deconcept.SWFObjectUtil.prepUnload);deconcept.unloadSet=true;}}Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.45",backgroundColor:"#ffffff",wmode:"opaque",url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,autoEl:"div",initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize");},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var b=this.getSwfId();var c=new deconcept.SWFObject(this.url,b,this.swfWidth,this.swfHeight,this.flashVersion,this.backgroundColor);if(this.expressInstall){c.useExpressInstall(this.expressInstall);}c.addParam("allowScriptAccess","always");if(this.wmode!==undefined){c.addParam("wmode",this.wmode);}c.addVariable("allowedDomain",document.location.hostname);c.addVariable("elementID",this.getId());c.addVariable("eventHandler","Ext.FlashEventProxy.onEvent");var a=c.write(this.el.dom);if(a){this.swf=Ext.getDom(b);}},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID));},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID));},onFlashEvent:function(a){switch(a.type){case"swfReady":this.initSwf();return;case"log":return;}a.component=this;this.fireEvent(a.type.toLowerCase().replace(/event$/,""),a);},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this);},onSwfReady:Ext.emptyFn});Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(a,c){var b=Ext.getCmp(a);if(b){b.onFlashEvent(c);}else{arguments.callee.defer(10,this,[a,c]);}}};Ext.Slider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,dragging:false,initComponent:function(){if(this.value===undefined){this.value=this.minValue;}Ext.Slider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.vertical){Ext.apply(this,Ext.Slider.Vertical);}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{cls:"x-slider-thumb"},{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.Slider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.thumb=this.innerEl.first();this.halfThumb=(this.vertical?this.thumb.getHeight():this.thumb.getWidth())/2;this.focusEl=this.thumb.next();this.initEvents();},initEvents:function(){this.thumb.addClassOnOver("x-slider-thumb-over");this.mon(this.el,"mousedown",this.onMouseDown,this);this.mon(this.el,"keydown",this.onKeyDown,this);this.focusEl.swallowEvent("click",true);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(this.thumb);this.on("beforedestroy",this.tracker.destroy,this.tracker);},onMouseDown:function(b){if(this.disabled){return;}if(this.clickToChange&&b.target!=this.thumb.dom){var a=this.innerEl.translatePoints(b.getXY());this.onClickChange(a);}this.focus();},onClickChange:function(a){if(a.top>this.clickRange[0]&&a.top<this.clickRange[1]){this.setValue(Math.round(this.reverseValue(a.left)),undefined,true);}},onKeyDown:function(b){if(this.disabled){b.preventDefault();return;}var a=b.getKey();switch(a){case b.UP:case b.RIGHT:b.stopEvent();if(b.ctrlKey){this.setValue(this.maxValue,undefined,true);}else{this.setValue(this.value+this.keyIncrement,undefined,true);}break;case b.DOWN:case b.LEFT:b.stopEvent();if(b.ctrlKey){this.setValue(this.minValue,undefined,true);}else{this.setValue(this.value-this.keyIncrement,undefined,true);}break;default:b.preventDefault();}},doSnap:function(d){if(!this.increment||this.increment==1||!d){return d;}var b=d,a=this.increment;var c=d%a;if(c>0){if(c>(a/2)){b=d+(a-c);}else{b=d-c;}}return b.constrain(this.minValue,this.maxValue);},afterRender:function(){Ext.Slider.superclass.afterRender.apply(this,arguments);if(this.value!==undefined){var a=this.normalizeValue(this.value);if(a!==this.value){delete this.value;this.setValue(a,false);}else{this.moveThumb(this.translateValue(a),false);}}},getRatio:function(){var a=this.innerEl.getWidth();var b=this.maxValue-this.minValue;return b==0?a:(a/b);},normalizeValue:function(a){if(typeof a!="number"){a=parseInt(a);}a=Math.round(a);a=this.doSnap(a);a=a.constrain(this.minValue,this.maxValue);return a;},setValue:function(c,b,a){c=this.normalizeValue(c);if(c!==this.value&&this.fireEvent("beforechange",this,c,this.value)!==false){this.value=c;this.moveThumb(this.translateValue(c),b!==false);this.fireEvent("change",this,c);if(a){this.fireEvent("changecomplete",this,c);}}},translateValue:function(a){var b=this.getRatio();return(a*b)-(this.minValue*b)-this.halfThumb;},reverseValue:function(b){var a=this.getRatio();return(b+this.halfThumb+(this.minValue*a))/a;},moveThumb:function(b,a){if(!a||this.animate===false){this.thumb.setLeft(b);}else{this.thumb.shift({left:b,stopFx:true,duration:0.35});}},focus:function(){this.focusEl.focus(10);},onBeforeDragStart:function(a){return !this.disabled;},onDragStart:function(a){this.thumb.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.fireEvent("dragstart",this,a);},onDrag:function(a){var b=this.innerEl.translatePoints(this.tracker.getXY());this.setValue(Math.round(this.reverseValue(b.left)),false);this.fireEvent("drag",this,a);},onDragEnd:function(a){this.thumb.removeClass("x-slider-thumb-drag");this.dragging=false;this.fireEvent("dragend",this,a);if(this.dragStartValue!=this.value){this.fireEvent("changecomplete",this,this.value);}},onResize:function(a,b){this.innerEl.setWidth(a-(this.el.getPadding("l")+this.endEl.getPadding("r")));this.syncThumb();},syncThumb:function(){if(this.rendered){this.moveThumb(this.translateValue(this.value));}},getValue:function(){return this.value;}});Ext.reg("slider",Ext.Slider);Ext.Slider.Vertical={onResize:function(a,b){this.innerEl.setHeight(b-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb();},getRatio:function(){var b=this.innerEl.getHeight();var a=this.maxValue-this.minValue;return b/a;},moveThumb:function(b,a){if(!a||this.animate===false){this.thumb.setBottom(b);}else{this.thumb.shift({bottom:b,stopFx:true,duration:0.35});}},onDrag:function(c){var a=this.innerEl.translatePoints(this.tracker.getXY());var b=this.innerEl.getHeight()-a.top;this.setValue(Math.round(b/this.getRatio()),false);this.fireEvent("drag",this,c);},onClickChange:function(b){if(b.left>this.clickRange[0]&&b.left<this.clickRange[1]){var a=this.innerEl.getHeight()-b.top;this.setValue(Math.round(a/this.getRatio()),undefined,true);}}};Ext.util.Cookies={set:function(d,g){var b=arguments;var a=arguments.length;var c=(a>2)?b[2]:null;var i=(a>3)?b[3]:"/";var e=(a>4)?b[4]:null;var h=(a>5)?b[5]:false;document.cookie=d+"="+escape(g)+((c==null)?"":("; expires="+c.toGMTString()))+((i==null)?"":("; path="+i))+((e==null)?"":("; domain="+e))+((h==true)?"; secure":"");},get:function(a){var e=a+"=";var c=e.length;var d=document.cookie.length;var b=0;var g=0;while(b<d){g=b+c;if(document.cookie.substring(b,g)==e){return Ext.util.Cookies.getCookieVal(g);}b=document.cookie.indexOf(" ",b)+1;if(b==0){break;}}return null;},clear:function(a){if(Ext.util.Cookies.get(a)){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT";}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length;}return unescape(document.cookie.substring(b,a));}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{url:"http://yui.yahooapis.com/2.5.1/build/charts/assets/charts.swf",refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend");},setStyle:function(a,b){b=Ext.encode(b);this.swf.setStyle(a,b);},setStyles:function(a){a=Ext.encode(a);this.swf.setStyles(a);},setSeriesStyles:function(b){for(var a=0;a<b.length;a++){b[a]=Ext.encode(b[a]);}this.swf.setSeriesStyles(b);},setCategoryNames:function(a){this.swf.setCategoryNames(a);},setTipRenderer:function(b){var a=this;this.tipFnName=this.createFnProxy(function(d,g,c){var e=a.store.getAt(g);return b(a,e,g,c);},this.tipFnName);this.swf.setDataTipFunction(this.tipFnName);},setSeries:function(a){this.series=a;this.refresh();},setStore:function(a,b){if(!b&&this.store){this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this);}if(a){a=Ext.StoreMgr.lookup(a);a.on("datachanged",this.refresh,this);a.on("add",this.delayRefresh,this);a.on("remove",this.delayRefresh,this);a.on("update",this.delayRefresh,this);a.on("clear",this.refresh,this);}this.store=a;if(a&&!b){this.refresh();}},onSwfReady:function(a){Ext.chart.Chart.superclass.onSwfReady.call(this,a);this.swf.setType(this.type);if(this.chartStyle){this.setStyles(this.chartStyle);}if(this.categoryNames){this.setCategoryNames(this.categoryNames);}if(this.tipRenderer){this.setTipRenderer(this.tipRenderer);}if(!a){this.setStore(this.store,true);}this.refresh.defer(10,this);},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this);}this.refreshTask.delay(this.refreshBuffer);},refresh:function(){var d=false;var b=[],k=this.store.data.items;for(var n=0,c=k.length;n<c;n++){b[n]=k[n].data;}var m=[];var l=0;var e=null;var a=0;if(this.series){l=this.series.length;for(a=0;a<l;a++){e=this.series[a];var h={};for(var g in e){if(g=="style"&&e.style!==null){h.style=Ext.encode(e.style);d=true;}else{h[g]=e[g];}}m.push(h);}}if(l>0){for(a=0;a<l;a++){e=m[a];if(!e.type){e.type=this.type;}e.dataProvider=b;}}else{m.push({type:this.type,dataProvider:b});}this.swf.setDataProvider(m,(this.isFirst=(this.isFirst===undefined)));},createFnProxy:function(c,b){if(b){delete window[b];}var a="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);window[a]=c;return a;}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(a){Ext.chart.PieChart.superclass.onSwfReady.call(this,a);this.setDataField(this.dataField);this.setCategoryField(this.categoryField);},setDataField:function(a){this.dataField=a;this.swf.setDataField(a);},setCategoryField:function(a){this.categoryField=a;this.swf.setCategoryField(a);}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(a){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,a);if(this.xField){this.setXField(this.xField);}if(this.yField){this.setYField(this.yField);}if(this.xAxis){this.setXAxis(this.xAxis);}if(this.yAxis){this.setYAxis(this.yAxis);}},setXField:function(a){this.xField=a;this.swf.setHorizontalField(a);},setYField:function(a){this.yField=a;this.swf.setVerticalField(a);},setXAxis:function(a){this.xAxis=this.createAxis("xAxis",a);this.swf.setHorizontalAxis(this.xAxis);},setYAxis:function(a){this.yAxis=this.createAxis("yAxis",a);this.swf.setVerticalAxis(this.yAxis);},createAxis:function(a,b){var c=Ext.apply({},b),d=null;if(this[a]){d=this[a].labelFunction;}if(c.labelRenderer){var e=c.labelRenderer;c.labelFunction=this.createFnProxy(function(g){return e(g);},d);delete c.labelRenderer;}return c;}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.Axis=function(a){Ext.apply(this,a);};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear"});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null});Ext.chart.Series=function(a){Ext.apply(this,a);};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.History=(function(){var a,k;var g=false;var l;function b(){var n=top.location.href,m=n.indexOf("#");return m>=0?n.substr(m+1):null;}function h(){k.value=l;}function c(m){l=m;Ext.History.fireEvent("change",m);}function d(o){var n=['<html><body><div id="state">',o,"</div></body></html>"].join("");try{var m=a.contentWindow.document;m.open();m.write(n);m.close();return true;}catch(p){return false;}}function i(){if(!a.contentWindow||!a.contentWindow.document){setTimeout(i,10);return;}var m=a.contentWindow.document;var o=m.getElementById("state");var n=o?o.innerText:null;var p=b();setInterval(function(){m=a.contentWindow.document;o=m.getElementById("state");var r=o?o.innerText:null;var q=b();if(r!==n){n=r;c(n);top.location.hash=n;p=n;h();}else{if(q!==p){p=q;d(q);}}},50);g=true;Ext.History.fireEvent("ready",Ext.History);}function e(){l=k.value?k.value:b();if(Ext.isIE){i();}else{var m=b();setInterval(function(){var n=b();if(n!==m){m=n;c(m);h();}},50);g=true;Ext.History.fireEvent("ready",Ext.History);}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(m,n){if(g){Ext.callback(m,n,[this]);return;}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(m,n);});return;}k=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){a=Ext.getDom(Ext.History.iframeId);}this.addEvents("ready","change");if(m){this.on("ready",m,n,{single:true});}e();},add:function(n,m){if(m!==false){if(this.getToken()==n){return true;}}if(Ext.isIE){return d(n);}else{top.location.hash=n;return true;}},back:function(){history.go(-1);},forward:function(){history.go(1);},getToken:function(){return g?l:b();}};})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.BLANK_IMAGE_URL="images/s.gif";Ext.layout.BorderLayout.WARN=false;Ext.layout.BorderLayout.Region.prototype.floatingZIndex=65000;Ext.WindowMgr.zseed=65000;xds=new Ext.util.Observable();xds.types={};xds.configs={};xds.addEvents("init","newcomponent");xds.create=function(b){var a=xds.Registry.get(b.cid);return new a(b);};xds.copy=function(c){var b={};if(!c){return b;}var a,e;for(var d in c){a=typeof c[d];e=c[d];if(a==="object"){if(Ext.isArray(e)){b[d]=e.slice(0);}else{b[d]=xds.copy(e);}}else{if(a!=="function"){b[d]=e;}}}return b;};xds.initConfigs=function(a,c){var b=c[a];c[a]=new Ext.util.MixedCollection(false,function(g){return g.name;});if(b){for(var e=0,d=b.length;e<d;e++){c[a].add(new xds.Config.types[b[e].ctype](b[e]));}}};if(!Array.prototype.contains){Array.prototype.contains=function(a){return this.indexOf(a)!==-1;};}(function(){var a=Ext.Component.prototype.afterRender;var b=null;Ext.Component.override({filmCls:"",infoCls:"",afterRender:function(){a.apply(this,arguments);if(this.viewerNode){this.createFilm();this.initDesigner();}},createFilm:function(){if(!b){b=Ext.getCmp("canvas");}if(b&&b.el&&b.el.contains(this.el)){var d=this.viewerNode;this.film=b.body.createChild({cls:"el-film x-unselectable "+d.component.filmCls,id:"film-for-"+d.id,style:"z-index: "+(50000+(d.getDepth()*100)),cn:[{tag:"b",cls:d.component.flyoutCls},{tag:"i",html:d.component.dock||d.text}]});this.film.enableDisplayMode();this.syncFilm();this.on("resize",this.syncFilm,this);this.on("destroy",this.destroyDesigner,this);}},onFilmClick:function(){xds.fireEvent("componentclick",{component:this.viewerNode.attributes.config,node:this.viewerNode});},syncFilm:function(){var e;if(this.film&&(e=this.getFilmEl())){var d=e.getRegion();this.film.setRegion(d);this.film.lastRegion=d;}},getFilmEl:function(){var d=this.getPositionEl();if(this.fieldLabel){return this.el.up(".x-form-item")||d;}return d;},destroyDesigner:function(){this.film.remove();},createFloater:function(e,d,g){this.film.createChild({cls:"xds-floater",cn:{cls:"xds-floater-left",cn:{cls:"xds-floater-right",cn:{cls:"xds-floater-center xds-child-target x-unselectable",id:"chld-for-"+e,cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,unselectable:"on",cls:g},{tag:"span",unselectable:"on",html:d}]}}}});},initDesigner:function(){}});var c=Ext.form.Field.prototype.initEvents;Ext.form.Field.prototype.initEvents=function(){c.apply(this,arguments);if(this.bindTo){var g=this.bindTo;var d=g.component.getConfigObject(g.name);var e=d.getValue(g.component);if(e===undefined){e=g.defaultValue||d.defaultValue;}this.setValue(g.get?g.get(this):e);this.on(g.event||"change",g.set||function(){var h=this.getValue();if(h===g.clear){h=undefined;}d.setValue(g.component,h);if(xds.active.component==g.component){xds.props.setValue(g.propId||g.name,h);}});}};})();Ext.tree.TreeNode.prototype.setNodeId=function(a){var c=this;this.id=a;this.attributes.id=a;if(this.component){this.component.id=a;}var b=this.getOwnerTree();if(b){delete b.nodeHash[c];b.nodeHash[a]=this;}};(function(){var a=Ext.lib.Event;var b=a.addListener;a.suspend=function(){a.addListener=a.on=Ext.emptyFn;};a.resume=function(){a.addListener=a.on=b;};})();Ext.menu.Menu2=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,hidden:true,constructor:function(a){if(Ext.isArray(a)){a={items:a};}Ext.apply(this,a);this.addEvents("beforeshow","beforehide","show","hide","click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);Ext.menu.Menu.superclass.constructor.call(this);},onRender:function(b,a){if(!b){b=Ext.getBody();}this.el=new Ext.Layer({shadow:this.shadow,dh:{id:this.getId(),cls:"x-menu x-layer "+(this.cls?(this.cls+""):"")+(this.plain?" x-menu-plain":""),cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]},constrain:false,parentEl:b,zindex:this.zIndex||15000});this.setLayout(new Ext.layout.ContainerLayout({renderItem:this.renderItem}));Ext.menu.Menu.superclass.onRender.apply(this,arguments);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this);}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.ul.on("click",this.onClick,this);this.ul.on("mouseover",this.onMouseOver,this);this.ul.on("mouseout",this.onMouseOut,this);},getLayoutTarget:function(){return this.ul;},renderItem:function(d,g,b){if(d&&!d.rendered){var e=document.createElement("li");e.className="x-menu-list-item";d.render(e,this.container);if(typeof g=="number"){g=b.dom.childNodes[g];}b.dom.insertBefore(e,g||null);if(this.extraCls){var a=d.getPositionEl?d.getPositionEl():d;a.addClass(this.extraCls);}}else{if(d&&!this.isValidParent(d,b)){if(this.extraCls){d.addClass(this.extraCls);}if(typeof g=="number"){g=b.dom.childNodes[g];}b.dom.insertBefore(d.getActionEl().dom,g||null);}}},autoWidth:function(){var b=this.el,a=this.ul;if(!b){return;}var c=this.width;if(c){b.setWidth(c);}else{if(Ext.isIE){b.setWidth(this.minWidth);var d=b.dom.offsetWidth;b.setWidth(a.getWidth()+b.getFrameWidth("lr"));}}},delayAutoWidth:function(){if(this.el){if(!this.awTask){this.awTask=new Ext.util.DelayedTask(this.autoWidth,this);}this.awTask.delay(20);}},findTargetItem:function(b){var a=b.getTarget(".x-menu-list-item",this.ul,true);if(a&&a.menuItemId){return this.items.get(a.menuItemId);}},onClick:function(b){var a;if(a=this.findTargetItem(b)){a.onClick(b);this.fireEvent("click",this,a,b);}},setActiveItem:function(a,b){if(a!=this.activeItem){if(this.activeItem){this.activeItem.deactivate();}this.activeItem=a;a.activate(b);}else{if(b){a.expandMenu();}}},tryActivate:function(c,b){var e=this.items;for(var g=c,d=e.length;g>=0&&g<d;g+=b){var a=e.get(g);if(!a.disabled&&a.canActivate){this.setActiveItem(a,false);return a;}}return false;},onMouseOver:function(b){var a;if(a=this.findTargetItem(b)){if(a.canActivate&&!a.disabled){this.setActiveItem(a,true);}}this.fireEvent("mouseover",this,b,a);},onMouseOut:function(b){var a;if(a=this.findTargetItem(b)){if(a==this.activeItem&&a.shouldDeactivate(b)){this.activeItem.deactivate();delete this.activeItem;}}this.fireEvent("mouseout",this,b,a);},show:function(c,a,b){this.parentMenu=b;if(!this.el){this.render();}this.fireEvent("beforeshow",this);this.showAt(this.el.getAlignToXY(c,a||this.defaultAlign),b,false);},showAt:function(a,c,b){this.parentMenu=c;if(!this.el){this.render();}if(b!==false){this.fireEvent("beforeshow",this);a=this.el.adjustForConstraints(a);}this.el.setXY(a);this.el.show();this.hidden=false;this.focus();this.fireEvent("show",this);},focus:function(){if(!this.hidden){this.doFocus.defer(50,this);}},doFocus:function(){if(!this.hidden){this.focusEl.focus();}},hide:function(a){if(this.el&&this.isVisible()){this.fireEvent("beforehide",this);if(this.activeItem){this.activeItem.deactivate();this.activeItem=null;}this.el.hide();this.hidden=true;this.fireEvent("hide",this);}if(a===true&&this.parentMenu){this.parentMenu.hide(true);}},add:function(){var c=arguments,b=c.length,g;for(var d=0;d<b;d++){var e=c[d];if(e.render){g=this.addItem(e);}else{if(typeof e=="string"){if(e=="separator"||e=="-"){g=this.addSeparator();}else{g=this.addText(e);}}else{if(e.tagName||e.el){g=this.addElement(e);}else{if(typeof e=="object"){Ext.applyIf(e,this.defaults);g=this.addMenuItem(e);}}}}}return g;},getEl:function(){if(!this.el){this.render();}return this.el;},addSeparator:function(){return this.addItem(new Ext.menu.Separator());},addElement:function(a){return this.addItem(new Ext.menu.BaseItem(a));},addItem:function(a){Ext.menu.Menu.superclass.add.call(this,a);if(this.rendered){this.doLayout();}return a;},addMenuItem:function(a){if(!(a instanceof Ext.menu.Item)){if(typeof a.checked=="boolean"){a=new Ext.menu.CheckItem(a);}else{a=new Ext.menu.Item(a);}}return this.addItem(a);},addText:function(a){return this.addItem(new Ext.menu.TextItem(a));},insert:function(a,b){Ext.menu.Menu.superclass.insert.apply(this,arguments);if(this.rendered){this.doLayout();}return b;},remove:function(a){Ext.menu.Menu.superclass.remove.call(this,a,true);if(this.rendered){this.doLayout();}},removeAll:function(){if(this.items){var a;while(a=this.items.first()){this.remove(a);}}},onDestroy:function(){Ext.menu.Menu.superclass.onDestroy.apply(this,arguments);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable();}if(this.ul){this.ul.removeAllListeners();}}});Ext.menu.MenuNav2=function(a){Ext.menu.MenuNav.superclass.constructor.call(this,a.el);this.scope=this.menu=a;};Ext.extend(Ext.menu.MenuNav2,Ext.KeyNav,{doRelay:function(a,c){var b=a.getKey();if(!this.menu.activeItem&&a.isNavKeyPress()&&b!=a.SPACE&&b!=a.RETURN){this.menu.tryActivate(0,1);return false;}return c.call(this.scope||this,a,this.menu);},up:function(b,a){if(!a.tryActivate(a.items.indexOf(a.activeItem)-1,-1)){a.tryActivate(a.items.length-1,-1);}},down:function(b,a){if(!a.tryActivate(a.items.indexOf(a.activeItem)+1,1)){a.tryActivate(0,1);}},right:function(b,a){if(a.activeItem){a.activeItem.expandMenu(true);}},left:function(b,a){a.hide();if(a.parentMenu&&a.parentMenu.activeItem){a.parentMenu.activeItem.activate();}},enter:function(b,a){if(a.activeItem){b.stopPropagation();a.activeItem.onClick(b);a.fireEvent("click",this,a.activeItem);return true;}}});Ext.grid.GridView.override({focusCell:function(a,b,c){this.syncFocusEl(this.ensureVisible(a,b,c));if(Ext.isGecko){this.focusEl.focus();}else{this.focusEl.focus.defer(1,this.focusEl);}},resolveCell:function(c,a,b){if(typeof c!="number"){c=c.rowIndex;}if(!this.ds){return null;}if(c<0||c>=this.ds.getCount()){return null;}a=(a!==undefined?a:0);var e=this.getRow(c),d;if(!(b===false&&a===0)){while(this.cm.isHidden(a)){a++;}d=this.getCell(c,a);}return{row:e,cell:d};},getResolvedXY:function(d){if(!d){return null;}var e=this.scroller.dom,b=d.cell,a=d.row;return b?Ext.fly(b).getXY():[e.scrollLeft+this.el.getX(),Ext.fly(a).getY()];},syncFocusEl:function(b,c,a){var d=b;if(!Ext.isArray(d)){b=Math.min(b,Math.max(0,this.getRows().length-1));d=this.getResolvedXY(this.resolveCell(b,c,a));}this.focusEl.setXY(d||this.scroller.getXY());},ensureVisible:function(q,b,a){var m=this.resolveCell(q,b,a);if(!m||!m.row){return;}var k=m.row,e=m.cell;var r=this.scroller.dom;var o=0;var u=k,d=this.el.dom;while(u&&u!=d){o+=u.offsetTop;u=u.offsetParent;}o-=this.mainHd.dom.offsetHeight;var i=o+k.offsetHeight;var s=r.clientHeight;var d=parseInt(r.scrollTop,10);var n=d+s;if(o<d){r.scrollTop=o;}else{if(i>n){r.scrollTop=i-s;}}if(a!==false){var l=parseInt(e.offsetLeft,10);var h=l+e.offsetWidth;var g=parseInt(r.scrollLeft,10);var t=g+r.clientWidth;if(l<g){r.scrollLeft=l;}else{if(h>t){r.scrollLeft=h-r.clientWidth;}}}return this.getResolvedXY(m);}});