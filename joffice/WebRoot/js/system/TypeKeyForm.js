TypeKeyForm=Ext.extend(Ext.Window,{formPanel:null,constructor:function(b){Ext.applyIf(this,b);this.initUIComponents();TypeKeyForm.superclass.constructor.call(this,{id:"TypeKeyFormWin",layout:"fit",items:this.formPanel,modal:true,height:200,width:400,maximizable:true,title:"分类详细信息",buttonAlign:"center",buttons:this.buttons});},initUIComponents:function(){this.formPanel=new HT.FormPanel({layout:"form",bodyStyle:"padding:10px 10px 10px 10px",border:false,url:__ctxPath+"/system/saveTypeKey.do",id:"TypeKeyForm",defaults:{anchor:"98%,98%"},defaultType:"textfield",items:[{name:"typeKey.typekeyId",xtype:"hidden",value:this.typekeyId==null?"":this.typekeyId},{fieldLabel:"类型名",name:"typeKey.typeName"},{fieldLabel:"类型KEY",name:"typeKey.typeKey"},{fieldLabel:"",name:"typeKey.sn",xtype:"hidden",value:1}]});if(this.typekeyId!=null&&this.typekeyId!="undefined"){this.formPanel.loadData({url:__ctxPath+"/system/getTypeKey.do?typekeyId="+this.typekeyId,preName:"TypeKey",root:"data"});}this.buttons=[{text:"保存",iconCls:"btn-save",handler:this.save.createCallback(this.formPanel,this)},{text:"取消",iconCls:"btn-cancel",handler:this.cancel.createCallback(this)}];},cancel:function(b){b.close();},save:function(d,c){if(d.getForm().isValid()){d.getForm().submit({method:"POST",waitMsg:"正在提交数据...",success:function(f,a){Ext.ux.Toast.msg("操作信息","成功保存信息！");var b=Ext.getCmp("comboGlobalType");if(b!=null){b.getStore().reload();}c.close();},failure:function(b,a){Ext.MessageBox.show({title:"操作信息",msg:"信息保存出错，请联系管理员！",buttons:Ext.MessageBox.OK,icon:Ext.MessageBox.ERROR});c.close();}});}}});