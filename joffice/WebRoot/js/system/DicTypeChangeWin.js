DicTypeChangeWin=Ext.extend(Ext.Window,{constructor:function(b){DicTypeChangeWin.superclass.constructor.call(this,{modal:true,width:400,height:100,layout:"form",title:"数据字典分类转移",bodyStyle:"padding:5px",items:[{id:"dicTypeId",name:"dicTypeId",xtype:"hidden",value:""},{fieldLabel:"选择将转为的分类",valId:"dicTypeId",url:__ctxPath+"/system/treeGlobalType.do?catKey=DIC",allowBlank:false,xtype:"treecombo"}],buttonAlign:"center",buttons:[{text:"保存",iconCls:"btn-save",scope:this,handler:function(){var a=Ext.getCmp("dicTypeId");var d=a.getValue();if(d==""||d==0){Ext.ux.Toast.msg("操作信息","请选择将要转化的分类!");return;}Ext.Ajax.request({scope:this,url:__ctxPath+"/system/typeChangeDictionary.do",params:{dicIds:b.dicIds,dicTypeId:d},method:"POST",success:function(f,c){Ext.ux.Toast.msg("操作信息","操作成功！");if(b.callback){b.callback.call(this);}this.close();},failure:function(f,c){Ext.ux.Toast.msg("操作信息","操作出错，请联系管理员！");this.close();}});}},{text:"关闭",iconCls:"btn-close",scope:this,handler:function(){this.close();}}]});}});