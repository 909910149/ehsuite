var FlowManagerView=function(){return this.getView();};FlowManagerView.prototype.getView=function(){var g;var e=new ProDefinitionView(true);var h=new Ext.Panel({layout:"fit",region:"west",collapsible:true,split:true,width:200,title:"流程分类树",items:[new htsoft.ux.TreePanelEditor({id:"FlowProTypeTree",border:false,autoScroll:true,url:__ctxPath+"/system/flowTreeGlobalType.do?catKey=FLOW",onclick:function(a){e.setTypeId(a.id);var b=Ext.getCmp("ProDefinitionGrid");b.getStore().proxy.conn.url=__ctxPath+"/flow/listProDefinition.do?typeId="+a.id;b.getStore().load({params:{start:0,limit:25}});},contextMenuItems:[{text:"新建分类",scope:this,iconCls:"btn-add",handler:function(){var d=Ext.getCmp("FlowProTypeTree");var a=d.selectedNode.id;var c="FLOW";var b=new GlobalTypeForm({parentId:a,catKey:c,callback:function(){Ext.getCmp("FlowProTypeTree").root.reload();}});b.show();}},{text:"修改分类",scope:this,iconCls:"btn-edit",handler:function(){var b=Ext.getCmp("FlowProTypeTree");var c=b.selectedNode.id;var a=new GlobalTypeForm({proTypeId:c,callback:function(){Ext.getCmp("FlowProTypeTree").root.reload();}});a.show();}},{text:"设置权限",scope:this,iconCls:"btn-shared",handler:function(){var a=Ext.getCmp("FlowProTypeTree");var b=a.selectedNode.id;if(b!=0){new ProDefRightsForm({proTypeId:b}).show();}}}]})]});var f=new Ext.Panel({title:"流程管理",layout:"border",iconCls:"menu-flowManager",id:"FlowManagerView",height:800,items:[h,e.getView()]});return f;};