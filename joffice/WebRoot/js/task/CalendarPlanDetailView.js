var CalendarPlanDetailView=function(f){this.planId=f;var d=new Ext.Panel({autoHeight:true,autoWidth:true,border:false,autoLoad:{url:__ctxPath+"/pages/task/calendarplandetail.jsp?planId="+f}});var e=new Ext.Window({title:"任务信息",iconCls:"menu-cal-plan",id:"CalendarPlanDetailView",width:560,height:350,modal:true,autoScroll:true,layout:"form",buttonAlign:"center",items:[d],buttons:[{text:"关闭",iconCls:"btn-cancel",handler:function(){e.close();}}]});$request({url:__ctxPath+"/task/getCalendarPlan.do?planId="+f,method:"post",success:function(a,c){var h=Ext.util.JSON.decode(a.responseText);var b=h.data;if(b.status=="0"){e.addButton(new Ext.Button({text:"完成任务",iconCls:"btn-save",handler:function(){new CalendarPlanFinishForm(f);}}));e.doLayout();}e.show();},failure:function(b,a){e.show();}});};